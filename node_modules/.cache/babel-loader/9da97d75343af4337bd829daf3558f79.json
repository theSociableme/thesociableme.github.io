{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mark.wagner/Dropbox/projects/quic.finance/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mark.wagner/Dropbox/projects/quic.finance/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mark.wagner/Dropbox/projects/quic.finance/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useCallback,useEffect,useState}from'react';import{BigNumber}from'bignumber.js';import{useWallet}from'use-wallet';import{getWethPrice,getQuicPrice}from'../quic/utils';import useLockedEarnings from'./useLockedEarnings';import useQuic from'./useQuic';var useSubValues=function useSubValues(){var _useWallet=useWallet(),account=_useWallet.account;var quic=useQuic();//const wethPriceContract = getWethPriceContract(quic)\n//const quicPriceContract = getQuicPriceContract(quic)\nvar locks=useLockedEarnings();var _useState=useState(new String()),_useState2=_slicedToArray(_useState,2),usrSubText=_useState2[0],setUsrSubText=_useState2[1];var _useState3=useState(new BigNumber(0)),_useState4=_slicedToArray(_useState3,2),quicPrices=_useState4[0],setQuicPrices=_useState4[1];var _useState5=useState(new BigNumber(0)),_useState6=_slicedToArray(_useState5,2),wethPrices=_useState6[0],setWethPrices=_useState6[1];var getInfo=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var wethPriceFun;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(quic){wethPriceFun=getWethPrice(quic).then(function(response){setWethPrices(response);var quicPriceFun=getQuicPrice(quic).then(function(response){setQuicPrices(response);var currentRate=wethPrices.dividedBy(100000000).dividedBy(quicPrices);var userValue=currentRate.multipliedBy(locks.dividedBy(1000000000000000000));var dailyPrice=userValue.dividedBy(1095).toFormat(2);console.log(dailyPrice+' dailyPrice');console.log(wethPrices+' wethprice');console.log(quicPrices+' quicPrice');var annualPrice=userValue.dividedBy(3).toFormat(2);console.log(annualPrice+' annual');var wethText=userValue.toFormat(2);var usrSubText='When this unlocks it will earn you $'+dailyPrice+' per day for 3 years. The equivalent of $'+annualPrice+' per year!';setUsrSubText(usrSubText);});});}case 1:case\"end\":return _context.stop();}}},_callee);})),[locks,usrSubText]);useEffect(function(){if(account&&quic){getInfo();}},[account,quic,locks,usrSubText]);return usrSubText.toString();};export default useSubValues;","map":null,"metadata":{},"sourceType":"module"}