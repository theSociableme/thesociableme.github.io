{"ast":null,"code":"var _jsxFileName = \"/Users/mark.wagner/Dropbox/projects/quic.finance/client/src/views/Home/components/Balances.tsx\";\nimport BigNumber from 'bignumber.js';\nimport React, { useEffect, useState, Fragment } from 'react';\nimport CountUp from 'react-countup';\nimport styled from 'styled-components';\nimport { useWallet } from 'use-wallet';\nimport Card from '../../../components/Card';\nimport CardContent from '../../../components/CardContent';\nimport Label from '../../../components/Label';\nimport Spacer from '../../../components/Spacer';\nimport Value from '../../../components/Value';\nimport QuicIcon from '../../../components/QuicIcon';\nimport useAllEarnings from '../../../hooks/useAllEarnings';\nimport useAllStakedValue from '../../../hooks/useAllStakedValue';\nimport useFarms from '../../../hooks/useFarms';\nimport useTokenBalance from '../../../hooks/useTokenBalance';\nimport useQuic from '../../../hooks/useQuic';\nimport { getQuicAddress, getQuicSupply, getReferrals, getMasterChefContract } from '../../../quic/utils';\nimport { getBalanceNumber } from '../../../utils/formatBalance';\n\nconst PendingRewards = () => {\n  const [start, setStart] = useState(0);\n  const [end, setEnd] = useState(0);\n  const [scale, setScale] = useState(1);\n  const allEarnings = useAllEarnings();\n  let sumEarning = 0;\n\n  for (const earning of allEarnings) {\n    sumEarning += new BigNumber(earning).div(new BigNumber(10).pow(18)).toNumber();\n  }\n\n  const [farms] = useFarms();\n  const allStakedValue = useAllStakedValue();\n\n  if (allStakedValue && allStakedValue.length) {\n    const sumWeth = farms.reduce((c, {\n      id\n    }, i) => c + (allStakedValue[i].totalWethValue.toNumber() || 0), 0);\n  }\n\n  useEffect(() => {\n    setStart(end);\n    setEnd(sumEarning);\n  }, [sumEarning]);\n  return /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      transform: `scale(${scale})`,\n      transformOrigin: 'right bottom',\n      transition: 'transform 0.5s',\n      display: 'inline-block'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(CountUp, {\n    start: start,\n    end: end,\n    decimals: end < 0 ? 4 : end > 1e5 ? 0 : 3,\n    duration: 1,\n    onStart: () => {\n      setScale(1.25);\n      setTimeout(() => setScale(1), 600);\n    },\n    separator: \",\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }\n  }));\n};\n\nconst Balances = () => {\n  const [totalSupply, setTotalSupply] = useState();\n  const [totalReferrals, setTotalReferrals] = useState();\n  const [refLink, setRefLink] = useState();\n  const quic = useQuic();\n  const quicBalance = useTokenBalance(getQuicAddress(quic));\n  const masterChefContract = getMasterChefContract(quic);\n  const {\n    account,\n    ethereum\n  } = useWallet();\n  useEffect(() => {\n    async function fetchTotalSupply() {\n      const supply = await getQuicSupply(quic);\n      setTotalSupply(supply);\n    }\n\n    if (quic) {\n      fetchTotalSupply();\n    }\n  }, [quic, setTotalSupply]);\n  useEffect(() => {\n    async function fetchTotalReferrals() {\n      const referrals = await getReferrals(masterChefContract, account);\n      setTotalReferrals(referrals);\n    }\n\n    if (quic) {\n      fetchTotalReferrals();\n    }\n  }, [quic, setTotalReferrals]);\n  useEffect(() => {\n    async function fetchRefLink() {\n      const usrReflink = 'www.bao.finance?ref=' + account;\n      setRefLink(usrReflink);\n    }\n\n    if (bao) {\n      fetchRefLink();\n    }\n  }, [bao, setRefLink]);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(StyledWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(StyledBalances, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StyledBalance, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(QuicIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Spacer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    text: \"Your BAO Balance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(Value, {\n    value: account ? getBalanceNumber(baoBalance) : 'Locked',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 10\n    }\n  }))))), /*#__PURE__*/React.createElement(Footnote, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 6\n    }\n  }, \"Pending harvest\", /*#__PURE__*/React.createElement(FootnoteValue, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PendingRewards, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 8\n    }\n  }), \" BAO\"))), /*#__PURE__*/React.createElement(Spacer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    text: \"Total BAO Supply\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Value, {\n    value: totalSupply ? getBalanceNumber(totalSupply) : 'Locked',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Footnote, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 6\n    }\n  }, \"New rewards per block\", /*#__PURE__*/React.createElement(FootnoteValue, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }, \"250 BAO\")))), /*#__PURE__*/React.createElement(Spacer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Spacer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(StyledWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    text: \"Your Referral Link: \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    text: account ? refLink : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    text: \" Your Referrals: \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    text: account ? totalReferrals : 'Referrals',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Footnote, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 6\n    }\n  }, \"Earn future rewards from referrals\", /*#__PURE__*/React.createElement(FootnoteValue, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  })))));\n};\n\nconst Footnote = styled.div`\n\tfont-size: 14px;\n\tpadding: 8px 20px;\n\tcolor: ${props => props.theme.color.grey[400]};\n\tborder-top: solid 1px ${props => props.theme.color.grey[300]};\n`;\nconst FootnoteValue = styled.div`\n\tfont-family: 'Roboto Mono', monospace;\n\tfloat: right;\n`;\nconst StyledWrapper = styled.div`\n\talign-items: center;\n\tdisplay: flex;\n\t@media (max-width: 768px) {\n\t\twidth: 100%;\n\t\tflex-flow: column nowrap;\n\t\talign-items: stretch;\n\t}\n`;\nconst StyledBalances = styled.div`\n\tdisplay: flex;\n`;\nconst StyledBalance = styled.div`\n\talign-items: center;\n\tdisplay: flex;\n\tflex: 1;\n`;\nexport default Balances;","map":{"version":3,"sources":["/Users/mark.wagner/Dropbox/projects/quic.finance/client/src/views/Home/components/Balances.tsx"],"names":["BigNumber","React","useEffect","useState","Fragment","CountUp","styled","useWallet","Card","CardContent","Label","Spacer","Value","QuicIcon","useAllEarnings","useAllStakedValue","useFarms","useTokenBalance","useQuic","getQuicAddress","getQuicSupply","getReferrals","getMasterChefContract","getBalanceNumber","PendingRewards","start","setStart","end","setEnd","scale","setScale","allEarnings","sumEarning","earning","div","pow","toNumber","farms","allStakedValue","length","sumWeth","reduce","c","id","i","totalWethValue","transform","transformOrigin","transition","display","setTimeout","Balances","totalSupply","setTotalSupply","totalReferrals","setTotalReferrals","refLink","setRefLink","quic","quicBalance","masterChefContract","account","ethereum","fetchTotalSupply","supply","fetchTotalReferrals","referrals","fetchRefLink","usrReflink","bao","flex","baoBalance","Footnote","props","theme","color","grey","FootnoteValue","StyledWrapper","StyledBalances","StyledBalance"],"mappings":"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","sourcesContent":["import BigNumber from 'bignumber.js'\nimport React, { useEffect, useState, Fragment } from 'react'\nimport CountUp from 'react-countup'\nimport styled from 'styled-components'\nimport { useWallet } from 'use-wallet'\nimport Card from '../../../components/Card'\nimport CardContent from '../../../components/CardContent'\nimport Label from '../../../components/Label'\nimport Spacer from '../../../components/Spacer'\nimport Value from '../../../components/Value'\nimport QuicIcon from '../../../components/QuicIcon'\nimport useAllEarnings from '../../../hooks/useAllEarnings'\nimport useAllStakedValue from '../../../hooks/useAllStakedValue'\nimport useFarms from '../../../hooks/useFarms'\nimport useTokenBalance from '../../../hooks/useTokenBalance'\nimport useQuic from '../../../hooks/useQuic'\nimport {\n\tgetQuicAddress,\n\tgetQuicSupply,\n\tgetReferrals,\n\tgetMasterChefContract,\n} from '../../../quic/utils'\nimport { getBalanceNumber } from '../../../utils/formatBalance'\n\nconst PendingRewards: React.FC = () => {\n\tconst [start, setStart] = useState(0)\n\tconst [end, setEnd] = useState(0)\n\tconst [scale, setScale] = useState(1)\n\n\tconst allEarnings = useAllEarnings()\n\tlet sumEarning = 0\n\tfor (const earning of allEarnings) {\n\t\tsumEarning += new BigNumber(earning)\n\t\t\t.div(new BigNumber(10).pow(18))\n\t\t\t.toNumber()\n\t}\n\n\tconst [farms] = useFarms()\n\tconst allStakedValue = useAllStakedValue()\n\n\tif (allStakedValue && allStakedValue.length) {\n\t\tconst sumWeth = farms.reduce(\n\t\t\t(c, { id }, i) => c + (allStakedValue[i].totalWethValue.toNumber() || 0),\n\t\t\t0,\n\t\t)\n\t}\n\n\tuseEffect(() => {\n\t\tsetStart(end)\n\t\tsetEnd(sumEarning)\n\t}, [sumEarning])\n\n\treturn (\n\t\t<span\n\t\t\tstyle={{\n\t\t\t\ttransform: `scale(${scale})`,\n\t\t\t\ttransformOrigin: 'right bottom',\n\t\t\t\ttransition: 'transform 0.5s',\n\t\t\t\tdisplay: 'inline-block',\n\t\t\t}}\n\t\t>\n\t\t\t<CountUp\n\t\t\t\tstart={start}\n\t\t\t\tend={end}\n\t\t\t\tdecimals={end < 0 ? 4 : end > 1e5 ? 0 : 3}\n\t\t\t\tduration={1}\n\t\t\t\tonStart={() => {\n\t\t\t\t\tsetScale(1.25)\n\t\t\t\t\tsetTimeout(() => setScale(1), 600)\n\t\t\t\t}}\n\t\t\t\tseparator=\",\"\n\t\t\t/>\n\t\t</span>\n\t)\n}\n\nconst Balances: React.FC = () => {\n\tconst [totalSupply, setTotalSupply] = useState<BigNumber>()\n\tconst [totalReferrals, setTotalReferrals] = useState<string>()\n\tconst [refLink, setRefLink] = useState<string>()\n\tconst quic = useQuic()\n\tconst quicBalance = useTokenBalance(getQuicAddress(quic))\n\tconst masterChefContract = getMasterChefContract(quic)\n\tconst { account, ethereum }: { account: any; ethereum: any } = useWallet()\n\n\tuseEffect(() => {\n\t\tasync function fetchTotalSupply() {\n\t\t\tconst supply = await getQuicSupply(quic)\n\t\t\tsetTotalSupply(supply)\n\t\t}\n\t\tif (quic) {\n\t\t\tfetchTotalSupply()\n\t\t}\n\t}, [quic, setTotalSupply])\n\n\tuseEffect(() => {\n\t\tasync function fetchTotalReferrals() {\n\t\t\tconst referrals = await getReferrals(masterChefContract, account)\n\t\t\tsetTotalReferrals(referrals)\n\t\t}\n\t\tif (quic) {\n\t\t\tfetchTotalReferrals()\n\t\t}\n\t}, [quic, setTotalReferrals])\n\n\tuseEffect(() => {\n\t\tasync function fetchRefLink() {\n\t\t\tconst usrReflink = 'www.bao.finance?ref=' + account\n\t\t\tsetRefLink(usrReflink)\n\t\t}\n\t\tif (bao) {\n\t\t\tfetchRefLink()\n\t\t}\n\t}, [bao, setRefLink])\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<StyledWrapper>\n\t\t\t\t<Card>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<StyledBalances>\n\t\t\t\t\t\t\t<StyledBalance>\n\t\t\t\t\t\t\t\t<QuicIcon />\n\t\t\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t\t\t<div style={{ flex: 1 }}>\n\t\t\t\t\t\t\t\t\t<Label text=\"Your BAO Balance\" />\n\t\t\t\t\t\t\t\t\t<Value\n\t\t\t\t\t\t\t\t\t\tvalue={account ? getBalanceNumber(baoBalance) : 'Locked'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</StyledBalance>\n\t\t\t\t\t\t</StyledBalances>\n\t\t\t\t\t</CardContent>\n\t\t\t\t\t<Footnote>\n\t\t\t\t\t\tPending harvest\n\t\t\t\t\t\t<FootnoteValue>\n\t\t\t\t\t\t\t<PendingRewards /> BAO\n\t\t\t\t\t\t</FootnoteValue>\n\t\t\t\t\t</Footnote>\n\t\t\t\t</Card>\n\t\t\t\t<Spacer />\n\n\t\t\t\t<Card>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<Label text=\"Total BAO Supply\" />\n\t\t\t\t\t\t<Value\n\t\t\t\t\t\t\tvalue={totalSupply ? getBalanceNumber(totalSupply) : 'Locked'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</CardContent>\n\t\t\t\t\t<Footnote>\n\t\t\t\t\t\tNew rewards per block\n\t\t\t\t\t\t<FootnoteValue>250 BAO</FootnoteValue>\n\t\t\t\t\t</Footnote>\n\t\t\t\t</Card>\n\t\t\t</StyledWrapper>\n\t\t\t<Spacer />\n\t\t\t<Spacer />\n\t\t\t<StyledWrapper>\n\t\t\t\t<Card>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\ttext=\"Your Referral Link:\n\t\t  \"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Label text={account ? refLink : ''} />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\ttext=\"\n\t\t  Your Referrals:\n\t\t  \"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Label text={account ? totalReferrals : 'Referrals'} />\n\t\t\t\t\t</CardContent>\n\t\t\t\t\t<Footnote>\n\t\t\t\t\t\tEarn future rewards from referrals\n\t\t\t\t\t\t<FootnoteValue></FootnoteValue>\n\t\t\t\t\t</Footnote>\n\t\t\t\t</Card>\n\t\t\t</StyledWrapper>\n\t\t</Fragment>\n\t)\n}\n\nconst Footnote = styled.div`\n\tfont-size: 14px;\n\tpadding: 8px 20px;\n\tcolor: ${(props) => props.theme.color.grey[400]};\n\tborder-top: solid 1px ${(props) => props.theme.color.grey[300]};\n`\nconst FootnoteValue = styled.div`\n\tfont-family: 'Roboto Mono', monospace;\n\tfloat: right;\n`\n\nconst StyledWrapper = styled.div`\n\talign-items: center;\n\tdisplay: flex;\n\t@media (max-width: 768px) {\n\t\twidth: 100%;\n\t\tflex-flow: column nowrap;\n\t\talign-items: stretch;\n\t}\n`\n\nconst StyledBalances = styled.div`\n\tdisplay: flex;\n`\n\nconst StyledBalance = styled.div`\n\talign-items: center;\n\tdisplay: flex;\n\tflex: 1;\n`\n\nexport default Balances\n"]},"metadata":{},"sourceType":"module"}