{"ast":null,"code":"import { r as e, h as t, d as n, e as r } from \"./index-d3bd4678.js\";\nimport \"react\";\nimport \"@aragon/provided-connector\";\nimport \"events\";\nimport \"buffer\";\nimport \"./_crypto_commonjs-external-1a228943.js\";\nimport { e as o, E as i, a, m as s, b as c, j as u, d, S as l, w as h, s as f, p, c as g } from \"./subscriptionManager-0493518a.js\";\nimport \"stream\";\nimport \"string_decoder\";\nimport { r as m } from \"./_util_commonjs-external-6c254708.js\";\nimport \"crypto\";\nimport \"assert\";\nimport \"util\";\nimport { r as v } from \"./index-77f376c4.js\";\nconst y = e.EventEmitter,\n      w = m.inherits;\nvar b = _;\n\nfunction _() {\n  y.call(this), this.isLocked = !0;\n}\n\nw(_, y), _.prototype.go = function () {\n  this.isLocked = !1, this.emit(\"unlock\");\n}, _.prototype.stop = function () {\n  this.isLocked = !0, this.emit(\"lock\");\n}, _.prototype.await = function (e) {\n  const t = this;\n  t.isLocked ? t.once(\"unlock\", e) : setTimeout(e);\n};\n\nvar k = function (e) {\n  var t = E(e);\n  if (t >= e.params.length) return null;\n  return e.params[t];\n};\n\nfunction E(e) {\n  switch (e.method) {\n    case \"eth_getStorageAt\":\n      return 2;\n\n    case \"eth_getBalance\":\n    case \"eth_getCode\":\n    case \"eth_getTransactionCount\":\n    case \"eth_call\":\n    case \"eth_estimateGas\":\n      return 1;\n\n    case \"eth_getBlockByNumber\":\n      return 0;\n\n    default:\n      return;\n  }\n}\n\nvar T = function () {\n  var e = new Date().getTime() * Math.pow(10, 3),\n      t = Math.floor(Math.random() * Math.pow(10, 3));\n  return e + t;\n};\n\nvar P = function (e) {\n  return o({\n    id: T(),\n    jsonrpc: \"2.0\",\n    params: []\n  }, e);\n};\n\nconst R = e.EventEmitter,\n      x = m.inherits,\n      C = function () {};\n\nvar S = B;\n\nfunction B(e) {\n  R.call(this), this.setMaxListeners(30), e = e || {};\n  const t = {\n    sendAsync: this._handleAsync.bind(this)\n  },\n        n = e.blockTrackerProvider || t;\n  this._blockTracker = e.blockTracker || new i({\n    provider: n,\n    pollingInterval: e.pollingInterval || 4e3,\n    setSkipCacheFlag: !0\n  }), this._ready = new b(), this.currentBlock = null, this._providers = [];\n}\n\nx(B, R), Object.defineProperty(B, \"name\", {\n  value: \"HttpProvider\"\n}), B.prototype.start = function (e = C) {\n  const t = this;\n  t._ready.go(), t._blockTracker.on(\"latest\", e => {\n    t._getBlockByNumber(e, (e, n) => {\n      if (e) return void this.emit(\"error\", e);\n      if (!n) return;\n      const r = (o = n, {\n        number: a.toBuffer(o.number),\n        hash: a.toBuffer(o.hash),\n        parentHash: a.toBuffer(o.parentHash),\n        nonce: a.toBuffer(o.nonce),\n        mixHash: a.toBuffer(o.mixHash),\n        sha3Uncles: a.toBuffer(o.sha3Uncles),\n        logsBloom: a.toBuffer(o.logsBloom),\n        transactionsRoot: a.toBuffer(o.transactionsRoot),\n        stateRoot: a.toBuffer(o.stateRoot),\n        receiptsRoot: a.toBuffer(o.receiptRoot || o.receiptsRoot),\n        miner: a.toBuffer(o.miner),\n        difficulty: a.toBuffer(o.difficulty),\n        totalDifficulty: a.toBuffer(o.totalDifficulty),\n        size: a.toBuffer(o.size),\n        extraData: a.toBuffer(o.extraData),\n        gasLimit: a.toBuffer(o.gasLimit),\n        gasUsed: a.toBuffer(o.gasUsed),\n        timestamp: a.toBuffer(o.timestamp),\n        transactions: o.transactions\n      });\n      var o;\n      t._setCurrentBlock(r), t.emit(\"rawBlock\", n), t.emit(\"latest\", n);\n    });\n  }), t._blockTracker.on(\"sync\", t.emit.bind(t, \"sync\")), t._blockTracker.on(\"error\", t.emit.bind(t, \"error\")), t._running = !0, t.emit(\"start\");\n}, B.prototype.stop = function () {\n  this._blockTracker.removeAllListeners(), this._running = !1, this.emit(\"stop\");\n}, B.prototype.isRunning = function () {\n  return this._running;\n}, B.prototype.addProvider = function (e, t) {\n  const n = this;\n  \"number\" == typeof t ? n._providers.splice(t, 0, e) : n._providers.push(e), e.setEngine(this);\n}, B.prototype.removeProvider = function (e) {\n  const t = this._providers.indexOf(e);\n\n  if (t < 0) throw new Error(\"Provider not found.\");\n\n  this._providers.splice(t, 1);\n}, B.prototype.send = function (e) {\n  throw new Error(\"Web3ProviderEngine does not support synchronous requests.\");\n}, B.prototype.sendAsync = function (e, t) {\n  const n = this;\n\n  n._ready.await(function () {\n    Array.isArray(e) ? s(e, n._handleAsync.bind(n), t) : n._handleAsync(e, t);\n  });\n}, B.prototype._getBlockByNumber = function (e, t) {\n  const n = P({\n    method: \"eth_getBlockByNumber\",\n    params: [e, !1],\n    skipCache: !0\n  });\n\n  this._handleAsync(n, (e, n) => e ? t(e) : t(null, n.result));\n}, B.prototype._handleAsync = function (e, t) {\n  var n = this,\n      r = -1,\n      o = null,\n      i = null,\n      a = [];\n\n  function s(n, r) {\n    i = n, o = r, c(a, function (e, t) {\n      e ? e(i, o, t) : t();\n    }, function () {\n      var n = {\n        id: e.id,\n        jsonrpc: e.jsonrpc,\n        result: o\n      };\n      null != i ? (n.error = {\n        message: i.stack || i.message || i,\n        code: -32e3\n      }, t(i, n)) : t(null, n);\n    });\n  }\n\n  !function t(o) {\n    if (r += 1, a.unshift(o), r >= n._providers.length) s(new Error('Request for method \"' + e.method + '\" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try {\n      n._providers[r].handleRequest(e, t, s);\n    } catch (e) {\n      s(e);\n    }\n  }();\n}, B.prototype._setCurrentBlock = function (e) {\n  this.currentBlock = e, this.emit(\"block\", e);\n};\nvar N = A;\n\nfunction A() {}\n\nA.prototype.setEngine = function (e) {\n  const t = this;\n  t.engine || (t.engine = e, e.on(\"block\", function (e) {\n    t.currentBlock = e;\n  }), e.on(\"start\", function () {\n    t.start();\n  }), e.on(\"stop\", function () {\n    t.stop();\n  }));\n}, A.prototype.handleRequest = function (e, t, n) {\n  throw new Error(\"Subproviders should override `handleRequest`.\");\n}, A.prototype.emitPayload = function (e, t) {\n  this.engine.sendAsync(P(e), t);\n}, A.prototype.stop = function () {}, A.prototype.start = function () {};\nvar I = class extends N {\n  constructor(e) {\n    if (super(), !e) throw new Error(\"JsonRpcEngineMiddlewareSubprovider - no constructorFn specified\");\n    this._constructorFn = e;\n  }\n\n  setEngine(e) {\n    if (this.middleware) throw new Error(\"JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice\");\n\n    const t = e._blockTracker,\n          n = this._constructorFn({\n      engine: e,\n      provider: e,\n      blockTracker: t\n    });\n\n    if (!n) throw new Error(\"JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware\");\n    if (\"function\" != typeof n) throw new Error(\"JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function\");\n    this.middleware = n;\n  }\n\n  handleRequest(e, t, n) {\n    const r = {\n      id: e.id\n    };\n    this.middleware(e, r, function (e) {\n      t((t, n, o) => {\n        t ? (delete r.result, r.error = {\n          message: t.message || t\n        }) : r.result = n, e ? e(o) : o();\n      });\n    }, function (e) {\n      if (e) return n(e);\n      n(null, r.result);\n    });\n  }\n\n},\n    D = {\n  cacheIdentifierForPayload: function (e, t) {\n    const n = t ? L(e) : e.params;\n    return O(e) ? e.method + \":\" + v(n) : null;\n  },\n  canCache: O,\n  blockTagForPayload: function (e) {\n    let t = M(e);\n    if (t >= e.params.length) return null;\n    return e.params[t];\n  },\n  paramsWithoutBlockTag: L,\n  blockTagParamIndex: M,\n  cacheTypeForPayload: G\n};\n\nfunction O(e) {\n  return \"never\" !== G(e);\n}\n\nfunction L(e) {\n  const t = M(e);\n  return t >= e.params.length ? e.params : \"eth_getBlockByNumber\" === e.method ? e.params.slice(1) : e.params.slice(0, t);\n}\n\nfunction M(e) {\n  switch (e.method) {\n    case \"eth_getStorageAt\":\n      return 2;\n\n    case \"eth_getBalance\":\n    case \"eth_getCode\":\n    case \"eth_getTransactionCount\":\n    case \"eth_call\":\n      return 1;\n\n    case \"eth_getBlockByNumber\":\n      return 0;\n\n    default:\n      return;\n  }\n}\n\nfunction G(e) {\n  switch (e.method) {\n    case \"web3_clientVersion\":\n    case \"web3_sha3\":\n    case \"eth_protocolVersion\":\n    case \"eth_getBlockTransactionCountByHash\":\n    case \"eth_getUncleCountByBlockHash\":\n    case \"eth_getCode\":\n    case \"eth_getBlockByHash\":\n    case \"eth_getTransactionByHash\":\n    case \"eth_getTransactionByBlockHashAndIndex\":\n    case \"eth_getTransactionReceipt\":\n    case \"eth_getUncleByBlockHashAndIndex\":\n    case \"eth_getCompilers\":\n    case \"eth_compileLLL\":\n    case \"eth_compileSolidity\":\n    case \"eth_compileSerpent\":\n    case \"shh_version\":\n    case \"test_permaCache\":\n      return \"perma\";\n\n    case \"eth_getBlockByNumber\":\n    case \"eth_getBlockTransactionCountByNumber\":\n    case \"eth_getUncleCountByBlockNumber\":\n    case \"eth_getTransactionByBlockNumberAndIndex\":\n    case \"eth_getUncleByBlockNumberAndIndex\":\n    case \"test_forkCache\":\n      return \"fork\";\n\n    case \"eth_gasPrice\":\n    case \"eth_blockNumber\":\n    case \"eth_getBalance\":\n    case \"eth_getStorageAt\":\n    case \"eth_getTransactionCount\":\n    case \"eth_call\":\n    case \"eth_estimateGas\":\n    case \"eth_getFilterLogs\":\n    case \"eth_getLogs\":\n    case \"test_blockCache\":\n      return \"block\";\n\n    case \"net_version\":\n    case \"net_peerCount\":\n    case \"net_listening\":\n    case \"eth_syncing\":\n    case \"eth_sign\":\n    case \"eth_coinbase\":\n    case \"eth_mining\":\n    case \"eth_hashrate\":\n    case \"eth_accounts\":\n    case \"eth_sendTransaction\":\n    case \"eth_sendRawTransaction\":\n    case \"eth_newFilter\":\n    case \"eth_newBlockFilter\":\n    case \"eth_newPendingTransactionFilter\":\n    case \"eth_uninstallFilter\":\n    case \"eth_getFilterChanges\":\n    case \"eth_getWork\":\n    case \"eth_submitWork\":\n    case \"eth_submitHashrate\":\n    case \"db_putString\":\n    case \"db_getString\":\n    case \"db_putHex\":\n    case \"db_getHex\":\n    case \"shh_post\":\n    case \"shh_newIdentity\":\n    case \"shh_hasIdentity\":\n    case \"shh_newGroup\":\n    case \"shh_addToGroup\":\n    case \"shh_newFilter\":\n    case \"shh_uninstallFilter\":\n    case \"shh_getFilterChanges\":\n    case \"shh_getMessages\":\n    case \"test_neverCache\":\n      return \"never\";\n  }\n}\n\nconst F = [void 0, null, \"<nil>\"];\n\nvar U = function (e = {}) {\n  const {\n    blockTracker: t\n  } = e;\n  if (!t) throw new Error(\"createBlockCacheMiddleware - No BlockTracker specified\");\n  const n = new q(),\n        r = {\n    perma: n,\n    block: n,\n    fork: n\n  };\n  return u(async (e, o, i) => {\n    if (e.skipCache) return i();\n    const a = D.cacheTypeForPayload(e),\n          s = r[a];\n    if (!s) return i();\n    if (!s.canCacheRequest(e)) return i();\n    let c,\n        u = D.blockTagForPayload(e);\n    if (u || (u = \"latest\"), \"earliest\" === u) c = \"0x00\";else if (\"latest\" === u) {\n      const e = await t.getLatestBlock();\n      n.clearBefore(e), c = e;\n    } else c = u;\n    const d = await s.get(e, c);\n    void 0 === d ? (await i(), await s.set(e, c, o.result)) : o.result = d;\n  });\n};\n\nclass q {\n  constructor() {\n    this.cache = {};\n  }\n\n  getBlockCacheForPayload(e, t) {\n    const n = Number.parseInt(t, 16);\n    let r = this.cache[n];\n\n    if (!r) {\n      const e = {};\n      this.cache[n] = e, r = e;\n    }\n\n    return r;\n  }\n\n  async get(e, t) {\n    const n = this.getBlockCacheForPayload(e, t);\n    if (n) return n[D.cacheIdentifierForPayload(e, !0)];\n  }\n\n  async set(e, t, n) {\n    this.canCacheResult(e, n) && (this.getBlockCacheForPayload(e, t)[D.cacheIdentifierForPayload(e, !0)] = n);\n  }\n\n  canCacheRequest(e) {\n    if (!D.canCache(e)) return !1;\n    return \"pending\" !== D.blockTagForPayload(e);\n  }\n\n  canCacheResult(e, t) {\n    if (!F.includes(t)) return !!(![\"eth_getTransactionByHash\", \"eth_getTransactionReceipt\"].includes(e.method) || t && t.blockHash && \"0x0000000000000000000000000000000000000000000000000000000000000000\" !== t.blockHash);\n  }\n\n  clearBefore(e) {\n    const t = this,\n          n = Number.parseInt(e, 16);\n    Object.keys(t.cache).map(Number).filter(e => e < n).forEach(e => delete t.cache[e]);\n  }\n\n}\n\nvar j = class extends I {\n  constructor(e) {\n    super(({\n      blockTracker: t\n    }) => U(Object.assign({\n      blockTracker: t\n    }, e)));\n  }\n\n};\nconst H = m.inherits;\nvar V = W;\n\nfunction W(e) {\n  e = e || {}, this.staticResponses = e;\n}\n\nH(W, N), W.prototype.handleRequest = function (e, t, n) {\n  var r = this.staticResponses[e.method];\n  \"function\" == typeof r ? r(e, t, n) : void 0 !== r ? setTimeout(() => n(null, r)) : t();\n};\n\nvar z = class extends I {\n  constructor() {\n    super(({\n      blockTracker: e,\n      provider: t,\n      engine: n\n    }) => d({\n      blockTracker: e,\n      provider: t\n    }));\n  }\n\n},\n    J = function (e, t, n) {\n  e.sendAsync(P({\n    method: \"eth_estimateGas\",\n    params: [t]\n  }), function (e, t) {\n    if (e) return \"no contract code at given address\" === e.message ? n(null, \"0xcf08\") : n(e);\n    n(null, t.result);\n  });\n};\n\nconst K = m.inherits,\n      $ = /^[0-9A-Fa-f]+$/g;\nvar Z = X;\n\nfunction X(e) {\n  this.nonceLock = l(1), e.getAccounts && (this.getAccounts = e.getAccounts), e.processTransaction && (this.processTransaction = e.processTransaction), e.processMessage && (this.processMessage = e.processMessage), e.processPersonalMessage && (this.processPersonalMessage = e.processPersonalMessage), e.processTypedMessage && (this.processTypedMessage = e.processTypedMessage), e.processTypedMessageV3 && (this.processTypedMessageV3 = e.processTypedMessageV3), this.approveTransaction = e.approveTransaction || this.autoApprove, this.approveMessage = e.approveMessage || this.autoApprove, this.approvePersonalMessage = e.approvePersonalMessage || this.autoApprove, this.approveTypedMessage = e.approveTypedMessage || this.autoApprove, this.approveTypedMessageV3 = e.approveTypedMessageV3 || this.autoApprove, e.signTransaction && (this.signTransaction = e.signTransaction || ne(\"signTransaction\")), e.signMessage && (this.signMessage = e.signMessage || ne(\"signMessage\")), e.signPersonalMessage && (this.signPersonalMessage = e.signPersonalMessage || ne(\"signPersonalMessage\")), e.signTypedMessage && (this.signTypedMessage = e.signTypedMessage || ne(\"signTypedMessage\")), e.signTypedMessageV3 && (this.signTypedMessageV3 = e.signTypedMessageV3 || ne(\"signTypedMessageV3\")), e.recoverPersonalSignature && (this.recoverPersonalSignature = e.recoverPersonalSignature), e.publishTransaction && (this.publishTransaction = e.publishTransaction), this.estimateGas = e.estimateGas || this.estimateGas, this.getGasPrice = e.getGasPrice || this.getGasPrice;\n}\n\nfunction Y(e) {\n  return e.toLowerCase();\n}\n\nfunction Q(e) {\n  const t = a.addHexPrefix(e);\n  return a.isValidAddress(t);\n}\n\nfunction ee(e) {\n  const t = a.addHexPrefix(e);\n  return !a.isValidAddress(t) && te(e);\n}\n\nfunction te(e) {\n  return \"string\" == typeof e && \"0x\" === e.slice(0, 2) && e.slice(2).match($);\n}\n\nfunction ne(e) {\n  return function (t, n) {\n    n(new Error('ProviderEngine - HookedWalletSubprovider - Must provide \"' + e + '\" fn in constructor options'));\n  };\n}\n\nK(X, N), X.prototype.handleRequest = function (e, t, n) {\n  const r = this;\n  let i, a, s, c, u;\n\n  switch (r._parityRequests = {}, r._parityRequestCount = 0, e.method) {\n    case \"eth_coinbase\":\n      return void r.getAccounts(function (e, t) {\n        if (e) return n(e);\n        let r = t[0] || null;\n        n(null, r);\n      });\n\n    case \"eth_accounts\":\n      return void r.getAccounts(function (e, t) {\n        if (e) return n(e);\n        n(null, t);\n      });\n\n    case \"eth_sendTransaction\":\n      return i = e.params[0], void h([e => r.validateTransaction(i, e), e => r.processTransaction(i, e)], n);\n\n    case \"eth_signTransaction\":\n      return i = e.params[0], void h([e => r.validateTransaction(i, e), e => r.processSignTransaction(i, e)], n);\n\n    case \"eth_sign\":\n      return ee(e.params[1]) && Q(e.params[0]) ? (u = e.params[0], c = e.params[1]) : (c = e.params[0], u = e.params[1]), s = e.params[2] || {}, a = o(s, {\n        from: u,\n        data: c\n      }), void h([e => r.validateMessage(a, e), e => r.processMessage(a, e)], n);\n\n    case \"personal_sign\":\n      return function () {\n        const t = e.params[0];\n\n        if (ee(e.params[1]) && Q(t)) {\n          let t = \"The eth_personalSign method requires params ordered \";\n          t += \"[message, address]. This was previously handled incorrectly, \", t += \"and has been corrected automatically. \", t += \"Please switch this param order for smooth behavior in the future.\", console.warn(t), u = e.params[0], c = e.params[1];\n        } else c = e.params[0], u = e.params[1];\n\n        s = e.params[2] || {}, a = o(s, {\n          from: u,\n          data: c\n        }), h([e => r.validatePersonalMessage(a, e), e => r.processPersonalMessage(a, e)], n);\n      }();\n\n    case \"personal_ecRecover\":\n      return function () {\n        c = e.params[0];\n        let t = e.params[1];\n        s = e.params[2] || {}, a = o(s, {\n          sig: t,\n          data: c\n        }), r.recoverPersonalSignature(a, n);\n      }();\n\n    case \"eth_signTypedData\":\n      return !Q(e.params[1]) && Q(e.params[0]) ? (u = e.params[0], c = e.params[1]) : (c = e.params[0], u = e.params[1]), s = e.params[2] || {}, a = o(s, {\n        from: u,\n        data: c\n      }), void h([e => r.validateTypedMessage(a, e), e => r.processTypedMessage(a, e)], n);\n\n    case \"eth_signTypedData_v3\":\n      return !Q(e.params[1]) && Q(e.params[0]) ? (u = e.params[0], c = e.params[1]) : (c = e.params[0], u = e.params[1]), s = e.params[2] || {}, a = o(s, {\n        from: u,\n        data: c\n      }), void h([e => r.validateTypedMessageV3(a, e), e => r.processTypedMessageV3(a, e)], n);\n\n    case \"parity_postTransaction\":\n      return i = e.params[0], void r.parityPostTransaction(i, n);\n\n    case \"parity_postSign\":\n      return u = e.params[0], c = e.params[1], void r.parityPostSign(u, c, n);\n\n    case \"parity_checkRequest\":\n      return function () {\n        const t = e.params[0];\n        r.parityCheckRequest(t, n);\n      }();\n\n    case \"parity_defaultAccount\":\n      return void r.getAccounts(function (e, t) {\n        if (e) return n(e);\n        const r = t[0] || null;\n        n(null, r);\n      });\n\n    default:\n      return void t();\n  }\n}, X.prototype.getAccounts = function (e) {\n  e(null, []);\n}, X.prototype.processTransaction = function (e, t) {\n  const n = this;\n  h([t => n.approveTransaction(e, t), (e, t) => n.checkApproval(\"transaction\", e, t), t => n.finalizeAndSubmitTx(e, t)], t);\n}, X.prototype.processSignTransaction = function (e, t) {\n  const n = this;\n  h([t => n.approveTransaction(e, t), (e, t) => n.checkApproval(\"transaction\", e, t), t => n.finalizeTx(e, t)], t);\n}, X.prototype.processMessage = function (e, t) {\n  const n = this;\n  h([t => n.approveMessage(e, t), (e, t) => n.checkApproval(\"message\", e, t), t => n.signMessage(e, t)], t);\n}, X.prototype.processPersonalMessage = function (e, t) {\n  const n = this;\n  h([t => n.approvePersonalMessage(e, t), (e, t) => n.checkApproval(\"message\", e, t), t => n.signPersonalMessage(e, t)], t);\n}, X.prototype.processTypedMessage = function (e, t) {\n  const n = this;\n  h([t => n.approveTypedMessage(e, t), (e, t) => n.checkApproval(\"message\", e, t), t => n.signTypedMessage(e, t)], t);\n}, X.prototype.processTypedMessageV3 = function (e, t) {\n  const n = this;\n  h([t => n.approveTypedMessageV3(e, t), (e, t) => n.checkApproval(\"message\", e, t), t => n.signTypedMessageV3(e, t)], t);\n}, X.prototype.autoApprove = function (e, t) {\n  t(null, !0);\n}, X.prototype.checkApproval = function (e, t, n) {\n  n(t ? null : new Error(\"User denied \" + e + \" signature.\"));\n}, X.prototype.parityPostTransaction = function (e, t) {\n  const n = this,\n        r = `0x${n._parityRequestCount.toString(16)}`;\n  n._parityRequestCount++, n.emitPayload({\n    method: \"eth_sendTransaction\",\n    params: [e]\n  }, function (e, t) {\n    if (e) return void (n._parityRequests[r] = {\n      error: e\n    });\n    const o = t.result;\n    n._parityRequests[r] = o;\n  }), t(null, r);\n}, X.prototype.parityPostSign = function (e, t, n) {\n  const r = this,\n        o = `0x${r._parityRequestCount.toString(16)}`;\n  r._parityRequestCount++, r.emitPayload({\n    method: \"eth_sign\",\n    params: [e, t]\n  }, function (e, t) {\n    if (e) return void (r._parityRequests[o] = {\n      error: e\n    });\n    const n = t.result;\n    r._parityRequests[o] = n;\n  }), n(null, o);\n}, X.prototype.parityCheckRequest = function (e, t) {\n  const n = this._parityRequests[e] || null;\n  return n ? n.error ? t(n.error) : void t(null, n) : t(null, null);\n}, X.prototype.recoverPersonalSignature = function (e, t) {\n  let n;\n\n  try {\n    n = f.recoverPersonalSignature(e);\n  } catch (e) {\n    return t(e);\n  }\n\n  t(null, n);\n}, X.prototype.validateTransaction = function (e, t) {\n  if (void 0 === e.from) return t(new Error(\"Undefined address - from address required to sign transaction.\"));\n  this.validateSender(e.from, function (n, r) {\n    return n ? t(n) : r ? void t() : t(new Error(`Unknown address - unable to sign transaction for this address: \"${e.from}\"`));\n  });\n}, X.prototype.validateMessage = function (e, t) {\n  if (void 0 === e.from) return t(new Error(\"Undefined address - from address required to sign message.\"));\n  this.validateSender(e.from, function (n, r) {\n    return n ? t(n) : r ? void t() : t(new Error(`Unknown address - unable to sign message for this address: \"${e.from}\"`));\n  });\n}, X.prototype.validatePersonalMessage = function (e, t) {\n  return void 0 === e.from ? t(new Error(\"Undefined address - from address required to sign personal message.\")) : void 0 === e.data ? t(new Error(\"Undefined message - message required to sign personal message.\")) : te(e.data) ? void this.validateSender(e.from, function (n, r) {\n    return n ? t(n) : r ? void t() : t(new Error(`Unknown address - unable to sign message for this address: \"${e.from}\"`));\n  }) : t(new Error(\"HookedWalletSubprovider - validateMessage - message was not encoded as hex.\"));\n}, X.prototype.validateTypedMessage = function (e, t) {\n  return void 0 === e.from ? t(new Error(\"Undefined address - from address required to sign typed data.\")) : void 0 === e.data ? t(new Error(\"Undefined data - message required to sign typed data.\")) : void this.validateSender(e.from, function (n, r) {\n    return n ? t(n) : r ? void t() : t(new Error(`Unknown address - unable to sign message for this address: \"${e.from}\"`));\n  });\n}, X.prototype.validateTypedMessageV3 = function (e, t) {\n  return void 0 === e.from ? t(new Error(\"Undefined address - from address required to sign typed data.\")) : void 0 === e.data ? t(new Error(\"Undefined data - message required to sign typed data.\")) : void this.validateSender(e.from, function (n, r) {\n    return n ? t(n) : r ? void t() : t(new Error(`Unknown address - unable to sign message for this address: \"${e.from}\"`));\n  });\n}, X.prototype.validateSender = function (e, t) {\n  if (!e) return t(null, !1);\n  this.getAccounts(function (n, r) {\n    if (n) return t(n);\n    const o = -1 !== r.map(Y).indexOf(e.toLowerCase());\n    t(null, o);\n  });\n}, X.prototype.finalizeAndSubmitTx = function (e, t) {\n  const n = this;\n  n.nonceLock.take(function () {\n    h([n.fillInTxExtras.bind(n, e), n.signTransaction.bind(n), n.publishTransaction.bind(n)], function (e, r) {\n      if (n.nonceLock.leave(), e) return t(e);\n      t(null, r);\n    });\n  });\n}, X.prototype.finalizeTx = function (e, t) {\n  const n = this;\n  n.nonceLock.take(function () {\n    h([n.fillInTxExtras.bind(n, e), n.signTransaction.bind(n)], function (r, o) {\n      if (n.nonceLock.leave(), r) return t(r);\n      t(null, {\n        raw: o,\n        tx: e\n      });\n    });\n  });\n}, X.prototype.publishTransaction = function (e, t) {\n  this.emitPayload({\n    method: \"eth_sendRawTransaction\",\n    params: [e]\n  }, function (e, n) {\n    if (e) return t(e);\n    t(null, n.result);\n  });\n}, X.prototype.estimateGas = function (e, t) {\n  J(this.engine, e, t);\n}, X.prototype.getGasPrice = function (e) {\n  this.emitPayload({\n    method: \"eth_gasPrice\",\n    params: []\n  }, function (t, n) {\n    if (t) return e(t);\n    e(null, n.result);\n  });\n}, X.prototype.fillInTxExtras = function (e, t) {\n  const n = this,\n        r = e.from,\n        i = {};\n  void 0 === e.gasPrice && (i.gasPrice = n.getGasPrice.bind(n)), void 0 === e.nonce && (i.nonce = n.emitPayload.bind(n, {\n    method: \"eth_getTransactionCount\",\n    params: [r, \"pending\"]\n  })), void 0 === e.gas && (i.gas = n.estimateGas.bind(n, function (e) {\n    return {\n      from: e.from,\n      to: e.to,\n      value: e.value,\n      data: e.data,\n      gas: e.gas,\n      gasPrice: e.gasPrice,\n      nonce: e.nonce\n    };\n  }(e))), p(i, function (n, r) {\n    if (n) return t(n);\n    const i = {};\n    r.gasPrice && (i.gasPrice = r.gasPrice), r.nonce && (i.nonce = r.nonce.result), r.gas && (i.gas = r.gas), t(null, o(e, i));\n  });\n};\nvar re = {\n  v: 5e3,\n  d: \"Gas limit of the Genesis block.\"\n},\n    oe = {\n  v: 17179869184,\n  d: \"Difficulty of the Genesis block.\"\n},\n    ie = {\n  v: \"0x0000000000000042\",\n  d: \"the geneis nonce\"\n},\n    ae = {\n  v: \"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa\",\n  d: \"extra data \"\n},\n    se = {\n  v: \"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3\",\n  d: \"genesis hash\"\n},\n    ce = {\n  v: \"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544\",\n  d: \"the genesis state root\"\n},\n    ue = {\n  v: 5e3,\n  d: \"Minimum the gas limit may ever be.\"\n},\n    de = {\n  v: 1024,\n  d: \"The bound divisor of the gas limit, used in update calculations.\"\n},\n    le = {\n  v: 131072,\n  d: \"The minimum that the difficulty may ever be.\"\n},\n    he = {\n  v: 2048,\n  d: \"The bound divisor of the difficulty, used in the update calculations.\"\n},\n    fe = {\n  v: 13,\n  d: \"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not.\"\n},\n    pe = {\n  v: 32,\n  d: \"Maximum size extra data may be after Genesis.\"\n},\n    ge = {\n  v: 3e4,\n  d: \"Duration between proof-of-work epochs.\"\n},\n    me = {\n  v: 1024,\n  d: \"Maximum size of VM stack allowed.\"\n},\n    ve = {\n  v: 1024,\n  d: \"Maximum depth of call/create stack.\"\n},\n    ye = {\n  v: [0, 2, 3, 5, 8, 10, 20],\n  d: \"Once per operation, for a selection of them.\"\n},\n    we = {\n  v: 10,\n  d: \"Once per EXP instuction.\"\n},\n    be = {\n  v: 10,\n  d: \"Times ceil(log256(exponent)) for the EXP instruction.\"\n},\n    _e = {\n  v: 30,\n  d: \"Once per SHA3 operation.\"\n},\n    ke = {\n  v: 6,\n  d: \"Once per word of the SHA3 operation's data.\"\n},\n    Ee = {\n  v: 50,\n  d: \"Once per SLOAD operation.\"\n},\n    Te = {\n  v: 2e4,\n  d: \"Once per SSTORE operation if the zeroness changes from zero.\"\n},\n    Pe = {\n  v: 5e3,\n  d: \"Once per SSTORE operation if the zeroness does not change from zero.\"\n},\n    Re = {\n  v: 15e3,\n  d: \"Once per SSTORE operation if the zeroness changes to zero.\"\n},\n    xe = {\n  v: 1,\n  d: \"Refunded gas, once per SSTORE operation if the zeroness changes to zero.\"\n},\n    Ce = {\n  v: 375,\n  d: \"Per LOG* operation.\"\n},\n    Se = {\n  v: 8,\n  d: \"Per byte in a LOG* operation's data.\"\n},\n    Be = {\n  v: 375,\n  d: \"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas.\"\n},\n    Ne = {\n  v: 32e3,\n  d: \"Once per CREATE operation & contract-creation transaction.\"\n},\n    Ae = {\n  v: 40,\n  d: \"Once per CALL operation & message call transaction.\"\n},\n    Ie = {\n  v: 2300,\n  d: \"Free gas given at beginning of call.\"\n},\n    De = {\n  v: 9e3,\n  d: \"Paid for CALL when the value transfor is non-zero.\"\n},\n    Oe = {\n  v: 25e3,\n  d: \"Paid for CALL when the destination address didn't exist prior.\"\n},\n    Le = {\n  v: 24e3,\n  d: \"Refunded following a suicide operation.\"\n},\n    Me = {\n  v: 3,\n  d: \"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL.\"\n},\n    Ge = {\n  v: 512,\n  d: \"Divisor for the quadratic particle of the memory cost equation.\"\n},\n    Fe = {\n  v: 200,\n  d: \"\"\n},\n    Ue = {\n  v: 21e3,\n  d: \"Per transaction. NOTE: Not payable on data of calls between transactions.\"\n},\n    qe = {\n  v: 32e3,\n  d: \"the cost of creating a contract via tx\"\n},\n    je = {\n  v: 4,\n  d: \"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions.\"\n},\n    He = {\n  v: 68,\n  d: \"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions.\"\n},\n    Ve = {\n  v: 3,\n  d: \"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added.\"\n},\n    We = {\n  v: 3e3,\n  d: \"\"\n},\n    ze = {\n  v: 60,\n  d: \"\"\n},\n    Je = {\n  v: 12,\n  d: \"\"\n},\n    Ke = {\n  v: 600,\n  d: \"\"\n},\n    $e = {\n  v: 120,\n  d: \"\"\n},\n    Ze = {\n  v: 15,\n  d: \"\"\n},\n    Xe = {\n  v: 3,\n  d: \"\"\n},\n    Ye = {\n  v: \"5000000000000000000\",\n  d: \"the amount a miner get rewarded for mining a block\"\n},\n    Qe = {\n  v: \"625000000000000000\",\n  d: \"The amount of wei a miner of an uncle block gets for being inculded in the blockchain\"\n},\n    et = {\n  v: \"156250000000000000\",\n  d: \"the amount a miner gets for inculding a uncle\"\n},\n    tt = {\n  v: 115e4,\n  d: \"the block that the Homestead fork started at\"\n},\n    nt = {\n  v: 2463e3,\n  d: \"the block that the Homestead Reprice (EIP150) fork started at\"\n},\n    rt = {\n  v: 1e5,\n  d: \"Exponential difficulty timebomb period\"\n},\n    ot = {\n  v: 2\n},\n    it = {\n  genesisGasLimit: re,\n  genesisDifficulty: oe,\n  genesisNonce: ie,\n  genesisExtraData: ae,\n  genesisHash: se,\n  genesisStateRoot: ce,\n  minGasLimit: ue,\n  gasLimitBoundDivisor: de,\n  minimumDifficulty: le,\n  difficultyBoundDivisor: he,\n  durationLimit: fe,\n  maximumExtraDataSize: pe,\n  epochDuration: ge,\n  stackLimit: me,\n  callCreateDepth: ve,\n  tierStepGas: ye,\n  expGas: we,\n  expByteGas: be,\n  sha3Gas: _e,\n  sha3WordGas: ke,\n  sloadGas: Ee,\n  sstoreSetGas: Te,\n  sstoreResetGas: Pe,\n  sstoreRefundGas: Re,\n  jumpdestGas: xe,\n  logGas: Ce,\n  logDataGas: Se,\n  logTopicGas: Be,\n  createGas: Ne,\n  callGas: Ae,\n  callStipend: Ie,\n  callValueTransferGas: De,\n  callNewAccountGas: Oe,\n  suicideRefundGas: Le,\n  memoryGas: Me,\n  quadCoeffDiv: Ge,\n  createDataGas: Fe,\n  txGas: Ue,\n  txCreation: qe,\n  txDataZeroGas: je,\n  txDataNonZeroGas: He,\n  copyGas: Ve,\n  ecrecoverGas: We,\n  sha256Gas: ze,\n  sha256WordGas: Je,\n  ripemd160Gas: Ke,\n  ripemd160WordGas: $e,\n  identityGas: Ze,\n  identityWordGas: Xe,\n  minerReward: Ye,\n  ommerReward: Qe,\n  niblingReward: et,\n  homeSteadForkNumber: tt,\n  homesteadRepriceForkNumber: nt,\n  timebombPeriod: rt,\n  freeBlockPeriod: ot\n},\n    at = t(Object.freeze({\n  __proto__: null,\n  genesisGasLimit: re,\n  genesisDifficulty: oe,\n  genesisNonce: ie,\n  genesisExtraData: ae,\n  genesisHash: se,\n  genesisStateRoot: ce,\n  minGasLimit: ue,\n  gasLimitBoundDivisor: de,\n  minimumDifficulty: le,\n  difficultyBoundDivisor: he,\n  durationLimit: fe,\n  maximumExtraDataSize: pe,\n  epochDuration: ge,\n  stackLimit: me,\n  callCreateDepth: ve,\n  tierStepGas: ye,\n  expGas: we,\n  expByteGas: be,\n  sha3Gas: _e,\n  sha3WordGas: ke,\n  sloadGas: Ee,\n  sstoreSetGas: Te,\n  sstoreResetGas: Pe,\n  sstoreRefundGas: Re,\n  jumpdestGas: xe,\n  logGas: Ce,\n  logDataGas: Se,\n  logTopicGas: Be,\n  createGas: Ne,\n  callGas: Ae,\n  callStipend: Ie,\n  callValueTransferGas: De,\n  callNewAccountGas: Oe,\n  suicideRefundGas: Le,\n  memoryGas: Me,\n  quadCoeffDiv: Ge,\n  createDataGas: Fe,\n  txGas: Ue,\n  txCreation: qe,\n  txDataZeroGas: je,\n  txDataNonZeroGas: He,\n  copyGas: Ve,\n  ecrecoverGas: We,\n  sha256Gas: ze,\n  sha256WordGas: Je,\n  ripemd160Gas: Ke,\n  ripemd160WordGas: $e,\n  identityGas: Ze,\n  identityWordGas: Xe,\n  minerReward: Ye,\n  ommerReward: Qe,\n  niblingReward: et,\n  homeSteadForkNumber: tt,\n  homesteadRepriceForkNumber: nt,\n  timebombPeriod: rt,\n  freeBlockPeriod: ot,\n  default: it\n}));\n\nvar st = a.BN,\n    ct = new st(\"7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0\", 16),\n    ut = function () {\n  function e(t) {\n    !function (e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }(this, e), t = t || {};\n    var n = [{\n      name: \"nonce\",\n      length: 32,\n      allowLess: !0,\n      default: new Buffer([])\n    }, {\n      name: \"gasPrice\",\n      length: 32,\n      allowLess: !0,\n      default: new Buffer([])\n    }, {\n      name: \"gasLimit\",\n      alias: \"gas\",\n      length: 32,\n      allowLess: !0,\n      default: new Buffer([])\n    }, {\n      name: \"to\",\n      allowZero: !0,\n      length: 20,\n      default: new Buffer([])\n    }, {\n      name: \"value\",\n      length: 32,\n      allowLess: !0,\n      default: new Buffer([])\n    }, {\n      name: \"data\",\n      alias: \"input\",\n      allowZero: !0,\n      default: new Buffer([])\n    }, {\n      name: \"v\",\n      allowZero: !0,\n      default: new Buffer([28])\n    }, {\n      name: \"r\",\n      length: 32,\n      allowZero: !0,\n      allowLess: !0,\n      default: new Buffer([])\n    }, {\n      name: \"s\",\n      length: 32,\n      allowZero: !0,\n      allowLess: !0,\n      default: new Buffer([])\n    }];\n    a.defineProperties(this, n, t), Object.defineProperty(this, \"from\", {\n      enumerable: !0,\n      configurable: !0,\n      get: this.getSenderAddress.bind(this)\n    });\n    var r = a.bufferToInt(this.v),\n        o = Math.floor((r - 35) / 2);\n    o < 0 && (o = 0), this._chainId = o || t.chainId || 0, this._homestead = !0;\n  }\n\n  return e.prototype.toCreationAddress = function () {\n    return \"\" === this.to.toString(\"hex\");\n  }, e.prototype.hash = function (e) {\n    void 0 === e && (e = !0);\n    var t = void 0;\n    if (e) t = this.raw;else if (this._chainId > 0) {\n      var n = this.raw.slice();\n      this.v = this._chainId, this.r = 0, this.s = 0, t = this.raw, this.raw = n;\n    } else t = this.raw.slice(0, 6);\n    return a.rlphash(t);\n  }, e.prototype.getChainId = function () {\n    return this._chainId;\n  }, e.prototype.getSenderAddress = function () {\n    if (this._from) return this._from;\n    var e = this.getSenderPublicKey();\n    return this._from = a.publicToAddress(e), this._from;\n  }, e.prototype.getSenderPublicKey = function () {\n    if (!(this._senderPubKey && this._senderPubKey.length || this.verifySignature())) throw new Error(\"Invalid Signature\");\n    return this._senderPubKey;\n  }, e.prototype.verifySignature = function () {\n    var e = this.hash(!1);\n    if (this._homestead && 1 === new st(this.s).cmp(ct)) return !1;\n\n    try {\n      var t = a.bufferToInt(this.v);\n      this._chainId > 0 && (t -= 2 * this._chainId + 8), this._senderPubKey = a.ecrecover(e, t, this.r, this.s);\n    } catch (e) {\n      return !1;\n    }\n\n    return !!this._senderPubKey;\n  }, e.prototype.sign = function (e) {\n    var t = this.hash(!1),\n        n = a.ecsign(t, e);\n    this._chainId > 0 && (n.v += 2 * this._chainId + 8), Object.assign(this, n);\n  }, e.prototype.getDataFee = function () {\n    for (var e = this.raw[5], t = new st(0), n = 0; n < e.length; n++) 0 === e[n] ? t.iaddn(at.txDataZeroGas.v) : t.iaddn(at.txDataNonZeroGas.v);\n\n    return t;\n  }, e.prototype.getBaseFee = function () {\n    var e = this.getDataFee().iaddn(at.txGas.v);\n    return this._homestead && this.toCreationAddress() && e.iaddn(at.txCreation.v), e;\n  }, e.prototype.getUpfrontCost = function () {\n    return new st(this.gasLimit).imul(new st(this.gasPrice)).iadd(new st(this.value));\n  }, e.prototype.validate = function (e) {\n    var t = [];\n    return this.verifySignature() || t.push(\"Invalid Signature\"), this.getBaseFee().cmp(new st(this.gasLimit)) > 0 && t.push([\"gas limit is too low. Need at least \" + this.getBaseFee()]), void 0 === e || !1 === e ? 0 === t.length : t.join(\" \");\n  }, e;\n}();\n\nconst dt = m.inherits,\n      lt = k;\nvar ht = ft;\n\nfunction ft(e) {\n  this.nonceCache = {};\n}\n\ndt(ft, N), ft.prototype.handleRequest = function (e, t, n) {\n  const r = this;\n\n  switch (e.method) {\n    case \"eth_getTransactionCount\":\n      var o = lt(e),\n          i = e.params[0].toLowerCase(),\n          s = r.nonceCache[i];\n      return void (\"pending\" === o ? s ? n(null, s) : t(function (e, t, n) {\n        if (e) return n();\n        void 0 === r.nonceCache[i] && (r.nonceCache[i] = t), n();\n      }) : t());\n\n    case \"eth_sendRawTransaction\":\n      return void t(function (t, n, o) {\n        if (t) return o();\n        var i = e.params[0],\n            s = (a.stripHexPrefix(i), Buffer.from(a.stripHexPrefix(i), \"hex\"), new ut(Buffer.from(a.stripHexPrefix(i), \"hex\"))),\n            c = \"0x\" + s.getSenderAddress().toString(\"hex\").toLowerCase(),\n            u = a.bufferToInt(s.nonce),\n            d = (++u).toString(16);\n        d.length % 2 && (d = \"0\" + d), d = \"0x\" + d, r.nonceCache[c] = d, o();\n      });\n\n    case \"evm_revert\":\n      return r.nonceCache = {}, void t();\n\n    default:\n      return void t();\n  }\n};\nvar pt = class extends I {\n  constructor() {\n    super(({\n      blockTracker: e,\n      provider: t,\n      engine: n\n    }) => {\n      const {\n        events: r,\n        middleware: o\n      } = g({\n        blockTracker: e,\n        provider: t\n      });\n      return r.on(\"notification\", e => n.emit(\"data\", null, e)), o;\n    });\n  }\n\n},\n    gt = n(function (e, t) {\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  }), t.default = t.ERR_NOT_IN_IFRAME = t.ERR_CONNECTION_TIMEOUT = t.ERR_CONNECTION_DESTROYED = void 0;\n  var n = \"message\";\n  t.ERR_CONNECTION_DESTROYED = \"ConnectionDestroyed\";\n  t.ERR_CONNECTION_TIMEOUT = \"ConnectionTimeout\";\n  t.ERR_NOT_IN_IFRAME = \"NotInIframe\";\n\n  var r,\n      o = {\n    \"http:\": \"80\",\n    \"https:\": \"443\"\n  },\n      i = /^(https?:)?\\/\\/([^/:]+)(:(\\d+))?/,\n      a = {\n    ERR_CONNECTION_DESTROYED: \"ConnectionDestroyed\",\n    ERR_CONNECTION_TIMEOUT: \"ConnectionTimeout\",\n    ERR_NOT_IN_IFRAME: \"NotInIframe\",\n    Promise: function () {\n      try {\n        return window ? window.Promise : null;\n      } catch (e) {\n        return null;\n      }\n    }(),\n    debug: !1\n  },\n      s = (r = 0, function () {\n    return ++r;\n  }),\n      c = function () {\n    if (a.debug) {\n      for (var e, t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];\n\n      (e = console).log.apply(e, [\"[Penpal]\"].concat(n));\n    }\n  },\n      u = function (e) {\n    var t = [];\n    return e(function () {\n      t.forEach(function (e) {\n        e();\n      });\n    }), {\n      then: function (e) {\n        t.push(e);\n      }\n    };\n  },\n      d = function (e) {\n    return {\n      name: e.name,\n      message: e.message,\n      stack: e.stack\n    };\n  },\n      l = function (e) {\n    var t = new Error();\n    return Object.keys(e).forEach(function (n) {\n      return t[n] = e[n];\n    }), t;\n  },\n      h = function (e, t, r, o) {\n    var i = t.localName,\n        u = t.local,\n        d = t.remote,\n        h = t.remoteOrigin,\n        f = !1;\n    c(\"\".concat(i, \": Connecting call sender\"));\n    o.then(function () {\n      f = !0;\n    }), r.reduce(function (e, t) {\n      return e[t] = function (e) {\n        return function () {\n          for (var t = arguments.length, r = new Array(t), o = 0; o < t; o++) r[o] = arguments[o];\n\n          if (c(\"\".concat(i, \": Sending \").concat(e, \"() call\")), f) {\n            var p = new Error(\"Unable to send \".concat(e, \"() call due \") + \"to destroyed connection\");\n            throw p.code = \"ConnectionDestroyed\", p;\n          }\n\n          return new a.Promise(function (t, o) {\n            var a = s();\n            u.addEventListener(n, function r(s) {\n              if (s.source === d && s.origin === h && \"reply\" === s.data.penpal && s.data.id === a) {\n                c(\"\".concat(i, \": Received \").concat(e, \"() reply\")), u.removeEventListener(n, r);\n                var f = s.data.returnValue;\n                s.data.returnValueIsError && (f = l(f)), (\"fulfilled\" === s.data.resolution ? t : o)(f);\n              }\n            }), d.postMessage({\n              penpal: \"call\",\n              id: a,\n              methodName: e,\n              args: r\n            }, h);\n          });\n        };\n      }(t), e;\n    }, e);\n  },\n      f = function (e, t, r) {\n    var o = e.localName,\n        i = e.local,\n        s = e.remote,\n        u = e.remoteOrigin,\n        l = !1;\n    c(\"\".concat(o, \": Connecting call receiver\"));\n\n    var h = function (e) {\n      if (e.source === s && e.origin === u && \"call\" === e.data.penpal) {\n        var n = e.data,\n            r = n.methodName,\n            i = n.args,\n            h = n.id;\n\n        if (c(\"\".concat(o, \": Received \").concat(r, \"() call\")), r in t) {\n          var f = function (e) {\n            return function (t) {\n              if (c(\"\".concat(o, \": Sending \").concat(r, \"() reply\")), l) c(\"\".concat(o, \": Unable to send \").concat(r, \"() reply due to destroyed connection\"));else {\n                var n = {\n                  penpal: \"reply\",\n                  id: h,\n                  resolution: e,\n                  returnValue: t\n                };\n                \"rejected\" === e && t instanceof Error && (n.returnValue = d(t), n.returnValueIsError = !0);\n\n                try {\n                  s.postMessage(n, u);\n                } catch (e) {\n                  throw \"DataCloneError\" === e.name && s.postMessage({\n                    penpal: \"reply\",\n                    id: h,\n                    resolution: \"rejected\",\n                    returnValue: d(e),\n                    returnValueIsError: !0\n                  }, u), e;\n                }\n              }\n            };\n          };\n\n          new a.Promise(function (e) {\n            return e(t[r].apply(t, i));\n          }).then(f(\"fulfilled\"), f(\"rejected\"));\n        }\n      }\n    };\n\n    i.addEventListener(n, h), r.then(function () {\n      l = !0, i.removeEventListener(n, h);\n    });\n  };\n\n  a.connectToChild = function (e) {\n    var t,\n        r = e.url,\n        s = e.appendTo,\n        d = e.methods,\n        l = void 0 === d ? {} : d,\n        p = e.timeout,\n        g = new u(function (e) {\n      t = e;\n    }),\n        m = window,\n        v = document.createElement(\"iframe\");\n    (s || document.body).appendChild(v), g.then(function () {\n      v.parentNode && v.parentNode.removeChild(v);\n    });\n\n    var y = v.contentWindow || v.contentDocument.parentWindow,\n        w = function (e) {\n      var t,\n          n,\n          r,\n          a = document.location,\n          s = i.exec(e);\n      s ? (t = s[1] ? s[1] : a.protocol, n = s[2], r = s[4]) : (t = a.protocol, n = a.hostname, r = a.port);\n      var c = r && r !== o[t] ? \":\".concat(r) : \"\";\n      return \"\".concat(t, \"//\").concat(n).concat(c);\n    }(r);\n\n    return {\n      promise: new a.Promise(function (e, o) {\n        var i;\n        void 0 !== p && (i = setTimeout(function () {\n          var e = new Error(\"Connection to child timed out after \".concat(p, \"ms\"));\n          e.code = \"ConnectionTimeout\", o(e), t();\n        }, p));\n\n        var a,\n            s,\n            d = {},\n            b = function (t) {\n          if (t.source === y && t.origin === w && \"handshake\" === t.data.penpal) {\n            c(\"Parent: Received handshake, sending reply\"), t.source.postMessage({\n              penpal: \"handshake-reply\",\n              methodNames: Object.keys(l)\n            }, t.origin);\n            var n = {\n              localName: \"Parent\",\n              local: m,\n              remote: y,\n              remoteOrigin: t.origin\n            };\n            s && s();\n            var r = new u(function (e) {\n              g.then(e), s = e;\n            });\n            f(n, l, r), a && a.forEach(function (e) {\n              delete d[e];\n            }), a = t.data.methodNames, h(d, n, a, g), clearTimeout(i), e(d);\n          }\n        };\n\n        m.addEventListener(n, b), g.then(function () {\n          m.removeEventListener(n, b);\n          var e = new Error(\"Connection destroyed\");\n          e.code = \"ConnectionDestroyed\", o(e);\n        }), c(\"Parent: Loading iframe\"), v.src = r;\n      }),\n      iframe: v,\n      destroy: t\n    };\n  }, a.connectToParent = function () {\n    var e,\n        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n        r = t.parentOrigin,\n        o = void 0 === r ? \"*\" : r,\n        i = t.methods,\n        s = void 0 === i ? {} : i,\n        d = t.timeout;\n\n    if (window === window.top) {\n      var l = new Error(\"connectToParent() must be called within an iframe\");\n      throw l.code = \"NotInIframe\", l;\n    }\n\n    var p = new u(function (t) {\n      e = t;\n    }),\n        g = window,\n        m = g.parent,\n        v = new a.Promise(function (t, r) {\n      var i;\n      void 0 !== d && (i = setTimeout(function () {\n        var t = new Error(\"Connection to parent timed out after \".concat(d, \"ms\"));\n        t.code = \"ConnectionTimeout\", r(t), e();\n      }, d));\n\n      var a = function e(r) {\n        if ((\"*\" === o || o === r.origin) && r.source === m && \"handshake-reply\" === r.data.penpal) {\n          c(\"Child: Received handshake reply\"), g.removeEventListener(n, e);\n          var a = {\n            localName: \"Child\",\n            local: g,\n            remote: m,\n            remoteOrigin: r.origin\n          },\n              u = {};\n          f(a, s, p), h(u, a, r.data.methodNames, p), clearTimeout(i), t(u);\n        }\n      };\n\n      g.addEventListener(n, a), p.then(function () {\n        g.removeEventListener(n, a);\n        var e = new Error(\"Connection destroyed\");\n        e.code = \"ConnectionDestroyed\", r(e);\n      }), c(\"Child: Sending handshake\"), m.postMessage({\n        penpal: \"handshake\",\n        methodNames: Object.keys(s)\n      }, o);\n    });\n    return {\n      promise: v,\n      destroy: e\n    };\n  };\n  var p = a;\n  t.default = p;\n}),\n    mt = r(gt);\ngt.ERR_NOT_IN_IFRAME, gt.ERR_CONNECTION_TIMEOUT, gt.ERR_CONNECTION_DESTROYED;\n\nfunction vt(e, t) {\n  var n = \"string\" == typeof e ? Object.assign({}, yt[e]) : e;\n  if (\"object\" != typeof n) throw new Error(\"[Portis] illegal 'network' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n  if (!n.nodeUrl) throw new Error(\"[Portis] 'nodeUrl' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n  if (t && !n.gasRelayHubAddress) throw new Error(\"[Portis] can't find default gas relay hub for \" + e);\n  return \"string\" != typeof e || t || delete n.gasRelayHubAddress, n;\n}\n\nvar yt = {\n  mainnet: {\n    nodeUrl: \"https://mainnet.infura.io/v3/faa4639b090f46499f29d894da0551a0\",\n    chainId: \"1\",\n    gasRelayHubAddress: \"0xD216153c06E857cD7f72665E0aF1d7D82172F494\"\n  },\n  ropsten: {\n    nodeUrl: \"https://ropsten.infura.io/v3/faa4639b090f46499f29d894da0551a0\",\n    chainId: \"3\",\n    gasRelayHubAddress: \"0xD216153c06E857cD7f72665E0aF1d7D82172F494\"\n  },\n  rinkeby: {\n    nodeUrl: \"https://rinkeby.infura.io/v3/faa4639b090f46499f29d894da0551a0\",\n    chainId: \"4\",\n    gasRelayHubAddress: \"0xD216153c06E857cD7f72665E0aF1d7D82172F494\"\n  },\n  goerli: {\n    nodeUrl: \"https://goerli.prylabs.net\",\n    chainId: \"5\"\n  },\n  ubiq: {\n    nodeUrl: \"https://rpc1.ubiqscan.io\",\n    chainId: \"8\"\n  },\n  thundercoreTestnet: {\n    nodeUrl: \"https://testnet-rpc.thundercore.com:8544\",\n    chainId: \"18\"\n  },\n  orchid: {\n    nodeUrl: \"https://public-node.rsk.co\",\n    chainId: \"30\"\n  },\n  orchidTestnet: {\n    nodeUrl: \"https://public-node.testnet.rsk.co\",\n    chainId: \"31\"\n  },\n  kovan: {\n    nodeUrl: \"https://kovan.infura.io/v3/faa4639b090f46499f29d894da0551a0\",\n    chainId: \"42\",\n    gasRelayHubAddress: \"0xD216153c06E857cD7f72665E0aF1d7D82172F494\"\n  },\n  classic: {\n    nodeUrl: \"https://ethereumclassic.network\",\n    chainId: \"61\"\n  },\n  sokol: {\n    nodeUrl: \"https://sokol.poa.network\",\n    chainId: \"77\"\n  },\n  core: {\n    nodeUrl: \"https://core.poa.network\",\n    chainId: \"99\"\n  },\n  xdai: {\n    nodeUrl: \"https://dai.poa.network\",\n    chainId: \"100\",\n    gasRelayHubAddress: \"0xD216153c06E857cD7f72665E0aF1d7D82172F494\"\n  },\n  thundercore: {\n    nodeUrl: \"https://mainnet-rpc.thundercore.com\",\n    chainId: \"108\"\n  },\n  fuse: {\n    nodeUrl: \"https://rpc.fusenet.io\",\n    chainId: \"122\"\n  },\n  lightstreams: {\n    nodeUrl: \"https://node.mainnet.lightstreams.io\",\n    chainId: \"163\"\n  },\n  maticAlpha: {\n    nodeUrl: \"https://alpha.ethereum.matic.network\",\n    chainId: \"4626\"\n  },\n  maticTestnet: {\n    nodeUrl: \"https://testnet2.matic.network\",\n    chainId: \"8995\"\n  }\n},\n    wt = window && window.__awaiter || function (e, t, n, r) {\n  return new (n || (n = Promise))(function (o, i) {\n    function a(e) {\n      try {\n        c(r.next(e));\n      } catch (e) {\n        i(e);\n      }\n    }\n\n    function s(e) {\n      try {\n        c(r.throw(e));\n      } catch (e) {\n        i(e);\n      }\n    }\n\n    function c(e) {\n      e.done ? o(e.value) : new n(function (t) {\n        t(e.value);\n      }).then(a, s);\n    }\n\n    c((r = r.apply(e, t || [])).next());\n  });\n},\n    bt = window && window.__generator || function (e, t) {\n  var n,\n      r,\n      o,\n      i,\n      a = {\n    label: 0,\n    sent: function () {\n      if (1 & o[0]) throw o[1];\n      return o[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return i = {\n    next: s(0),\n    throw: s(1),\n    return: s(2)\n  }, \"function\" == typeof Symbol && (i[Symbol.iterator] = function () {\n    return this;\n  }), i;\n\n  function s(i) {\n    return function (s) {\n      return function (i) {\n        if (n) throw new TypeError(\"Generator is already executing.\");\n\n        for (; a;) try {\n          if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;\n\n          switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {\n            case 0:\n            case 1:\n              o = i;\n              break;\n\n            case 4:\n              return a.label++, {\n                value: i[1],\n                done: !1\n              };\n\n            case 5:\n              a.label++, r = i[1], i = [0];\n              continue;\n\n            case 7:\n              i = a.ops.pop(), a.trys.pop();\n              continue;\n\n            default:\n              if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {\n                a = 0;\n                continue;\n              }\n\n              if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {\n                a.label = i[1];\n                break;\n              }\n\n              if (6 === i[0] && a.label < o[1]) {\n                a.label = o[1], o = i;\n                break;\n              }\n\n              if (o && a.label < o[2]) {\n                a.label = o[2], a.ops.push(i);\n                break;\n              }\n\n              o[2] && a.ops.pop(), a.trys.pop();\n              continue;\n          }\n\n          i = t.call(e, a);\n        } catch (e) {\n          i = [6, e], r = 0;\n        } finally {\n          n = o = 0;\n        }\n\n        if (5 & i[0]) throw i[1];\n        return {\n          value: i[0] ? i[1] : void 0,\n          done: !0\n        };\n      }([i, s]);\n    };\n  }\n},\n    _t = require(\"ethereumjs-util\"),\n    kt = _t.addHexPrefix,\n    Et = _t.stripHexPrefix,\n    Tt = _t.BN;\n\nfunction Pt(e, t) {\n  return wt(this, void 0, void 0, function () {\n    var n, r, o, i, a;\n    return bt(this, function (s) {\n      switch (s.label) {\n        case 0:\n          return [4, e.getBlockByNumber(\"latest\", !1)];\n\n        case 1:\n          return n = s.sent(), [4, Rt(e, t, n.gasLimit)];\n\n        case 2:\n          if (r = s.sent(), o = r.safeGas, i = r.simpleSend, a = r.gasLimitSpecified, i || a) return [2, o];\n          s.label = 3;\n\n        case 3:\n          return s.trys.push([3, 5,, 6]), [4, xt(e, t, n.gasLimit, o)];\n\n        case 4:\n          return [2, s.sent()];\n\n        case 5:\n          return s.sent(), [2, o];\n\n        case 6:\n          return [2];\n      }\n    });\n  });\n}\n\nfunction Rt(e, t, n) {\n  return wt(this, void 0, void 0, function () {\n    var r, o, i;\n    return bt(this, function (a) {\n      switch (a.label) {\n        case 0:\n          return Boolean(t.gas) ? [2, {\n            safeGas: t.gas,\n            simpleSend: !1,\n            gasLimitSpecified: !0\n          }] : (r = t.to, Boolean(r) ? [4, e.getCode(r)] : [3, 2]);\n\n        case 1:\n          if (o = a.sent(), !o || \"0x\" === o || \"0x0\" === o) {\n            if (t.data) throw new Error(\"Trying to call a function on a non-contract address\");\n            return [2, {\n              safeGas: \"0x5208\",\n              simpleSend: !0,\n              gasLimitSpecified: !1\n            }];\n          }\n\n          a.label = 2;\n\n        case 2:\n          return i = St(n), s = i, c = 20, u = new Tt(19), d = new Tt(c), [2, {\n            safeGas: Bt(s.mul(u).div(d)),\n            simpleSend: !1,\n            gasLimitSpecified: !1\n          }];\n      }\n\n      var s, c, u, d;\n    });\n  });\n}\n\nfunction xt(e, t, n, r) {\n  return wt(this, void 0, void 0, function () {\n    var o;\n    return bt(this, function (i) {\n      switch (i.label) {\n        case 0:\n          return t.gas = r, o = kt, [4, e.estimateGas(t)];\n\n        case 1:\n          return [2, Ct(o.apply(void 0, [i.sent()]), n)];\n      }\n    });\n  });\n}\n\nfunction Ct(e, t) {\n  var n = St(e),\n      r = St(t).muln(.9),\n      o = n.muln(1.5);\n  return n.gt(r) ? Bt(n) : o.lt(r) ? Bt(o) : Bt(r);\n}\n\nfunction St(e) {\n  return new Tt(Et(e), 16);\n}\n\nfunction Bt(e) {\n  return kt(e.toString(16));\n}\n\nvar Nt = function () {\n  function e(e) {\n    this.provider = e;\n  }\n\n  return e.prototype.getBlockByNumber = function (e, t) {\n    return this.sendAsync(\"eth_getBlockByNumber\", e, t);\n  }, e.prototype.getCode = function (e, t) {\n    return void 0 === t && (t = \"latest\"), this.sendAsync(\"eth_getCode\", e, t);\n  }, e.prototype.estimateGas = function (e) {\n    return this.sendAsync(\"eth_estimateGas\", e);\n  }, e.prototype.sendAsync = function (e) {\n    for (var t = this, n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];\n\n    return new Promise(function (r, o) {\n      t.provider.sendAsync({\n        id: 42,\n        jsonrpc: \"2.0\",\n        method: e,\n        params: n\n      }, function (e, t) {\n        e ? o(e) : r(t.result);\n      });\n    });\n  }, e;\n}(),\n    At = !1;\n\nfunction It() {\n  return new Promise(function (e) {\n    At ? e() : [\"loaded\", \"interactive\", \"complete\"].indexOf(document.readyState) > -1 ? (At = !0, e()) : window.addEventListener(\"load\", function () {\n      At = !0, e();\n    }, !1);\n  });\n}\n\nvar Dt = {\n  Blockchain: class {\n    constructor(e, t) {\n      this.name = e, this.netID = t;\n    }\n\n    toJSON() {\n      return JSON.parse('{ \"name\":\"' + this.name + '\", \"netID\":\"' + this.netID + '\"}');\n    }\n\n  }\n},\n    Ot = function (e, t) {\n  return function () {\n    for (var n = new Array(arguments.length), r = 0; r < n.length; r++) n[r] = arguments[r];\n\n    return e.apply(t, n);\n  };\n},\n    Lt = Object.prototype.toString;\n\nfunction Mt(e) {\n  return \"[object Array]\" === Lt.call(e);\n}\n\nfunction Gt(e) {\n  return null !== e && \"object\" == typeof e;\n}\n\nfunction Ft(e) {\n  return \"[object Function]\" === Lt.call(e);\n}\n\nfunction Ut(e, t) {\n  if (null != e) if (\"object\" != typeof e && (e = [e]), Mt(e)) for (var n = 0, r = e.length; n < r; n++) t.call(null, e[n], n, e);else for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && t.call(null, e[o], o, e);\n}\n\nvar qt = {\n  isArray: Mt,\n  isArrayBuffer: function (e) {\n    return \"[object ArrayBuffer]\" === Lt.call(e);\n  },\n  isBuffer: function (e) {\n    return null != e && null != e.constructor && \"function\" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e);\n  },\n  isFormData: function (e) {\n    return \"undefined\" != typeof FormData && e instanceof FormData;\n  },\n  isArrayBufferView: function (e) {\n    return \"undefined\" != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(e) : e && e.buffer && e.buffer instanceof ArrayBuffer;\n  },\n  isString: function (e) {\n    return \"string\" == typeof e;\n  },\n  isNumber: function (e) {\n    return \"number\" == typeof e;\n  },\n  isObject: Gt,\n  isUndefined: function (e) {\n    return void 0 === e;\n  },\n  isDate: function (e) {\n    return \"[object Date]\" === Lt.call(e);\n  },\n  isFile: function (e) {\n    return \"[object File]\" === Lt.call(e);\n  },\n  isBlob: function (e) {\n    return \"[object Blob]\" === Lt.call(e);\n  },\n  isFunction: Ft,\n  isStream: function (e) {\n    return Gt(e) && Ft(e.pipe);\n  },\n  isURLSearchParams: function (e) {\n    return \"undefined\" != typeof URLSearchParams && e instanceof URLSearchParams;\n  },\n  isStandardBrowserEnv: function () {\n    return (\"undefined\" == typeof navigator || \"ReactNative\" !== navigator.product) && \"undefined\" != typeof window && \"undefined\" != typeof document;\n  },\n  forEach: Ut,\n  merge: function e() {\n    var t = {};\n\n    function n(n, r) {\n      \"object\" == typeof t[r] && \"object\" == typeof n ? t[r] = e(t[r], n) : t[r] = n;\n    }\n\n    for (var r = 0, o = arguments.length; r < o; r++) Ut(arguments[r], n);\n\n    return t;\n  },\n  extend: function (e, t, n) {\n    return Ut(t, function (t, r) {\n      e[r] = n && \"function\" == typeof t ? Ot(t, n) : t;\n    }), e;\n  },\n  trim: function (e) {\n    return e.replace(/^\\s*/, \"\").replace(/\\s*$/, \"\");\n  }\n},\n    jt = function (e, t, n, r, o) {\n  return function (e, t, n, r, o) {\n    return e.config = t, n && (e.code = n), e.request = r, e.response = o, e;\n  }(new Error(e), t, n, r, o);\n};\n\nfunction Ht(e) {\n  return encodeURIComponent(e).replace(/%40/gi, \"@\").replace(/%3A/gi, \":\").replace(/%24/g, \"$\").replace(/%2C/gi, \",\").replace(/%20/g, \"+\").replace(/%5B/gi, \"[\").replace(/%5D/gi, \"]\");\n}\n\nvar Vt = [\"age\", \"authorization\", \"content-length\", \"content-type\", \"etag\", \"expires\", \"from\", \"host\", \"if-modified-since\", \"if-unmodified-since\", \"last-modified\", \"location\", \"max-forwards\", \"proxy-authorization\", \"referer\", \"retry-after\", \"user-agent\"],\n    Wt = qt.isStandardBrowserEnv() ? function () {\n  var e,\n      t = /(msie|trident)/i.test(navigator.userAgent),\n      n = document.createElement(\"a\");\n\n  function r(e) {\n    var r = e;\n    return t && (n.setAttribute(\"href\", r), r = n.href), n.setAttribute(\"href\", r), {\n      href: n.href,\n      protocol: n.protocol ? n.protocol.replace(/:$/, \"\") : \"\",\n      host: n.host,\n      search: n.search ? n.search.replace(/^\\?/, \"\") : \"\",\n      hash: n.hash ? n.hash.replace(/^#/, \"\") : \"\",\n      hostname: n.hostname,\n      port: n.port,\n      pathname: \"/\" === n.pathname.charAt(0) ? n.pathname : \"/\" + n.pathname\n    };\n  }\n\n  return e = r(window.location.href), function (t) {\n    var n = qt.isString(t) ? r(t) : t;\n    return n.protocol === e.protocol && n.host === e.host;\n  };\n}() : function () {\n  return !0;\n},\n    zt = qt.isStandardBrowserEnv() ? {\n  write: function (e, t, n, r, o, i) {\n    var a = [];\n    a.push(e + \"=\" + encodeURIComponent(t)), qt.isNumber(n) && a.push(\"expires=\" + new Date(n).toGMTString()), qt.isString(r) && a.push(\"path=\" + r), qt.isString(o) && a.push(\"domain=\" + o), !0 === i && a.push(\"secure\"), document.cookie = a.join(\"; \");\n  },\n  read: function (e) {\n    var t = document.cookie.match(new RegExp(\"(^|;\\\\s*)(\" + e + \")=([^;]*)\"));\n    return t ? decodeURIComponent(t[3]) : null;\n  },\n  remove: function (e) {\n    this.write(e, \"\", Date.now() - 864e5);\n  }\n} : {\n  write: function () {},\n  read: function () {\n    return null;\n  },\n  remove: function () {}\n},\n    Jt = function (e) {\n  return new Promise(function (t, n) {\n    var r = e.data,\n        o = e.headers;\n    qt.isFormData(r) && delete o[\"Content-Type\"];\n    var i = new XMLHttpRequest();\n\n    if (e.auth) {\n      var a = e.auth.username || \"\",\n          s = e.auth.password || \"\";\n      o.Authorization = \"Basic \" + btoa(a + \":\" + s);\n    }\n\n    if (i.open(e.method.toUpperCase(), function (e, t, n) {\n      if (!t) return e;\n      var r;\n      if (n) r = n(t);else if (qt.isURLSearchParams(t)) r = t.toString();else {\n        var o = [];\n        qt.forEach(t, function (e, t) {\n          null != e && (qt.isArray(e) ? t += \"[]\" : e = [e], qt.forEach(e, function (e) {\n            qt.isDate(e) ? e = e.toISOString() : qt.isObject(e) && (e = JSON.stringify(e)), o.push(Ht(t) + \"=\" + Ht(e));\n          }));\n        }), r = o.join(\"&\");\n      }\n      return r && (e += (-1 === e.indexOf(\"?\") ? \"?\" : \"&\") + r), e;\n    }(e.url, e.params, e.paramsSerializer), !0), i.timeout = e.timeout, i.onreadystatechange = function () {\n      if (i && 4 === i.readyState && (0 !== i.status || i.responseURL && 0 === i.responseURL.indexOf(\"file:\"))) {\n        var r,\n            o,\n            a,\n            s,\n            c,\n            u = \"getAllResponseHeaders\" in i ? (r = i.getAllResponseHeaders(), c = {}, r ? (qt.forEach(r.split(\"\\n\"), function (e) {\n          if (s = e.indexOf(\":\"), o = qt.trim(e.substr(0, s)).toLowerCase(), a = qt.trim(e.substr(s + 1)), o) {\n            if (c[o] && Vt.indexOf(o) >= 0) return;\n            c[o] = \"set-cookie\" === o ? (c[o] ? c[o] : []).concat([a]) : c[o] ? c[o] + \", \" + a : a;\n          }\n        }), c) : c) : null,\n            d = {\n          data: e.responseType && \"text\" !== e.responseType ? i.response : i.responseText,\n          status: i.status,\n          statusText: i.statusText,\n          headers: u,\n          config: e,\n          request: i\n        };\n        !function (e, t, n) {\n          var r = n.config.validateStatus;\n          n.status && r && !r(n.status) ? t(jt(\"Request failed with status code \" + n.status, n.config, null, n.request, n)) : e(n);\n        }(t, n, d), i = null;\n      }\n    }, i.onerror = function () {\n      n(jt(\"Network Error\", e, null, i)), i = null;\n    }, i.ontimeout = function () {\n      n(jt(\"timeout of \" + e.timeout + \"ms exceeded\", e, \"ECONNABORTED\", i)), i = null;\n    }, qt.isStandardBrowserEnv()) {\n      var c = zt,\n          u = (e.withCredentials || Wt(e.url)) && e.xsrfCookieName ? c.read(e.xsrfCookieName) : void 0;\n      u && (o[e.xsrfHeaderName] = u);\n    }\n\n    if (\"setRequestHeader\" in i && qt.forEach(o, function (e, t) {\n      void 0 === r && \"content-type\" === t.toLowerCase() ? delete o[t] : i.setRequestHeader(t, e);\n    }), e.withCredentials && (i.withCredentials = !0), e.responseType) try {\n      i.responseType = e.responseType;\n    } catch (t) {\n      if (\"json\" !== e.responseType) throw t;\n    }\n    \"function\" == typeof e.onDownloadProgress && i.addEventListener(\"progress\", e.onDownloadProgress), \"function\" == typeof e.onUploadProgress && i.upload && i.upload.addEventListener(\"progress\", e.onUploadProgress), e.cancelToken && e.cancelToken.promise.then(function (e) {\n      i && (i.abort(), n(e), i = null);\n    }), void 0 === r && (r = null), i.send(r);\n  });\n},\n    Kt = {\n  \"Content-Type\": \"application/x-www-form-urlencoded\"\n};\n\nfunction $t(e, t) {\n  !qt.isUndefined(e) && qt.isUndefined(e[\"Content-Type\"]) && (e[\"Content-Type\"] = t);\n}\n\nvar Zt,\n    Xt = {\n  adapter: ((\"undefined\" != typeof XMLHttpRequest || \"undefined\" != typeof process) && (Zt = Jt), Zt),\n  transformRequest: [function (e, t) {\n    return function (e, t) {\n      qt.forEach(e, function (n, r) {\n        r !== t && r.toUpperCase() === t.toUpperCase() && (e[t] = n, delete e[r]);\n      });\n    }(t, \"Content-Type\"), qt.isFormData(e) || qt.isArrayBuffer(e) || qt.isBuffer(e) || qt.isStream(e) || qt.isFile(e) || qt.isBlob(e) ? e : qt.isArrayBufferView(e) ? e.buffer : qt.isURLSearchParams(e) ? ($t(t, \"application/x-www-form-urlencoded;charset=utf-8\"), e.toString()) : qt.isObject(e) ? ($t(t, \"application/json;charset=utf-8\"), JSON.stringify(e)) : e;\n  }],\n  transformResponse: [function (e) {\n    if (\"string\" == typeof e) try {\n      e = JSON.parse(e);\n    } catch (e) {}\n    return e;\n  }],\n  timeout: 0,\n  xsrfCookieName: \"XSRF-TOKEN\",\n  xsrfHeaderName: \"X-XSRF-TOKEN\",\n  maxContentLength: -1,\n  validateStatus: function (e) {\n    return e >= 200 && e < 300;\n  }\n};\nXt.headers = {\n  common: {\n    Accept: \"application/json, text/plain, */*\"\n  }\n}, qt.forEach([\"delete\", \"get\", \"head\"], function (e) {\n  Xt.headers[e] = {};\n}), qt.forEach([\"post\", \"put\", \"patch\"], function (e) {\n  Xt.headers[e] = qt.merge(Kt);\n});\nvar Yt = Xt;\n\nfunction Qt() {\n  this.handlers = [];\n}\n\nQt.prototype.use = function (e, t) {\n  return this.handlers.push({\n    fulfilled: e,\n    rejected: t\n  }), this.handlers.length - 1;\n}, Qt.prototype.eject = function (e) {\n  this.handlers[e] && (this.handlers[e] = null);\n}, Qt.prototype.forEach = function (e) {\n  qt.forEach(this.handlers, function (t) {\n    null !== t && e(t);\n  });\n};\n\nvar en = Qt,\n    tn = function (e, t, n) {\n  return qt.forEach(n, function (n) {\n    e = n(e, t);\n  }), e;\n},\n    nn = function (e) {\n  return !(!e || !e.__CANCEL__);\n};\n\nfunction rn(e) {\n  e.cancelToken && e.cancelToken.throwIfRequested();\n}\n\nvar on = function (e) {\n  var t, n, r;\n  return rn(e), e.baseURL && (r = e.url, !/^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(r)) && (e.url = (t = e.baseURL, (n = e.url) ? t.replace(/\\/+$/, \"\") + \"/\" + n.replace(/^\\/+/, \"\") : t)), e.headers = e.headers || {}, e.data = tn(e.data, e.headers, e.transformRequest), e.headers = qt.merge(e.headers.common || {}, e.headers[e.method] || {}, e.headers || {}), qt.forEach([\"delete\", \"get\", \"head\", \"post\", \"put\", \"patch\", \"common\"], function (t) {\n    delete e.headers[t];\n  }), (e.adapter || Yt.adapter)(e).then(function (t) {\n    return rn(e), t.data = tn(t.data, t.headers, e.transformResponse), t;\n  }, function (t) {\n    return nn(t) || (rn(e), t && t.response && (t.response.data = tn(t.response.data, t.response.headers, e.transformResponse))), Promise.reject(t);\n  });\n};\n\nfunction an(e) {\n  this.defaults = e, this.interceptors = {\n    request: new en(),\n    response: new en()\n  };\n}\n\nan.prototype.request = function (e) {\n  \"string\" == typeof e && (e = qt.merge({\n    url: arguments[0]\n  }, arguments[1])), (e = qt.merge(Yt, {\n    method: \"get\"\n  }, this.defaults, e)).method = e.method.toLowerCase();\n  var t = [on, void 0],\n      n = Promise.resolve(e);\n\n  for (this.interceptors.request.forEach(function (e) {\n    t.unshift(e.fulfilled, e.rejected);\n  }), this.interceptors.response.forEach(function (e) {\n    t.push(e.fulfilled, e.rejected);\n  }); t.length;) n = n.then(t.shift(), t.shift());\n\n  return n;\n}, qt.forEach([\"delete\", \"get\", \"head\", \"options\"], function (e) {\n  an.prototype[e] = function (t, n) {\n    return this.request(qt.merge(n || {}, {\n      method: e,\n      url: t\n    }));\n  };\n}), qt.forEach([\"post\", \"put\", \"patch\"], function (e) {\n  an.prototype[e] = function (t, n, r) {\n    return this.request(qt.merge(r || {}, {\n      method: e,\n      url: t,\n      data: n\n    }));\n  };\n});\nvar sn = an;\n\nfunction cn(e) {\n  this.message = e;\n}\n\ncn.prototype.toString = function () {\n  return \"Cancel\" + (this.message ? \": \" + this.message : \"\");\n}, cn.prototype.__CANCEL__ = !0;\nvar un = cn;\n\nfunction dn(e) {\n  if (\"function\" != typeof e) throw new TypeError(\"executor must be a function.\");\n  var t;\n  this.promise = new Promise(function (e) {\n    t = e;\n  });\n  var n = this;\n  e(function (e) {\n    n.reason || (n.reason = new un(e), t(n.reason));\n  });\n}\n\ndn.prototype.throwIfRequested = function () {\n  if (this.reason) throw this.reason;\n}, dn.source = function () {\n  var e;\n  return {\n    token: new dn(function (t) {\n      e = t;\n    }),\n    cancel: e\n  };\n};\nvar ln = dn;\n\nfunction hn(e) {\n  var t = new sn(e),\n      n = Ot(sn.prototype.request, t);\n  return qt.extend(n, sn.prototype, t), qt.extend(n, t), n;\n}\n\nvar fn = hn(Yt);\nfn.Axios = sn, fn.create = function (e) {\n  return hn(qt.merge(Yt, e));\n}, fn.Cancel = un, fn.CancelToken = ln, fn.isCancel = nn, fn.all = function (e) {\n  return Promise.all(e);\n}, fn.spread = function (e) {\n  return function (t) {\n    return e.apply(null, t);\n  };\n};\nvar pn = fn,\n    gn = fn;\npn.default = gn;\nvar mn = pn;\nvar vn = \"https://dispatch.pokt.network\",\n    yn = \"/v1/dispatch\",\n    wn = \"/v1/report\",\n    bn = \"/v1/relay/\";\nvar _n = {\n  Node: class {\n    constructor(e, t, n) {\n      this.network = e, this.netID = t;\n      var r = n.split(\":\");\n      this.ip = r[0], this.port = r[1], n.includes(\"https://\") || n.includes(\"http://\") ? this.ipPort = n : \"443\" === this.port || 443 === this.port ? this.ipPort = \"https://\" + n : this.ipPort = \"http://\" + n;\n    }\n\n    isValid() {\n      for (var e in this) if (!this.hasOwnProperty(e) || \"\" == this[e]) return !1;\n\n      return !0;\n    }\n\n    isEqual(e, t) {\n      return this.netID == e.toString() && this.network == t.toString();\n    }\n\n    async sendRelay(e, t) {\n      try {\n        const o = mn.create({\n          baseURL: this.ipPort,\n          timeout: e.configuration.requestTimeOut,\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        var n = await o.post(bn, e.toJSON());\n\n        if (200 == n.status && null != n.data) {\n          var r = n.data;\n          return t ? void t(r, null) : r;\n        }\n\n        return t ? void t(null, new Error(\"Failed to send relay with error: \" + n.data)) : new Error(\"Failed to send relay with error: \" + n.data);\n      } catch (e) {\n        return t ? void t(null, new Error(\"Failed to send relay with error: \" + e)) : new Error(\"Failed to send relay with error: \" + e);\n      }\n    }\n\n  }\n};\nconst kn = _n.Node;\nvar En = {\n  Dispatch: class {\n    constructor(e) {\n      this.configuration = e, this.axiosInstance = mn.create({\n        baseURL: vn,\n        path: yn,\n        timeout: this.configuration.requestTimeOut,\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n    }\n\n    blockchainsJSON() {\n      var e = [];\n      return this.configuration.blockchains.forEach(t => {\n        e.push(t);\n      }), e;\n    }\n\n    async retrieveServiceNodes(e) {\n      try {\n        var t;\n\n        if (null != (t = await this.axiosInstance.post(yn, {\n          DevID: this.configuration.devID,\n          Blockchains: this.blockchainsJSON()\n        })) && 200 == t.status && null != t.data) {\n          var n = this.parseDispatchResponse(t.data);\n          return e ? void e(n, null) : n;\n        }\n\n        return e ? void e(null, new Error(\"Failed to retrieve service nodes with error: \" + t.data)) : new Error(\"Failed to retrieve service nodes with error: \" + t.data);\n      } catch (t) {\n        return e ? void e(null, new Error(\"Failed to retrieve service nodes with error: \" + t)) : new Error(\"Failed to retrieve service nodes with error: \" + t);\n      }\n    }\n\n    parseDispatchResponse(e) {\n      try {\n        var t = [];\n        if (Array.isArray(e)) e.forEach(e => {\n          var n = e.name,\n              r = e.netid;\n          e.ips && e.ips.forEach(e => {\n            var o = new kn(n, r, e);\n            t.push(o);\n          });\n        });else {\n          var n = e.name,\n              r = e.netid;\n          e.ips && e.ips.forEach(e => {\n            var o = new kn(n, r, e);\n            t.push(o);\n          });\n        }\n        return t;\n      } catch (e) {\n        return new Error(\"Failed to parsed service nodes with error: \" + e);\n      }\n    }\n\n  }\n};\nvar Tn = {\n  Relay: class {\n    constructor(e, t, n, r) {\n      this.blockchain = e, this.netID = t, this.data = n, this.configuration = r;\n    }\n\n    toJSON() {\n      return {\n        Blockchain: this.blockchain,\n        NetID: this.netID,\n        Data: this.data,\n        DevID: this.configuration.devID\n      };\n    }\n\n    isValid() {\n      for (var e in this) if (!this.hasOwnProperty(e) || \"\" == this[e]) return !1;\n\n      return !0;\n    }\n\n  }\n};\nvar Pn = {\n  Report: class {\n    constructor(e, t, n) {\n      this.ip = e, this.message = t, this.configuration = n;\n    }\n\n    toJSON() {\n      return {\n        IP: this.ip,\n        Message: this.message\n      };\n    }\n\n    isValid() {\n      for (var e in this) if (!this.hasOwnProperty(e) || \"\" == this[e]) return !1;\n\n      return !0;\n    }\n\n    async send(e) {\n      const t = mn.create({\n        baseURL: vn,\n        timeout: this.configuration.requestTimeOut,\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      var n = await t.post(wn, this.toJSON());\n      return 200 == n.status && null != n.data ? e ? void e(null, n.data) : n.data : e ? void e(new Error(\"Failed to send report with error: \" + n.data)) : new Error(\"Failed to send report with error: \" + n.data);\n    }\n\n  }\n};\nvar Rn = {\n  Wallet: class {\n    constructor(e, t, n, r, o) {\n      this.address = e, this.privateKey = t, this.network = n, this.networkID = r, this.data = o;\n    }\n\n  }\n},\n    xn = n(function (e) {\n  e.exports = Object.assign(e.exports, Dt, En, _n, Tn, Pn, Rn);\n});\nconst Cn = xn.Blockchain,\n      Sn = xn.Dispatch,\n      Bn = xn.Relay,\n      Nn = xn.Report;\n\nclass An {\n  constructor(e, t, n, r) {\n    this.devID = e, this.blockchains = t, this.maxNodes = n || 5, this.nodes = [], this.requestTimeOut = r || 1e4, this.dispatch = null;\n  }\n\n  nodesIsEmpty() {\n    return null == this.nodes || 0 == this.nodes.length;\n  }\n\n}\n\nvar In = {\n  Pocket: class {\n    constructor(e) {\n      var t = [];\n      if (null == e.devID || null == e.networkName || null == e.netIDs) return new Error(\"Invalid number of arguments\");\n      if (Array.isArray(e.netIDs)) e.netIDs.forEach(n => {\n        var r = new Cn(e.networkName, n);\n        t.push(r.toJSON());\n      });else {\n        var n = new Cn(e.networkName, e.netIDs);\n        t.push(n.toJSON());\n      }\n      this.configuration = new An(e.devID, t, e.maxNodes || 5, e.requestTimeOut || 1e4);\n    }\n\n    createRelay(e, t, n) {\n      return new Bn(e, t, \"string\" == typeof n ? n : JSON.stringify(n), this.configuration);\n    }\n\n    createReport(e, t) {\n      return new Nn(e, t, this.configuration);\n    }\n\n    getDispatch() {\n      return null == this.dispatch && (this.dispatch = new Sn(this.configuration)), this.dispatch;\n    }\n\n    async getNode(e, t) {\n      try {\n        var n = [];\n\n        if (this.configuration.nodesIsEmpty()) {\n          var r = await this.retrieveNodes();\n          if (r instanceof Error == 1) throw r;\n          this.configuration.nodes = r;\n        }\n\n        return this.configuration.nodes.forEach(r => {\n          r.isEqual(e, t) && n.push(r);\n        }), n.length <= 0 ? null : n[Math.floor(Math.random() * n.length)];\n      } catch (e) {\n        return null;\n      }\n    }\n\n    async sendReport(e, t) {\n      try {\n        if (null == e) throw new Error(\"Report is null\");\n        if (!e.isValid()) throw new Error(\"One or more Report properties are empty.\");\n        var n = await e.send();\n        return n instanceof Error == 0 ? t ? void t(null, n) : n : t ? void t(n) : n;\n      } catch (e) {\n        return t ? void t(e) : e;\n      }\n    }\n\n    async sendRelay(e, t) {\n      try {\n        if (null == e || null == e.data) return t ? void t(new Error(\"Relay is null or data field is missing\")) : new Error(\"Relay is null or data field is missing\");\n        if (!e.isValid()) return t ? void t(new Error(\"Relay is missing a property, please verify all properties.\")) : new Error(\"Relay is missing a property, please verify all properties.\");\n        var n = await this.getNode(e.netID, e.blockchain);\n        if (null == n) return t ? void t(new Error(\"Node is empty.\")) : new Error(\"Node is empty.\");\n        var r = await n.sendRelay(e);\n        return r instanceof Error == 0 ? t ? void t(null, r) : r : t ? void t(r) : r;\n      } catch (e) {\n        return t ? void t(new Error(\"Failed to send relay with error: \" + e)) : new Error(\"Failed to send relay with error: \" + e);\n      }\n    }\n\n    async retrieveNodes(e) {\n      try {\n        var t = this.getDispatch(),\n            n = await t.retrieveServiceNodes();\n        return n instanceof Error == 0 && 0 != n.length ? (this.configuration.nodes = n, e ? void e(null, n) : n) : e ? void e(new Error(\"Failed to retrieve a list of nodes.\"), null) : new Error(\"Failed to retrieve a list of nodes.\");\n      } catch (t) {\n        return e ? void e(new Error(\"Failed to retrieve a list of nodes with error: \" + t), null) : new Error(\"Failed to retrieve a list of nodes with error: \" + t);\n      }\n    }\n\n  },\n  Wallet: xn.Wallet,\n  Relay: xn.Relay\n},\n    Dn = window && window.__awaiter || function (e, t, n, r) {\n  return new (n || (n = Promise))(function (o, i) {\n    function a(e) {\n      try {\n        c(r.next(e));\n      } catch (e) {\n        i(e);\n      }\n    }\n\n    function s(e) {\n      try {\n        c(r.throw(e));\n      } catch (e) {\n        i(e);\n      }\n    }\n\n    function c(e) {\n      e.done ? o(e.value) : new n(function (t) {\n        t(e.value);\n      }).then(a, s);\n    }\n\n    c((r = r.apply(e, t || [])).next());\n  });\n},\n    On = window && window.__generator || function (e, t) {\n  var n,\n      r,\n      o,\n      i,\n      a = {\n    label: 0,\n    sent: function () {\n      if (1 & o[0]) throw o[1];\n      return o[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return i = {\n    next: s(0),\n    throw: s(1),\n    return: s(2)\n  }, \"function\" == typeof Symbol && (i[Symbol.iterator] = function () {\n    return this;\n  }), i;\n\n  function s(i) {\n    return function (s) {\n      return function (i) {\n        if (n) throw new TypeError(\"Generator is already executing.\");\n\n        for (; a;) try {\n          if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;\n\n          switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {\n            case 0:\n            case 1:\n              o = i;\n              break;\n\n            case 4:\n              return a.label++, {\n                value: i[1],\n                done: !1\n              };\n\n            case 5:\n              a.label++, r = i[1], i = [0];\n              continue;\n\n            case 7:\n              i = a.ops.pop(), a.trys.pop();\n              continue;\n\n            default:\n              if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {\n                a = 0;\n                continue;\n              }\n\n              if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {\n                a.label = i[1];\n                break;\n              }\n\n              if (6 === i[0] && a.label < o[1]) {\n                a.label = o[1], o = i;\n                break;\n              }\n\n              if (o && a.label < o[2]) {\n                a.label = o[2], a.ops.push(i);\n                break;\n              }\n\n              o[2] && a.ops.pop(), a.trys.pop();\n              continue;\n          }\n\n          i = t.call(e, a);\n        } catch (e) {\n          i = [6, e], r = 0;\n        } finally {\n          n = o = 0;\n        }\n\n        if (5 & i[0]) throw i[1];\n        return {\n          value: i[0] ? i[1] : void 0,\n          done: !0\n        };\n      }([i, s]);\n    };\n  }\n},\n    Ln = [\"email\", \"reputation\"],\n    Mn = document.createElement(\"iframe\");\n\nMn.style.width = \"0\", Mn.style.height = \"0\", Mn.style.border = \"none\", Mn.style.position = \"absolute\", Mn.style.top = \"-999px\", Mn.style.left = \"-999px\", Mn.src = \"https://widget.portis.io\", It().then(function () {\n  document.body.appendChild(Mn);\n});\n\nvar Gn = function () {\n  function e(e, t, n) {\n    void 0 === n && (n = {}), this._widgetUrl = \"https://widget.portis.io\", function () {\n      var e = \"localhost\" === location.hostname || \"127.0.0.1\" === location.hostname,\n          t = \"https:\" === location.protocol;\n      if (!(e || t)) throw \"[Portis] Access to the WebCrypto API is restricted to secure origins.\\nIf this is a development environment please use http://localhost:\" + location.port + \" instead.\\nOtherwise, please use an SSL certificate.\";\n    }(), this._valiadateParams(e, t, n), this.config = {\n      dappId: e,\n      network: vt(t, n.gasRelay),\n      version: \"2.0.0-beta.54\",\n      scope: n.scope,\n      registerPageByDefault: n.registerPageByDefault\n    }, this.widget = this._initWidget(), this.provider = this._initProvider(n);\n  }\n\n  return e.prototype.changeNetwork = function (e, t) {\n    var n = vt(e, t);\n    this.clearSubprovider(ht), this.clearSubprovider(j), this.config.network = n;\n  }, e.prototype.setDefaultEmail = function (e) {\n    this.config.defaultEmail = e;\n  }, e.prototype.showPortis = function () {\n    return Dn(this, void 0, void 0, function () {\n      return On(this, function (e) {\n        switch (e.label) {\n          case 0:\n            return [4, this.widget];\n\n          case 1:\n            return [2, e.sent().communication.showPortis(this.config)];\n        }\n      });\n    });\n  }, e.prototype.logout = function () {\n    return Dn(this, void 0, void 0, function () {\n      return On(this, function (e) {\n        switch (e.label) {\n          case 0:\n            return [4, this.widget];\n\n          case 1:\n            return [2, e.sent().communication.logout()];\n        }\n      });\n    });\n  }, e.prototype.onLogin = function (e) {\n    this._onLoginCallback = e;\n  }, e.prototype.onLogout = function (e) {\n    this._onLogoutCallback = e;\n  }, e.prototype.onActiveWalletChanged = function (e) {\n    this._onActiveWalletChangedCallback = e;\n  }, e.prototype.onError = function (e) {\n    this._onErrorCallback = e;\n  }, e.prototype.getExtendedPublicKey = function (e, t) {\n    return void 0 === e && (e = \"m/44'/60'/0'/0/0\"), void 0 === t && (t = \"Ethereum\"), Dn(this, void 0, void 0, function () {\n      return On(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return [4, this.widget];\n\n          case 1:\n            return [2, n.sent().communication.getExtendedPublicKey(e, t, this.config)];\n        }\n      });\n    });\n  }, e.prototype.importWallet = function (e) {\n    return Dn(this, void 0, void 0, function () {\n      return On(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return [4, this.widget];\n\n          case 1:\n            return [2, t.sent().communication.importWallet(e, this.config)];\n        }\n      });\n    });\n  }, e.prototype.isLoggedIn = function () {\n    return Dn(this, void 0, void 0, function () {\n      return On(this, function (e) {\n        switch (e.label) {\n          case 0:\n            return [4, this.widget];\n\n          case 1:\n            return [2, e.sent().communication.isLoggedIn()];\n        }\n      });\n    });\n  }, e.prototype.signBitcoinTransaction = function (e) {\n    return Dn(this, void 0, void 0, function () {\n      return On(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return [4, this.widget];\n\n          case 1:\n            return [2, t.sent().communication.signBitcoinTransaction(e, this.config)];\n        }\n      });\n    });\n  }, e.prototype.showBitcoinWallet = function (e) {\n    return void 0 === e && (e = \"m/49'/0'/0'/0/0\"), Dn(this, void 0, void 0, function () {\n      return On(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return [4, this.widget];\n\n          case 1:\n            return [2, t.sent().communication.showBitcoinWallet(e, this.config)];\n        }\n      });\n    });\n  }, e.prototype._valiadateParams = function (e, t, n) {\n    if (!e) throw new Error(\"[Portis] 'dappId' is required. Get your dappId here: https://dashboard.portis.io\");\n    if (!t) throw new Error(\"[Portis] 'network' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n\n    if (n.scope) {\n      if (!Array.isArray(n.scope)) throw new Error(\"[Portis] 'scope' must be an array. Read more about it here: https://docs.portis.io/#/configuration?id=scope\");\n      if (n.scope.filter(function (e) {\n        return Ln.indexOf(e) < 0;\n      }).length > 0) throw new Error(\"[Portis] invalid 'scope' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=scope\");\n    }\n\n    if (void 0 !== n.registerPageByDefault && \"boolean\" != typeof n.registerPageByDefault) throw new Error(\"[Portis] invalid 'registerPageByDefault' parameter, must be a boolean. Read more about it here: https://docs.portis.io/#/configuration?id=registerPageByDefault\");\n  }, e.prototype._initWidget = function () {\n    return Dn(this, void 0, void 0, function () {\n      var e, t, n, r, o;\n      return On(this, function (i) {\n        switch (i.label) {\n          case 0:\n            return [4, It()];\n\n          case 1:\n            return i.sent(), document.body.contains(Mn) && document.body.removeChild(Mn), (e = document.createElement(\"style\")).innerHTML = \"\\n.por_portis-container {\\n  position: fixed;\\n  width: 0px;\\n  height: 0px;\\n  top: 0px;\\n  right: 0px;\\n  z-index: 2147483647;\\n}\\n\\n@media (max-width: 576px) {\\n  .por_portis-container {\\n    bottom: 0;\\n    top: auto;\\n  }\\n}\\n\\n.por_portis-widget-frame {\\n  position: fixed;\\n  width: 375px;\\n  height: 0;\\n  top: 20px;\\n  right: 20px;\\n  box-shadow: 0 5px 40px rgba(0,0,0,.16);\\n  border-radius: 8px;\\n  overflow: hidden;\\n  z-index: 2147483000;\\n}\\n\\n@media (max-width: 576px) {\\n  .por_portis-widget-frame {\\n    bottom: 0;\\n    top: auto;\\n    width: 100%;\\n    right: 0;\\n    left: 0;\\n    border-bottom-left-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n}\\n\", (t = document.createElement(\"div\")).className = \"por_portis-container\", (n = document.createElement(\"div\")).id = \"portis-container-\" + Date.now(), n.className = \"por_portis-widget-frame\", t.appendChild(n), document.body.appendChild(t), document.head.appendChild(e), (r = mt.connectToChild({\n              url: this._widgetUrl,\n              appendTo: document.getElementById(n.id),\n              methods: {\n                setHeight: this._setHeight.bind(this),\n                getWindowSize: this._getWindowSize.bind(this),\n                onLogin: this._onLogin.bind(this),\n                onLogout: this._onLogout.bind(this),\n                onActiveWalletChanged: this._onActiveWalletChanged.bind(this),\n                onError: this._onError.bind(this)\n              }\n            })).iframe.style.position = \"absolute\", r.iframe.style.height = \"100%\", r.iframe.style.width = \"100%\", r.iframe.style.border = \"0 transparent\", [4, r.promise];\n\n          case 2:\n            return (o = i.sent()).retrieveSession(this.config), [2, {\n              communication: o,\n              iframe: r.iframe,\n              widgetFrame: n\n            }];\n        }\n      });\n    });\n  }, e.prototype._initProvider = function (e) {\n    var t = this,\n        n = new S(),\n        r = new Nt(n);\n\n    if (n.send = function (e, r) {\n      if (\"string\" == typeof e) return new Promise(function (t, o) {\n        n.sendAsync({\n          jsonrpc: \"2.0\",\n          id: 42,\n          method: e,\n          params: r || []\n        }, function (e, n) {\n          e ? o(e) : t(n.result);\n        });\n      });\n\n      if (!r) {\n        var o = null;\n\n        switch (e.method) {\n          case \"eth_accounts\":\n          case \"eth_coinbase\":\n            o = t._selectedAddress ? [t._selectedAddress] : [];\n            break;\n\n          case \"net_version\":\n            o = t._network;\n            break;\n\n          case \"eth_uninstallFilter\":\n            n.sendAsync(e, function (e) {\n              return e;\n            }), o = !0;\n            break;\n\n          default:\n            var i = \"The Portis Web3 object does not support synchronous methods like \" + e.method + \" without a callback parameter.\";\n            throw new Error(i);\n        }\n\n        return {\n          id: e.id,\n          jsonrpc: e.jsonrpc,\n          result: o\n        };\n      }\n\n      n.sendAsync(e, r);\n    }, n.addProvider(new V({\n      web3_clientVersion: \"Portis/v\" + this.config.version + \"/javascript\",\n      net_listening: !0,\n      eth_hashrate: \"0x00\",\n      eth_mining: !1,\n      eth_syncing: !0\n    })), n.addProvider(new j()), n.addProvider(new pt()), n.addProvider(new z()), n.addProvider(new ht()), n.addProvider({\n      setEngine: function (e) {\n        return e;\n      },\n      handleRequest: function (e, n, r) {\n        return Dn(t, void 0, void 0, function () {\n          return On(this, function (t) {\n            return e.id || (e.id = 42), n(), [2];\n          });\n        });\n      }\n    }), n.addProvider(new Z({\n      getAccounts: function (e) {\n        return Dn(t, void 0, void 0, function () {\n          var t, n, r;\n          return On(this, function (o) {\n            switch (o.label) {\n              case 0:\n                return [4, this.widget];\n\n              case 1:\n                return [4, o.sent().communication.getAccounts(this.config)];\n\n              case 2:\n                return t = o.sent(), n = t.error, r = t.result, !n && r && (this._selectedAddress = r[0]), e(n, r), [2];\n            }\n          });\n        });\n      },\n      signTransaction: function (e, n) {\n        return Dn(t, void 0, void 0, function () {\n          var t, r, o;\n          return On(this, function (i) {\n            switch (i.label) {\n              case 0:\n                return [4, this.widget];\n\n              case 1:\n                return [4, i.sent().communication.signTransaction(e, this.config)];\n\n              case 2:\n                return t = i.sent(), r = t.error, o = t.result, n(r, o), [2];\n            }\n          });\n        });\n      },\n      signMessage: function (e, n) {\n        return Dn(t, void 0, void 0, function () {\n          var t, r, o, i, a;\n          return On(this, function (s) {\n            switch (s.label) {\n              case 0:\n                return [4, this.widget];\n\n              case 1:\n                return t = s.sent().communication, r = Object.assign({}, e, {\n                  messageStandard: \"signMessage\"\n                }), [4, t.signMessage(r, this.config)];\n\n              case 2:\n                return o = s.sent(), i = o.error, a = o.result, n(i, a), [2];\n            }\n          });\n        });\n      },\n      signPersonalMessage: function (e, n) {\n        return Dn(t, void 0, void 0, function () {\n          var t, r, o, i, a;\n          return On(this, function (s) {\n            switch (s.label) {\n              case 0:\n                return [4, this.widget];\n\n              case 1:\n                return t = s.sent().communication, r = Object.assign({}, e, {\n                  messageStandard: \"signPersonalMessage\"\n                }), [4, t.signMessage(r, this.config)];\n\n              case 2:\n                return o = s.sent(), i = o.error, a = o.result, n(i, a), [2];\n            }\n          });\n        });\n      },\n      signTypedMessage: function (e, n) {\n        return Dn(t, void 0, void 0, function () {\n          var t, r, o, i, a;\n          return On(this, function (s) {\n            switch (s.label) {\n              case 0:\n                return [4, this.widget];\n\n              case 1:\n                return t = s.sent().communication, r = Object.assign({}, e, {\n                  messageStandard: \"signTypedMessage\"\n                }), [4, t.signMessage(r, this.config)];\n\n              case 2:\n                return o = s.sent(), i = o.error, a = o.result, n(i, a), [2];\n            }\n          });\n        });\n      },\n      signTypedMessageV3: function (e, n) {\n        return Dn(t, void 0, void 0, function () {\n          var t, r, o, i, a;\n          return On(this, function (s) {\n            switch (s.label) {\n              case 0:\n                return [4, this.widget];\n\n              case 1:\n                return t = s.sent().communication, r = Object.assign({}, e, {\n                  messageStandard: \"signTypedMessageV3\"\n                }), [4, t.signMessage(r, this.config)];\n\n              case 2:\n                return o = s.sent(), i = o.error, a = o.result, n(i, a), [2];\n            }\n          });\n        });\n      },\n      estimateGas: function (e, n) {\n        return Dn(t, void 0, void 0, function () {\n          var t;\n          return On(this, function (o) {\n            switch (o.label) {\n              case 0:\n                return [4, Pt(r, e)];\n\n              case 1:\n                return t = o.sent(), n(null, t), [2];\n            }\n          });\n        });\n      },\n      getGasPrice: function (e) {\n        return Dn(t, void 0, void 0, function () {\n          return On(this, function (t) {\n            return e(null, \"\"), [2];\n          });\n        });\n      }\n    })), e.pocketDevId) {\n      var o = new In.Pocket({\n        devID: e.pocketDevId,\n        networkName: \"ETH\",\n        netIDs: [this.config.network.chainId]\n      });\n      n.addProvider({\n        setEngine: function (e) {\n          return e;\n        },\n        handleRequest: function (e, r, i) {\n          return Dn(t, void 0, void 0, function () {\n            var t, r, a;\n            return On(this, function (s) {\n              switch (s.label) {\n                case 0:\n                  return [4, o.sendRelay(new In.Relay(\"ETH\", this.config.network.chainId, JSON.stringify(e), o.configuration))];\n\n                case 1:\n                  if ((t = s.sent()) instanceof Error || !t) a = t || new Error(\"Unknown error\"), r = null;else try {\n                    r = JSON.parse(t).result, a = null;\n                  } catch (e) {\n                    r = null, a = e;\n                  }\n                  return \"net_version\" === e.method && (this._network = r, n.networkVersion = this._network), i(a, r), [2];\n              }\n            });\n          });\n        }\n      });\n    } else n.addProvider({\n      setEngine: function (e) {\n        return e;\n      },\n      handleRequest: function (e, r, o) {\n        return Dn(t, void 0, void 0, function () {\n          var t, r, i;\n          return On(this, function (a) {\n            switch (a.label) {\n              case 0:\n                return [4, this.widget];\n\n              case 1:\n                return [4, a.sent().communication.relay(e, this.config)];\n\n              case 2:\n                return t = a.sent(), r = t.error, i = t.result, \"net_version\" === e.method && (this._network = i, n.networkVersion = this._network), o(r, i), [2];\n            }\n          });\n        });\n      }\n    });\n\n    return n.enable = function () {\n      return new Promise(function (e, t) {\n        n.sendAsync({\n          method: \"eth_accounts\"\n        }, function (n, r) {\n          n ? t(n) : e(r.result);\n        });\n      });\n    }, n.isConnected = function () {\n      return !0;\n    }, n.isPortis = !0, n.on(\"error\", function (e) {\n      e && e.message && e.message.includes(\"PollingBlockTracker\") ? console.warn(\"If you see this warning constantly, there might be an error with your RPC node.\") : console.error(e);\n    }), n.start(), n;\n  }, e.prototype._setHeight = function (e) {\n    return Dn(this, void 0, void 0, function () {\n      return On(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return [4, this.widget];\n\n          case 1:\n            return t.sent().widgetFrame.style.height = e + \"px\", [2];\n        }\n      });\n    });\n  }, e.prototype._getWindowSize = function () {\n    var e = document.getElementsByTagName(\"body\")[0];\n    return {\n      width: window.innerWidth || document.documentElement.clientWidth || e.clientWidth,\n      height: window.innerHeight || document.documentElement.clientHeight || e.clientHeight\n    };\n  }, e.prototype._onLogin = function (e, t, n) {\n    this._onLoginCallback && this._onLoginCallback(e, t, n);\n  }, e.prototype._onLogout = function () {\n    this._selectedAddress = \"\", this._onLogoutCallback && this._onLogoutCallback();\n  }, e.prototype._onActiveWalletChanged = function (e) {\n    this._onActiveWalletChangedCallback && this._onActiveWalletChangedCallback(e);\n  }, e.prototype._onError = function (e) {\n    this._onErrorCallback && this._onErrorCallback(e);\n  }, e.prototype.clearSubprovider = function (e) {\n    var t = this.provider._providers.find(function (t) {\n      return t instanceof e;\n    });\n\n    this.provider.removeProvider(t), this.provider.addProvider(new e());\n  }, e;\n}();\n\nexport default Gn;","map":{"version":3,"sources":["../node_modules/@portis/web3-provider-engine/util/stoplight.js","../node_modules/@portis/web3-provider-engine/util/rpc-cache-utils.js","../node_modules/@portis/web3-provider-engine/util/random-id.js","../node_modules/@portis/web3-provider-engine/util/create-payload.js","../node_modules/@portis/web3-provider-engine/index.js","../node_modules/@portis/web3-provider-engine/subproviders/subprovider.js","../node_modules/@portis/web3-provider-engine/subproviders/json-rpc-engine-middleware.js","../node_modules/@portis/eth-json-rpc-middleware/cache-utils.js","../node_modules/@portis/eth-json-rpc-middleware/block-cache.js","../node_modules/@portis/web3-provider-engine/subproviders/cache.js","../node_modules/@portis/web3-provider-engine/subproviders/fixture.js","../node_modules/@portis/web3-provider-engine/subproviders/filters.js","../node_modules/@portis/web3-provider-engine/util/estimate-gas.js","../node_modules/@portis/web3-provider-engine/subproviders/hooked-wallet.js","../node_modules/ethereumjs-tx/es5/index.js","../node_modules/@portis/web3-provider-engine/subproviders/nonce-tracker.js","../node_modules/@portis/web3-provider-engine/subproviders/subscriptions.js","../node_modules/penpal/lib/index.js","../node_modules/@portis/web3/es/networks.js","../node_modules/@portis/web3/es/utils/getTxGas.js","../node_modules/@portis/web3/es/utils/query.js","../node_modules/@portis/web3/es/utils/onWindowLoad.js","../node_modules/pocket-js-core/src/models/blockchain.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/node_modules/is-buffer/index.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/index.js","../node_modules/pocket-js-core/src/utils/constants.js","../node_modules/pocket-js-core/src/models/node.js","../node_modules/pocket-js-core/src/models/dispatch.js","../node_modules/pocket-js-core/src/models/relay.js","../node_modules/pocket-js-core/src/models/report.js","../node_modules/pocket-js-core/src/models/wallet.js","../node_modules/pocket-js-core/src/models/index.js","../node_modules/pocket-js-core/src/pocket.js","../node_modules/pocket-js-core/src/index.js","../node_modules/@portis/web3/es/index.js","../node_modules/@portis/web3/es/utils/secureOrigin.js","../node_modules/@portis/web3/es/styles.js"],"names":["EventEmitter","require$$0","inherits","require$$1","Stoplight","this","call","isLocked","prototype","go","emit","stop","await","fn","self","once","setTimeout","payload","index","blockTagParamIndex","params","length","method","datePart","Date","getTime","Math","pow","extraPart","floor","random","data","extend","id","getRandomId","jsonrpc","noop","Web3ProviderEngine","Object","defineProperty","value","opts","setMaxListeners","directProvider","sendAsync","_handleAsync","bind","blockTrackerProvider","_blockTracker","blockTracker","EthBlockTracker","provider","pollingInterval","setSkipCacheFlag","_ready","currentBlock","_providers","start","cb","on","blockNumber","_getBlockByNumber","err","block","bufferBlock","_setCurrentBlock","_running","removeAllListeners","isRunning","addProvider","source","splice","push","setEngine","removeProvider","indexOf","Error","send","Array","isArray","map","req","createPayload","skipCache","res","result","finished","currentProvider","error","stack","next","after","unshift","end","handleRequest","e","_error","_result","eachSeries","callback","resultObj","message","code","jsonBlock","number","ethUtil","toBuffer","hash","parentHash","nonce","mixHash","sha3Uncles","logsBloom","transactionsRoot","stateRoot","receiptsRoot","receiptRoot","miner","difficulty","totalDifficulty","size","extraData","gasLimit","gasUsed","timestamp","transactions","SubProvider","engine","emitPayload","Subprovider","[object Object]","constructorFn","super","_constructorFn","middleware","provEngNext","provEngEnd","handler","cacheIdentifierForPayload","canCache","blockTagForPayload","paramsWithoutBlockTag","cacheTypeForPayload","skipBlockRef","simpleParams","stringify","slice","emptyValues","undefined","blockCache","BlockCacheStrategy","strategies","perma","fork","createAsyncMiddleware","async","type","cacheUtils","strategy","canCacheRequest","blockTag","requestedBlockNumber","latestBlockNumber","getLatestBlock","clearBefore","cacheResult","get","set","cache","blockNumberHex","Number","parseInt","newCache","getBlockCacheForPayload","canCacheResult","includes","blockHash","oldBlockHex","oldBlockNumber","keys","filter","num","forEach","ProviderSubprovider","createBlockCacheMiddleware","assign","FixtureProvider","staticResponses","staticResponse","createFilterMiddleware","txParams","hexRegex","HookedWalletSubprovider","nonceLock","Semaphore","getAccounts","processTransaction","processMessage","processPersonalMessage","processTypedMessage","processTypedMessageV3","approveTransaction","autoApprove","approveMessage","approvePersonalMessage","approveTypedMessage","approveTypedMessageV3","signTransaction","mustProvideInConstructor","signMessage","signPersonalMessage","signTypedMessage","signTypedMessageV3","recoverPersonalSignature","publishTransaction","estimateGas","getGasPrice","_parityRequests","_parityRequestCount","msgParams","extraParams","address","accounts","waterfall","validateTransaction","processSignTransaction","resemblesData","resemblesAddress","from","validateMessage","first","warning","console","warn","validatePersonalMessage","signature","sig","validateTypedMessage","validateTypedMessageV3","parityPostTransaction","parityPostSign","requestId","parityCheckRequest","account","didApprove","checkApproval","finalizeAndSubmitTx","finalizeTx","reqId","toString","txHash","senderHex","sigUtil","validateSender","senderIsValid","isValidHex","senderAddress","toLowerCase","take","fillInTxExtras","leave","signedTx","raw","tx","rawTx","tasks","gasPrice","gas","cloneTxParams","parallel","taskResults","to","string","fixed","addHexPrefix","isValidAddress","match","methodName","instance","Constructor","TypeError","BN","N_DIV_2","Transaction","_classCallCheck","fields","name","allowLess","default","Buffer","alias","allowZero","defineProperties","enumerable","configurable","getSenderAddress","sigV","bufferToInt","v","chainId","_chainId","_homestead","toCreationAddress","includeSignature","items","r","s","rlphash","getChainId","_from","pubkey","getSenderPublicKey","publicToAddress","_senderPubKey","verifySignature","msgHash","cmp","ecrecover","sign","privateKey","ecsign","getDataFee","cost","i","iaddn","fees","txDataZeroGas","txDataNonZeroGas","getBaseFee","fee","txGas","txCreation","getUpfrontCost","imul","iadd","validate","stringError","errors","join","NonceTrackerSubprovider","nonceCache","cachedResult","stripHexPrefix","hexNonce","events","createSubscriptionManager","exports","MESSAGE","DEFAULT_PORTS","http:","https:","URL_REGEX","Penpal","ERR_CONNECTION_DESTROYED","ERR_CONNECTION_TIMEOUT","ERR_NOT_IN_IFRAME","Promise","window","debug","generateId","log","_console","_len","arguments","args","_key","apply","concat","url","location","document","regexResult","exec","protocol","hostname","port","portSuffix","DestructionPromise","executor","handlers","then","serializeError","_ref","deserializeError","obj","deserializedError","key","connectCallSender","callSender","info","methodNames","destructionPromise","localName","local","remote","remoteOrigin","destroyed","_len2","_key2","resolve","reject","handleMessageEvent","event","origin","penpal","removeEventListener","returnValue","returnValueIsError","resolution","addEventListener","postMessage","reduce","api","createMethodProxy","connectCallReceiver","methods","_event$data","createPromiseHandler","connectToChild","_ref2","appendTo","_ref2$methods","timeout","destroy","connectionDestructionPromise","resolveConnectionDestructionPromise","parent","iframe","createElement","body","appendChild","parentNode","removeChild","child","contentWindow","contentDocument","parentWindow","childOrigin","getOriginFromUrl","resolveConnectionPromise","connectionTimeoutId","receiverMethodNames","destroyCallReceiver","handleMessage","callReceiverDestructionPromise","resolveCallReceiverDestructionPromise","receiverMethodName","clearTimeout","src","promise","connectToParent","_ref3","_ref3$parentOrigin","parentOrigin","_ref3$methods","top","_default","networkAdapter","network","gasRelay","networkObj","networks","nodeUrl","gasRelayHubAddress","mainnet","ropsten","rinkeby","goerli","ubiq","thundercoreTestnet","orchid","orchidTestnet","kovan","classic","sokol","core","xdai","thundercore","fuse","lightstreams","maticAlpha","maticTestnet","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","__generator","_","label","sent","t","trys","ops","f","y","g","verb","throw","return","Symbol","iterator","n","op","pop","_a","require","getTxGas","query","safeGas","simpleSend","gasLimitSpecified","_b","getBlockByNumber","safeTxGas","estimateTxGas","blockGasLimitHex","recipient","blockGasLimitBN","Boolean","getCode","hexToBn","bnToHex","addGasBuffer","initialGasLimitHex","initialGasLimitBn","upperGasLimitBn","muln","bufferedGasLimitBn","gt","lt","inputHex","inputBn","targetBN","denominator","numBN","denomBN","mul","div","Query","fullTransaction","_this","_i","response","loaded","onWindowLoad","readyState","netID","JSON","parse","Blockchain","val","FormData","ArrayBuffer","isView","buffer","isObject","isFunction","pipe","URLSearchParams","str","replace","navigator","product","l","hasOwnProperty","merge","assignValue","a","b","isArrayBuffer","isBuffer","isFormData","isArrayBufferView","isString","isNumber","isUndefined","isDate","isFile","isBlob","isStream","isURLSearchParams","isStandardBrowserEnv","trim","constructor","config","request","enhanceError","encode","encodeURIComponent","paramsSerializer","serializedParams","utils","parts","toISOString","ignoreDuplicateOf","headers","parsed","split","line","substr","msie","test","userAgent","urlParsingNode","originURL","resolveURL","href","setAttribute","host","search","pathname","charAt","requestURL","write","expires","path","domain","secure","cookie","toGMTString","read","RegExp","decodeURIComponent","remove","now","requestData","requestHeaders","XMLHttpRequest","auth","username","password","Authorization","btoa","open","toUpperCase","buildURL","onreadystatechange","status","responseURL","responseHeaders","getAllResponseHeaders","responseType","responseText","statusText","settle","onerror","createError","ontimeout","cookies","xsrfValue","withCredentials","isURLSameOrigin","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","onUploadProgress","upload","cancelToken","cancel","abort","validateStatus","DEFAULT_CONTENT_TYPE","Content-Type","setContentTypeIfUnset","adapter","process","defaults","transformRequest","normalizeHeaderName","transformResponse","maxContentLength","common","Accept","normalizedName","InterceptorManager","use","eject","h","fns","__CANCEL__","throwIfCancellationRequested","throwIfRequested","baseURL","transformData","reason","isCancel","relativeURL","Axios","instanceConfig","interceptors","chain","dispatchRequest","interceptor","shift","Cancel","CancelToken","resolvePromise","token","c","createInstance","defaultConfig","context","axios","create","require$$2","all","promises","spread","arr","ipPort","ipPortArr","ip","property","relay","axiosInstance","configuration","requestTimeOut","post","constants","toJSON","Node","blockchainArray","blockchains","element","DevID","devID","Blockchains","blockchainsJSON","nodes","parseDispatchResponse","netid","ips","node","Dispatch","blockchain","NetID","Data","Relay","IP","Message","Report","networkID","Wallet","module","require$$3","require$$4","require$$5","Models","Configuration","maxNodes","dispatch","networkName","netIDs","nodesIsEmpty","retrieveNodes","isEqual","report","isValid","getNode","sendRelay","getDispatch","retrieveServiceNodes","SUPPORTED_SCOPES","tempCachingIFrame","style","width","height","border","position","left","Portis","dappId","options","_widgetUrl","validateSecureOrigin","_valiadateParams","version","scope","registerPageByDefault","widget","_initWidget","_initProvider","changeNetwork","newNetwork","clearSubprovider","NonceSubprovider","CacheSubprovider","setDefaultEmail","email","defaultEmail","showPortis","communication","logout","onLogin","_onLoginCallback","onLogout","_onLogoutCallback","onActiveWalletChanged","_onActiveWalletChangedCallback","onError","_onErrorCallback","getExtendedPublicKey","coin","importWallet","mnemonicOrPrivateKey","isLoggedIn","signBitcoinTransaction","showBitcoinWallet","item","container","widgetFrame","connection","contains","innerHTML","className","head","getElementById","setHeight","_setHeight","getWindowSize","_getWindowSize","_onLogin","_onLogout","_onActiveWalletChanged","_onError","retrieveSession","ProviderEngine","_selectedAddress","_network","FixtureSubprovider","web3_clientVersion","net_listening","eth_hashrate","eth_mining","eth_syncing","SubscriptionsSubprovider","FilterSubprovider","widgetCommunication","messageStandard","pocketDevId","networkVersion","pocket_1","PocketJSCore","Pocket","enable","isConnected","isPortis","getElementsByTagName","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","walletAddress","reputation","subproviderType","subprovider","find","isLocalhost","isSecureOrigin"],"mappings":"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AAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,EAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,IAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,IAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,CAAAA,CAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAAA,CAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,EAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,EAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,EAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,CAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,EAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,IAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,CAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,CAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,IAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,EAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,IAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,IAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,IAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,CAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,IAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,IAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,CAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,EAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,CAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,EAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,EAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,EAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,CAAAA;AAAAA,EAAAA,CAAAA,EAAAA;AAAAA,CAAAA;AAAAA,IAAAA,EAAAA,GAAAA;AAAAA,EAAAA,CAAAA,EAAAA,qBAAAA;AAAAA,EAAAA,CAAAA,E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","sourcesContent":["const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\n\nmodule.exports = Stoplight\n\n\ninherits(Stoplight, EventEmitter)\n\nfunction Stoplight(){\n  const self = this\n  EventEmitter.call(self)\n  self.isLocked = true\n}\n\nStoplight.prototype.go = function(){\n  const self = this\n  self.isLocked = false\n  self.emit('unlock')\n}\n\nStoplight.prototype.stop = function(){\n  const self = this\n  self.isLocked = true\n  self.emit('lock')\n}\n\nStoplight.prototype.await = function(fn){\n  const self = this\n  if (self.isLocked) {\n    self.once('unlock', fn)\n  } else {\n    setTimeout(fn)\n  }\n}","const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload,\n}\n\nfunction cacheIdentifierForPayload(payload, opts = {}){\n  if (!canCache(payload)) return null\n  const { includeBlockRef } = opts\n  const params = includeBlockRef ? payload.params : paramsWithoutBlockTag(payload)\n  return payload.method + ':' + stringify(params)\n}\n\nfunction canCache(payload){\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null;\n  }\n\n  return payload.params[index];\n}\n\nfunction paramsWithoutBlockTag(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params;\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1);\n  }\n\n  return payload.params.slice(0,index);\n}\n\nfunction blockTagParamIndex(payload){\n  switch(payload.method) {\n    // blockTag is third param\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is second param\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n      return 1\n    // blockTag is first param\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload(payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'eth_blockNumber':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n      return 'never'\n  }\n}\n","// gotta keep it within MAX_SAFE_INTEGER\nconst extraDigits = 3\n\nmodule.exports = createRandomId\n\n\nfunction createRandomId(){\n  // 13 time digits\n  var datePart = new Date().getTime()*Math.pow(10, extraDigits)\n  // 3 random digits\n  var extraPart = Math.floor(Math.random()*Math.pow(10, extraDigits))\n  // 16 digits\n  return datePart+extraPart\n}","const getRandomId = require('./random-id.js')\nconst extend = require('xtend')\n\nmodule.exports = createPayload\n\n\nfunction createPayload(data){\n  return extend({\n    // defaults\n    id: getRandomId(),\n    jsonrpc: '2.0',\n    params: [],\n    // user-specified\n  }, data)\n}\n","const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst EthBlockTracker = require('eth-block-tracker')\nconst map = require('async/map')\nconst eachSeries = require('async/eachSeries')\nconst Stoplight = require('./util/stoplight.js')\nconst cacheUtils = require('./util/rpc-cache-utils.js')\nconst createPayload = require('./util/create-payload.js')\nconst noop = function(){}\n\nmodule.exports = Web3ProviderEngine\n\n\ninherits(Web3ProviderEngine, EventEmitter)\n\n// fix for web3.js\nObject.defineProperty(Web3ProviderEngine, 'name', { value: 'HttpProvider' })\n\nfunction Web3ProviderEngine(opts) {\n  const self = this\n  EventEmitter.call(self)\n  self.setMaxListeners(30)\n  // parse options\n  opts = opts || {}\n\n  // block polling\n  const directProvider = { sendAsync: self._handleAsync.bind(self) }\n  const blockTrackerProvider = opts.blockTrackerProvider || directProvider\n  self._blockTracker = opts.blockTracker || new EthBlockTracker({\n    provider: blockTrackerProvider,\n    pollingInterval: opts.pollingInterval || 4000,\n    setSkipCacheFlag: true,\n  })\n\n  // set initialization blocker\n  self._ready = new Stoplight()\n\n  // local state\n  self.currentBlock = null\n  self._providers = []\n}\n\n// public\n\nWeb3ProviderEngine.prototype.start = function(cb = noop){\n  const self = this\n\n  // trigger start\n  self._ready.go()\n\n  // on new block, request block body and emit as events\n  self._blockTracker.on('latest', (blockNumber) => {\n    // get block body\n    self._getBlockByNumber(blockNumber, (err, block) => {\n      if (err) {\n        this.emit('error', err)\n        return\n      }\n      if (!block) {\n        return\n      }\n      const bufferBlock = toBufferBlock(block)\n      // set current + emit \"block\" event\n      self._setCurrentBlock(bufferBlock)\n      // emit other events\n      self.emit('rawBlock', block)\n      self.emit('latest', block)\n    })\n  })\n\n  // forward other events\n  self._blockTracker.on('sync', self.emit.bind(self, 'sync'))\n  self._blockTracker.on('error', self.emit.bind(self, 'error'))\n\n  // update state\n  self._running = true\n  // signal that we started\n  self.emit('start')\n}\n\nWeb3ProviderEngine.prototype.stop = function(){\n  const self = this\n  // stop block polling by removing event listeners\n  self._blockTracker.removeAllListeners()\n  // update state\n  self._running = false\n  // signal that we stopped\n  self.emit('stop')\n}\n\nWeb3ProviderEngine.prototype.isRunning = function(){\n  const self = this\n  return self._running\n}\n\nWeb3ProviderEngine.prototype.addProvider = function(source, index){\n  const self = this\n  if (typeof index === 'number') {\n    self._providers.splice(index, 0, source)\n  } else {\n    self._providers.push(source)\n  }\n  source.setEngine(this)\n}\n\nWeb3ProviderEngine.prototype.removeProvider = function(source){\n  const self = this\n  const index = self._providers.indexOf(source)\n  if (index < 0) throw new Error('Provider not found.')\n  self._providers.splice(index, 1)\n}\n\nWeb3ProviderEngine.prototype.send = function(payload){\n  throw new Error('Web3ProviderEngine does not support synchronous requests.')\n}\n\nWeb3ProviderEngine.prototype.sendAsync = function(payload, cb){\n  const self = this\n  self._ready.await(function(){\n\n    if (Array.isArray(payload)) {\n      // handle batch\n      map(payload, self._handleAsync.bind(self), cb)\n    } else {\n      // handle single\n      self._handleAsync(payload, cb)\n    }\n\n  })\n}\n\n// private\n\nWeb3ProviderEngine.prototype._getBlockByNumber = function(blockNumber, cb) {\n  const req = createPayload({ method: 'eth_getBlockByNumber', params: [blockNumber, false], skipCache: true })\n  this._handleAsync(req, (err, res) => {\n    if (err) return cb(err)\n    return cb(null, res.result)\n  })\n}\n\nWeb3ProviderEngine.prototype._handleAsync = function(payload, finished) {\n  var self = this\n  var currentProvider = -1\n  var result = null\n  var error = null\n\n  var stack = []\n\n  next()\n\n  function next(after) {\n    currentProvider += 1\n    stack.unshift(after)\n\n    // Bubbled down as far as we could go, and the request wasn't\n    // handled. Return an error.\n    if (currentProvider >= self._providers.length) {\n      end(new Error('Request for method \"' + payload.method + '\" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'))\n    } else {\n      try {\n        var provider = self._providers[currentProvider]\n        provider.handleRequest(payload, next, end)\n      } catch (e) {\n        end(e)\n      }\n    }\n  }\n\n  function end(_error, _result) {\n    error = _error\n    result = _result\n\n    eachSeries(stack, function(fn, callback) {\n\n      if (fn) {\n        fn(error, result, callback)\n      } else {\n        callback()\n      }\n    }, function() {\n\n      var resultObj = {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        result: result\n      }\n\n      if (error != null) {\n        resultObj.error = {\n          message: error.stack || error.message || error,\n          code: -32000\n        }\n        // respond with both error formats\n        finished(error, resultObj)\n      } else {\n        finished(null, resultObj)\n      }\n    })\n  }\n}\n\n//\n// from remote-data\n//\n\nWeb3ProviderEngine.prototype._setCurrentBlock = function(block){\n  const self = this\n  self.currentBlock = block\n  self.emit('block', block)\n}\n\n// util\n\nfunction toBufferBlock (jsonBlock) {\n  return {\n    number:           ethUtil.toBuffer(jsonBlock.number),\n    hash:             ethUtil.toBuffer(jsonBlock.hash),\n    parentHash:       ethUtil.toBuffer(jsonBlock.parentHash),\n    nonce:            ethUtil.toBuffer(jsonBlock.nonce),\n    mixHash:          ethUtil.toBuffer(jsonBlock.mixHash),\n    sha3Uncles:       ethUtil.toBuffer(jsonBlock.sha3Uncles),\n    logsBloom:        ethUtil.toBuffer(jsonBlock.logsBloom),\n    transactionsRoot: ethUtil.toBuffer(jsonBlock.transactionsRoot),\n    stateRoot:        ethUtil.toBuffer(jsonBlock.stateRoot),\n    receiptsRoot:     ethUtil.toBuffer(jsonBlock.receiptRoot || jsonBlock.receiptsRoot),\n    miner:            ethUtil.toBuffer(jsonBlock.miner),\n    difficulty:       ethUtil.toBuffer(jsonBlock.difficulty),\n    totalDifficulty:  ethUtil.toBuffer(jsonBlock.totalDifficulty),\n    size:             ethUtil.toBuffer(jsonBlock.size),\n    extraData:        ethUtil.toBuffer(jsonBlock.extraData),\n    gasLimit:         ethUtil.toBuffer(jsonBlock.gasLimit),\n    gasUsed:          ethUtil.toBuffer(jsonBlock.gasUsed),\n    timestamp:        ethUtil.toBuffer(jsonBlock.timestamp),\n    transactions:     jsonBlock.transactions,\n  }\n}\n","const createPayload = require('../util/create-payload.js')\n\nmodule.exports = SubProvider\n\n// this is the base class for a subprovider -- mostly helpers\n\n\nfunction SubProvider() {\n\n}\n\nSubProvider.prototype.setEngine = function(engine) {\n  const self = this\n  if (self.engine) return\n  self.engine = engine\n  engine.on('block', function(block) {\n    self.currentBlock = block\n  })\n\n  engine.on('start', function () {\n    self.start()\n  })\n\n  engine.on('stop', function () {\n    self.stop()\n  })\n}\n\nSubProvider.prototype.handleRequest = function(payload, next, end) {\n  throw new Error('Subproviders should override `handleRequest`.')\n}\n\nSubProvider.prototype.emitPayload = function(payload, cb){\n  const self = this\n  self.engine.sendAsync(createPayload(payload), cb)\n}\n\n// dummies for overriding\n\nSubProvider.prototype.stop = function () {}\n\nSubProvider.prototype.start = function () {}\n","const Subprovider = require('./subprovider.js')\n\n// wraps a json-rpc-engine middleware in a subprovider interface\n\nclass JsonRpcEngineMiddlewareSubprovider extends Subprovider {\n\n  // take a constructorFn to call once we have a reference to the engine\n  constructor (constructorFn) {\n    super()\n    if (!constructorFn) throw new Error('JsonRpcEngineMiddlewareSubprovider - no constructorFn specified')\n    this._constructorFn = constructorFn\n  }\n\n  // this is called once the subprovider has been added to the provider engine\n  setEngine (engine) {\n    if (this.middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice')\n    const blockTracker = engine._blockTracker\n    const middleware = this._constructorFn({ engine, provider: engine, blockTracker })\n    if (!middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware')\n    if (typeof middleware !== 'function') throw new Error('JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function')\n    this.middleware = middleware\n  }\n\n  handleRequest (req, provEngNext, provEngEnd) {\n    const res = { id: req.id }\n    this.middleware(req, res, middlewareNext, middlewareEnd)\n\n    function middlewareNext (handler) {\n      provEngNext((err, result, cb) => {\n        // update response object with result or error\n        if (err) {\n          delete res.result\n          res.error = { message: err.message || err }\n        } else {\n          res.result = result\n        }\n        // call middleware's next handler (even if error)\n        if (handler) {\n          handler(cb)\n        } else {\n          cb()\n        }\n      })\n    }\n\n    function middlewareEnd (err) {\n      if (err) return provEngEnd(err)\n      provEngEnd(null, res.result)\n    }\n  }\n\n}\n\nmodule.exports = JsonRpcEngineMiddlewareSubprovider\n","const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload\n}\n\nfunction cacheIdentifierForPayload (payload, skipBlockRef) {\n  const simpleParams = skipBlockRef ? paramsWithoutBlockTag(payload) : payload.params\n  if (canCache(payload)) {\n    return payload.method + ':' + stringify(simpleParams)\n  } else {\n    return null\n  }\n}\n\nfunction canCache (payload) {\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload (payload) {\n  let index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null\n  }\n\n  return payload.params[index]\n}\n\nfunction paramsWithoutBlockTag (payload) {\n  const index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1)\n  }\n\n  return payload.params.slice(0, index)\n}\n\nfunction blockTagParamIndex (payload) {\n  switch (payload.method) {\n    // blockTag is at index 2\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is at index 1\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n      return 1\n    // blockTag is at index 0\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload (payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n    case 'test_permaCache':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n    case 'test_forkCache':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_blockNumber':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'test_blockCache':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n    case 'test_neverCache':\n      return 'never'\n  }\n}\n","const cacheUtils = require('./cache-utils.js')\nconst createAsyncMiddleware = require('json-rpc-engine/src/createAsyncMiddleware')\n// `<nil>` comes from https://github.com/ethereum/go-ethereum/issues/16925\nconst emptyValues = [undefined, null, '\\u003cnil\\u003e']\n\nmodule.exports = createBlockCacheMiddleware\n\n\nfunction createBlockCacheMiddleware(opts = {}) {\n  // validate options\n  const { blockTracker } = opts\n  if (!blockTracker) throw new Error('createBlockCacheMiddleware - No BlockTracker specified')\n\n  // create caching strategies\n  const blockCache = new BlockCacheStrategy()\n  const strategies = {\n    perma: blockCache,\n    block: blockCache,\n    fork: blockCache,\n  }\n\n  return createAsyncMiddleware(async (req, res, next) => {\n    // allow cach to be skipped if so specified\n    if (req.skipCache) {\n      return next()\n    }\n    // check type and matching strategy\n    const type = cacheUtils.cacheTypeForPayload(req)\n    const strategy = strategies[type]\n    // If there's no strategy in place, pass it down the chain.\n    if (!strategy) {\n      return next()\n    }\n    // If the strategy can't cache this request, ignore it.\n    if (!strategy.canCacheRequest(req)) {\n      return next()\n    }\n\n    // get block reference (number or keyword)\n    let blockTag = cacheUtils.blockTagForPayload(req)\n    if (!blockTag) blockTag = 'latest'\n\n    // get exact block number\n    let requestedBlockNumber\n    if (blockTag === 'earliest') {\n      // this just exists for symmetry with \"latest\"\n      requestedBlockNumber = '0x00'\n    } else if (blockTag === 'latest') {\n      // fetch latest block number\n      const latestBlockNumber = await blockTracker.getLatestBlock()\n      // clear all cache before latest block\n      blockCache.clearBefore(latestBlockNumber)\n      requestedBlockNumber = latestBlockNumber\n    } else {\n      // We have a hex number\n      requestedBlockNumber = blockTag\n    }\n\n    // end on a hit, continue on a miss\n    const cacheResult = await strategy.get(req, requestedBlockNumber)\n    if (cacheResult === undefined) {\n      // cache miss\n      // wait for other middleware to handle request\n      await next()\n      // add result to cache\n      await strategy.set(req, requestedBlockNumber, res.result)\n    } else {\n      // fill in result from cache\n      res.result = cacheResult\n    }\n  })\n}\n\n\n//\n// Cache Strategies\n//\n\nclass BlockCacheStrategy {\n  \n  constructor () {\n    this.cache = {}\n  }\n\n  getBlockCacheForPayload (payload, blockNumberHex) {\n    const blockNumber = Number.parseInt(blockNumberHex, 16)\n    let blockCache = this.cache[blockNumber]\n    // create new cache if necesary\n    if (!blockCache) {\n      const newCache = {}\n      this.cache[blockNumber] = newCache\n      blockCache = newCache\n    }\n    return blockCache\n  }\n\n  async get (payload, requestedBlockNumber) {\n    // lookup block cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    if (!blockCache) return\n    // lookup payload in block cache\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    const cached = blockCache[identifier]\n    // may be undefined\n    return cached\n  }\n\n  async set (payload, requestedBlockNumber, result) {\n    // check if we can cached this result\n    const canCache = this.canCacheResult(payload, result)\n    if (!canCache) return\n    // set the value in the cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    blockCache[identifier] = result\n  }\n\n  canCacheRequest (payload) {\n    // check request method\n    if (!cacheUtils.canCache(payload)) {\n      return false\n    }\n    // check blockTag\n    const blockTag = cacheUtils.blockTagForPayload(payload)\n    if (blockTag === 'pending') {\n      return false\n    }\n    // can be cached\n    return true\n  }\n\n  canCacheResult (payload, result) {\n    // never cache empty values (e.g. undefined)\n    if (emptyValues.includes(result)) return\n    // check if transactions have block reference before caching\n    if (['eth_getTransactionByHash', 'eth_getTransactionReceipt'].includes(payload.method)) {\n      if (!result || !result.blockHash || result.blockHash === '0x0000000000000000000000000000000000000000000000000000000000000000') {\n        return false\n      }\n    }\n    // otherwise true\n    return true\n  }\n\n  // removes all block caches with block number lower than `oldBlockHex`\n  clearBefore (oldBlockHex){\n    const self = this\n    const oldBlockNumber = Number.parseInt(oldBlockHex, 16)\n    // clear old caches\n    Object.keys(self.cache)\n      .map(Number)\n      .filter(num => num < oldBlockNumber)\n      .forEach(num => delete self.cache[num])\n  }\n\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createBlockCacheMiddleware = require('@portis/eth-json-rpc-middleware/block-cache')\n\nclass BlockCacheSubprovider extends ProviderSubprovider {\n  constructor(opts) {\n    super(({ blockTracker }) => createBlockCacheMiddleware(Object.assign({ blockTracker }, opts)))\n  }\n}\n\nmodule.exports = BlockCacheSubprovider\n","const inherits = require('util').inherits\nconst Subprovider = require('./subprovider.js')\n\nmodule.exports = FixtureProvider\n\ninherits(FixtureProvider, Subprovider)\n\nfunction FixtureProvider(staticResponses){\n  const self = this\n  staticResponses = staticResponses || {}\n  self.staticResponses = staticResponses\n}\n\nFixtureProvider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  var staticResponse = self.staticResponses[payload.method]\n  // async function\n  if ('function' === typeof staticResponse) {\n    staticResponse(payload, next, end)\n  // static response - null is valid response\n  } else if (staticResponse !== undefined) {\n    // return result asynchronously\n    setTimeout(() => end(null, staticResponse))\n  // no prepared response - skip\n  } else {\n    next()\n  }\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createFilterMiddleware = require('eth-json-rpc-filters')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      return createFilterMiddleware({ blockTracker, provider })\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","const createPayload = require('./create-payload.js')\n\nmodule.exports = estimateGas\n\n/*\n\nThis is a work around for https://github.com/ethereum/go-ethereum/issues/2577\n\n*/\n\n\nfunction estimateGas(provider, txParams, cb) {\n  provider.sendAsync(createPayload({\n    method: 'eth_estimateGas',\n    params: [txParams]\n  }), function(err, res){\n    if (err) {\n      // handle simple value transfer case\n      if (err.message === 'no contract code at given address') {\n        return cb(null, '0xcf08')\n      } else {\n        return cb(err)        \n      }\n    }\n    cb(null, res.result)\n  })\n}","/*\n * Emulate 'eth_accounts' / 'eth_sendTransaction' using 'eth_sendRawTransaction'\n *\n * The two callbacks a user needs to implement are:\n * - getAccounts() -- array of addresses supported\n * - signTransaction(tx) -- sign a raw transaction object\n */\n\nconst waterfall = require('async/waterfall')\nconst parallel = require('async/parallel')\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst sigUtil = require('eth-sig-util')\nconst extend = require('xtend')\nconst Semaphore = require('semaphore')\nconst Subprovider = require('./subprovider.js')\nconst estimateGas = require('../util/estimate-gas.js')\nconst hexRegex = /^[0-9A-Fa-f]+$/g\n\nmodule.exports = HookedWalletSubprovider\n\n// handles the following RPC methods:\n//   eth_coinbase\n//   eth_accounts\n//   eth_sendTransaction\n//   eth_sign\n//   eth_signTypedData\n//   personal_sign\n//   personal_ecRecover\n//   parity_postTransaction\n//   parity_checkRequest\n//   parity_defaultAccount\n\n//\n// Tx Signature Flow\n//\n// handleRequest: eth_sendTransaction\n//   validateTransaction (basic validity check)\n//     validateSender (checks that sender is in accounts)\n//   processTransaction (sign tx and submit to network)\n//     approveTransaction (UI approval hook)\n//     checkApproval\n//     finalizeAndSubmitTx (tx signing)\n//       nonceLock.take (bottle neck to ensure atomic nonce)\n//         fillInTxExtras (set fallback gasPrice, nonce, etc)\n//         signTransaction (perform the signature)\n//         publishTransaction (publish signed tx to network)\n//\n\n\ninherits(HookedWalletSubprovider, Subprovider)\n\nfunction HookedWalletSubprovider(opts){\n  const self = this\n  // control flow\n  self.nonceLock = Semaphore(1)\n\n  // data lookup\n  if (opts.getAccounts) self.getAccounts = opts.getAccounts\n  // high level override\n  if (opts.processTransaction) self.processTransaction = opts.processTransaction\n  if (opts.processMessage) self.processMessage = opts.processMessage\n  if (opts.processPersonalMessage) self.processPersonalMessage = opts.processPersonalMessage\n  if (opts.processTypedMessage) self.processTypedMessage = opts.processTypedMessage\n  if (opts.processTypedMessageV3) self.processTypedMessageV3 = opts.processTypedMessageV3\n  // approval hooks\n  self.approveTransaction = opts.approveTransaction || self.autoApprove\n  self.approveMessage = opts.approveMessage || self.autoApprove\n  self.approvePersonalMessage = opts.approvePersonalMessage || self.autoApprove\n  self.approveTypedMessage = opts.approveTypedMessage || self.autoApprove\n  self.approveTypedMessageV3 = opts.approveTypedMessageV3 || self.autoApprove\n  // actually perform the signature\n  if (opts.signTransaction) self.signTransaction = opts.signTransaction  || mustProvideInConstructor('signTransaction')\n  if (opts.signMessage) self.signMessage = opts.signMessage  || mustProvideInConstructor('signMessage')\n  if (opts.signPersonalMessage) self.signPersonalMessage = opts.signPersonalMessage  || mustProvideInConstructor('signPersonalMessage')\n  if (opts.signTypedMessage) self.signTypedMessage = opts.signTypedMessage  || mustProvideInConstructor('signTypedMessage')\n  if (opts.signTypedMessageV3) self.signTypedMessageV3 = opts.signTypedMessageV3  || mustProvideInConstructor('signTypedMessageV3')\n  if (opts.recoverPersonalSignature) self.recoverPersonalSignature = opts.recoverPersonalSignature\n  // publish to network\n  if (opts.publishTransaction) self.publishTransaction = opts.publishTransaction\n  // gas options\n  self.estimateGas = opts.estimateGas || self.estimateGas\n  self.getGasPrice = opts.getGasPrice || self.getGasPrice\n}\n\nHookedWalletSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  self._parityRequests = {}\n  self._parityRequestCount = 0\n\n  // switch statement is not block scoped\n  // sp we cant repeat var declarations\n  let txParams, msgParams, extraParams\n  let message, address\n\n  switch(payload.method) {\n\n    case 'eth_coinbase':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        let result = accounts[0] || null\n        end(null, result)\n      })\n      return\n\n    case 'eth_accounts':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        end(null, accounts)\n      })\n      return\n\n    case 'eth_sendTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processSignTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_sign':\n      // process normally\n      if (resemblesData(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n      // good place for metadata\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateMessage(msgParams, cb),\n        (cb) => self.processMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'personal_sign':\n      return (function(){\n        // process normally\n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n        if (resemblesData(second) && resemblesAddress(first)) {\n          let warning = `The eth_personalSign method requires params ordered `\n          warning += `[message, address]. This was previously handled incorrectly, `\n          warning += `and has been corrected automatically. `\n          warning += `Please switch this param order for smooth behavior in the future.`\n          console.warn(warning)\n\n          address = payload.params[0]\n          message = payload.params[1]\n        } else {\n          message = payload.params[0]\n          address = payload.params[1]\n        }\n\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validatePersonalMessage(msgParams, cb),\n          (cb) => self.processPersonalMessage(msgParams, cb),\n        ], end)\n      })()\n\n    case 'personal_ecRecover':\n      return (function(){\n        message = payload.params[0]\n        let signature = payload.params[1]\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          sig: signature,\n          data: message,\n        })\n        self.recoverPersonalSignature(msgParams, end)\n      })()\n\n    case 'eth_signTypedData':\n      // process normally\n      if (!resemblesAddress(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateTypedMessage(msgParams, cb),\n        (cb) => self.processTypedMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTypedData_v3':\n      // process normally\n      if (!resemblesAddress(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateTypedMessageV3(msgParams, cb),\n        (cb) => self.processTypedMessageV3(msgParams, cb),\n      ], end)\n      return\n\n    case 'parity_postTransaction':\n      txParams = payload.params[0]\n      self.parityPostTransaction(txParams, end)\n      return\n\n    case 'parity_postSign':\n      address = payload.params[0]\n      message = payload.params[1]\n      self.parityPostSign(address, message, end)\n      return\n\n    case 'parity_checkRequest':\n      return (function(){\n        const requestId = payload.params[0]\n        self.parityCheckRequest(requestId, end)\n      })()\n\n    case 'parity_defaultAccount':\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        const account = accounts[0] || null\n        end(null, account)\n      })\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n\n//\n// data lookup\n//\n\nHookedWalletSubprovider.prototype.getAccounts = function(cb) {\n  cb(null, [])\n}\n\n\n//\n// \"process\" high level flow\n//\n\nHookedWalletSubprovider.prototype.processTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeAndSubmitTx(txParams, cb),\n  ], cb)\n}\n\n\nHookedWalletSubprovider.prototype.processSignTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeTx(txParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processPersonalMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approvePersonalMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signPersonalMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessageV3 = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessageV3(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessageV3(msgParams, cb),\n  ], cb)\n}\n\n//\n// approval\n//\n\nHookedWalletSubprovider.prototype.autoApprove = function(txParams, cb) {\n  cb(null, true)\n}\n\nHookedWalletSubprovider.prototype.checkApproval = function(type, didApprove, cb) {\n  cb( didApprove ? null : new Error('User denied '+type+' signature.') )\n}\n\n//\n// parity\n//\n\nHookedWalletSubprovider.prototype.parityPostTransaction = function(txParams, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sendTransaction',\n    params: [txParams],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const txHash = res.result\n    self._parityRequests[reqId] = txHash\n  })\n\n  cb(null, reqId)\n}\n\n\nHookedWalletSubprovider.prototype.parityPostSign = function(address, message, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sign',\n    params: [address, message],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const result = res.result\n    self._parityRequests[reqId] = result\n  })\n\n  cb(null, reqId)\n}\n\nHookedWalletSubprovider.prototype.parityCheckRequest = function(reqId, cb) {\n  const self = this\n  const result = self._parityRequests[reqId] || null\n  // tx not handled yet\n  if (!result) return cb(null, null)\n  // tx was rejected (or other error)\n  if (result.error) return cb(result.error)\n  // tx sent\n  cb(null, result)\n}\n\n//\n// signature and recovery\n//\n\nHookedWalletSubprovider.prototype.recoverPersonalSignature = function(msgParams, cb) {\n  let senderHex\n  try {\n    senderHex = sigUtil.recoverPersonalSignature(msgParams)\n  } catch (err) {\n    return cb(err)\n  }\n  cb(null, senderHex)\n}\n\n//\n// validation\n//\n\nHookedWalletSubprovider.prototype.validateTransaction = function(txParams, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (txParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign transaction.`))\n  self.validateSender(txParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign transaction for this address: \"${txParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign message.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validatePersonalMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign personal message.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined message - message required to sign personal message.`))\n  if (!isValidHex(msgParams.data)) return cb(new Error(`HookedWalletSubprovider - validateMessage - message was not encoded as hex.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessage = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessageV3 = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateSender = function(senderAddress, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (!senderAddress) return cb(null, false)\n  self.getAccounts(function(err, accounts){\n    if (err) return cb(err)\n    const senderIsValid = (accounts.map(toLowerCase).indexOf(senderAddress.toLowerCase()) !== -1)\n    cb(null, senderIsValid)\n  })\n}\n\n//\n// tx helpers\n//\n\nHookedWalletSubprovider.prototype.finalizeAndSubmitTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n      self.publishTransaction.bind(self),\n    ], function(err, txHash){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, txHash)\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.finalizeTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n    ], function(err, signedTx){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, {raw: signedTx, tx: txParams})\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.publishTransaction = function(rawTx, cb) {\n  const self = this\n  self.emitPayload({\n    method: 'eth_sendRawTransaction',\n    params: [rawTx],\n  }, function(err, res){\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.estimateGas = function(txParams, cb) {\n  const self = this\n  estimateGas(self.engine, txParams, cb)\n}\n\nHookedWalletSubprovider.prototype.getGasPrice = function(cb) {\n  const self = this\n  self.emitPayload({ method: 'eth_gasPrice', params: [] }, function (err, res) {\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.fillInTxExtras = function(txParams, cb){\n  const self = this\n  const address = txParams.from\n  // console.log('fillInTxExtras - address:', address)\n\n  const tasks = {}\n\n  if (txParams.gasPrice === undefined) {\n    // console.log(\"need to get gasprice\")\n    tasks.gasPrice = self.getGasPrice.bind(self)\n  }\n\n  if (txParams.nonce === undefined) {\n    // console.log(\"need to get nonce\")\n    tasks.nonce = self.emitPayload.bind(self, { method: 'eth_getTransactionCount', params: [address, 'pending'] })\n  }\n\n  if (txParams.gas === undefined) {\n    // console.log(\"need to get gas\")\n    tasks.gas = self.estimateGas.bind(self, cloneTxParams(txParams))\n  }\n\n  parallel(tasks, function(err, taskResults) {\n    if (err) return cb(err)\n\n    const result = {}\n    if (taskResults.gasPrice) result.gasPrice = taskResults.gasPrice\n    if (taskResults.nonce) result.nonce = taskResults.nonce.result\n    if (taskResults.gas) result.gas = taskResults.gas\n\n    cb(null, extend(txParams, result))\n  })\n}\n\n// util\n\n// we use this to clean any custom params from the txParams\nfunction cloneTxParams(txParams){\n  return {\n    from: txParams.from,\n    to: txParams.to,\n    value: txParams.value,\n    data: txParams.data,\n    gas: txParams.gas,\n    gasPrice: txParams.gasPrice,\n    nonce: txParams.nonce,\n  }\n}\n\nfunction toLowerCase(string){\n  return string.toLowerCase()\n}\n\nfunction resemblesAddress (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValid = ethUtil.isValidAddress(fixed)\n  return isValid\n}\n\n// Returns true if resembles hex data\n// but definitely not a valid address.\nfunction resemblesData (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValidAddress = ethUtil.isValidAddress(fixed)\n  return !isValidAddress && isValidHex(string)\n}\n\nfunction isValidHex(data) {\n  const isString = typeof data === 'string'\n  if (!isString) return false\n  const isHexPrefixed = data.slice(0,2) === '0x'\n  if (!isHexPrefixed) return false\n  const nonPrefixed = data.slice(2)\n  const isValid = nonPrefixed.match(hexRegex)\n  return isValid\n}\n\nfunction mustProvideInConstructor(methodName) {\n  return function(params, cb) {\n    cb(new Error('ProviderEngine - HookedWalletSubprovider - Must provide \"' + methodName + '\" fn in constructor options'))\n  }\n}\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ethUtil = require('ethereumjs-util');\nvar fees = require('ethereum-common/params.json');\nvar BN = ethUtil.BN;\n\n// secp256k1n/2\nvar N_DIV_2 = new BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n\n/**\n * Creates a new transaction object.\n *\n * @example\n * var rawTx = {\n *   nonce: '00',\n *   gasPrice: '09184e72a000',\n *   gasLimit: '2710',\n *   to: '0000000000000000000000000000000000000000',\n *   value: '00',\n *   data: '7f7465737432000000000000000000000000000000000000000000000000000000600057',\n *   v: '1c',\n *   r: '5e1d3a76fbf824220eafc8c79ad578ad2b67d01b0c2425eb1f1347e8f50882ab',\n *   s: '5bd428537f05f9830e93792f90ea6a3e2d1ee84952dd96edbae9f658f831ab13'\n * };\n * var tx = new Transaction(rawTx);\n *\n * @class\n * @param {Buffer | Array | Object} data a transaction can be initiailized with either a buffer containing the RLP serialized transaction or an array of buffers relating to each of the tx Properties, listed in order below in the exmple.\n *\n * Or lastly an Object containing the Properties of the transaction like in the Usage example.\n *\n * For Object and Arrays each of the elements can either be a Buffer, a hex-prefixed (0x) String , Number, or an object with a toBuffer method such as Bignum\n *\n * @property {Buffer} raw The raw rlp encoded transaction\n * @param {Buffer} data.nonce nonce number\n * @param {Buffer} data.gasLimit transaction gas limit\n * @param {Buffer} data.gasPrice transaction gas price\n * @param {Buffer} data.to to the to address\n * @param {Buffer} data.value the amount of ether sent\n * @param {Buffer} data.data this will contain the data of the message or the init of a contract\n * @param {Buffer} data.v EC signature parameter\n * @param {Buffer} data.r EC signature parameter\n * @param {Buffer} data.s EC recovery ID\n * @param {Number} data.chainId EIP 155 chainId - mainnet: 1, ropsten: 3\n * */\n\nvar Transaction = function () {\n  function Transaction(data) {\n    _classCallCheck(this, Transaction);\n\n    data = data || {};\n    // Define Properties\n    var fields = [{\n      name: 'nonce',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'gasPrice',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'gasLimit',\n      alias: 'gas',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'to',\n      allowZero: true,\n      length: 20,\n      default: new Buffer([])\n    }, {\n      name: 'value',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'data',\n      alias: 'input',\n      allowZero: true,\n      default: new Buffer([])\n    }, {\n      name: 'v',\n      allowZero: true,\n      default: new Buffer([0x1c])\n    }, {\n      name: 'r',\n      length: 32,\n      allowZero: true,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 's',\n      length: 32,\n      allowZero: true,\n      allowLess: true,\n      default: new Buffer([])\n    }];\n\n    /**\n     * Returns the rlp encoding of the transaction\n     * @method serialize\n     * @return {Buffer}\n     * @memberof Transaction\n     * @name serialize\n     */\n    // attached serialize\n    ethUtil.defineProperties(this, fields, data);\n\n    /**\n     * @property {Buffer} from (read only) sender address of this transaction, mathematically derived from other parameters.\n     * @name from\n     * @memberof Transaction\n     */\n    Object.defineProperty(this, 'from', {\n      enumerable: true,\n      configurable: true,\n      get: this.getSenderAddress.bind(this)\n    });\n\n    // calculate chainId from signature\n    var sigV = ethUtil.bufferToInt(this.v);\n    var chainId = Math.floor((sigV - 35) / 2);\n    if (chainId < 0) chainId = 0;\n\n    // set chainId\n    this._chainId = chainId || data.chainId || 0;\n    this._homestead = true;\n  }\n\n  /**\n   * If the tx's `to` is to the creation address\n   * @return {Boolean}\n   */\n\n\n  Transaction.prototype.toCreationAddress = function toCreationAddress() {\n    return this.to.toString('hex') === '';\n  };\n\n  /**\n   * Computes a sha3-256 hash of the serialized tx\n   * @param {Boolean} [includeSignature=true] whether or not to inculde the signature\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.hash = function hash(includeSignature) {\n    if (includeSignature === undefined) includeSignature = true;\n\n    // EIP155 spec:\n    // when computing the hash of a transaction for purposes of signing or recovering,\n    // instead of hashing only the first six elements (ie. nonce, gasprice, startgas, to, value, data),\n    // hash nine elements, with v replaced by CHAIN_ID, r = 0 and s = 0\n\n    var items = void 0;\n    if (includeSignature) {\n      items = this.raw;\n    } else {\n      if (this._chainId > 0) {\n        var raw = this.raw.slice();\n        this.v = this._chainId;\n        this.r = 0;\n        this.s = 0;\n        items = this.raw;\n        this.raw = raw;\n      } else {\n        items = this.raw.slice(0, 6);\n      }\n    }\n\n    // create hash\n    return ethUtil.rlphash(items);\n  };\n\n  /**\n   * returns the public key of the sender\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getChainId = function getChainId() {\n    return this._chainId;\n  };\n\n  /**\n   * returns the sender's address\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getSenderAddress = function getSenderAddress() {\n    if (this._from) {\n      return this._from;\n    }\n    var pubkey = this.getSenderPublicKey();\n    this._from = ethUtil.publicToAddress(pubkey);\n    return this._from;\n  };\n\n  /**\n   * returns the public key of the sender\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getSenderPublicKey = function getSenderPublicKey() {\n    if (!this._senderPubKey || !this._senderPubKey.length) {\n      if (!this.verifySignature()) throw new Error('Invalid Signature');\n    }\n    return this._senderPubKey;\n  };\n\n  /**\n   * Determines if the signature is valid\n   * @return {Boolean}\n   */\n\n\n  Transaction.prototype.verifySignature = function verifySignature() {\n    var msgHash = this.hash(false);\n    // All transaction signatures whose s-value is greater than secp256k1n/2 are considered invalid.\n    if (this._homestead && new BN(this.s).cmp(N_DIV_2) === 1) {\n      return false;\n    }\n\n    try {\n      var v = ethUtil.bufferToInt(this.v);\n      if (this._chainId > 0) {\n        v -= this._chainId * 2 + 8;\n      }\n      this._senderPubKey = ethUtil.ecrecover(msgHash, v, this.r, this.s);\n    } catch (e) {\n      return false;\n    }\n\n    return !!this._senderPubKey;\n  };\n\n  /**\n   * sign a transaction with a given a private key\n   * @param {Buffer} privateKey\n   */\n\n\n  Transaction.prototype.sign = function sign(privateKey) {\n    var msgHash = this.hash(false);\n    var sig = ethUtil.ecsign(msgHash, privateKey);\n    if (this._chainId > 0) {\n      sig.v += this._chainId * 2 + 8;\n    }\n    Object.assign(this, sig);\n  };\n\n  /**\n   * The amount of gas paid for the data in this tx\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getDataFee = function getDataFee() {\n    var data = this.raw[5];\n    var cost = new BN(0);\n    for (var i = 0; i < data.length; i++) {\n      data[i] === 0 ? cost.iaddn(fees.txDataZeroGas.v) : cost.iaddn(fees.txDataNonZeroGas.v);\n    }\n    return cost;\n  };\n\n  /**\n   * the minimum amount of gas the tx must have (DataFee + TxFee + Creation Fee)\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getBaseFee = function getBaseFee() {\n    var fee = this.getDataFee().iaddn(fees.txGas.v);\n    if (this._homestead && this.toCreationAddress()) {\n      fee.iaddn(fees.txCreation.v);\n    }\n    return fee;\n  };\n\n  /**\n   * the up front amount that an account must have for this transaction to be valid\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getUpfrontCost = function getUpfrontCost() {\n    return new BN(this.gasLimit).imul(new BN(this.gasPrice)).iadd(new BN(this.value));\n  };\n\n  /**\n   * validates the signature and checks to see if it has enough gas\n   * @param {Boolean} [stringError=false] whether to return a string with a dscription of why the validation failed or return a Bloolean\n   * @return {Boolean|String}\n   */\n\n\n  Transaction.prototype.validate = function validate(stringError) {\n    var errors = [];\n    if (!this.verifySignature()) {\n      errors.push('Invalid Signature');\n    }\n\n    if (this.getBaseFee().cmp(new BN(this.gasLimit)) > 0) {\n      errors.push(['gas limit is too low. Need at least ' + this.getBaseFee()]);\n    }\n\n    if (stringError === undefined || stringError === false) {\n      return errors.length === 0;\n    } else {\n      return errors.join(' ');\n    }\n  };\n\n  return Transaction;\n}();\n\nmodule.exports = Transaction;","const inherits = require('util').inherits\nconst Transaction = require('ethereumjs-tx')\nconst ethUtil = require('ethereumjs-util')\nconst Subprovider = require('./subprovider.js')\nconst blockTagForPayload = require('../util/rpc-cache-utils').blockTagForPayload\n\nmodule.exports = NonceTrackerSubprovider\n\n// handles the following RPC methods:\n//   eth_getTransactionCount (pending only)\n//\n// observes the following RPC methods:\n//   eth_sendRawTransaction\n//   evm_revert (to clear the nonce cache)\n\ninherits(NonceTrackerSubprovider, Subprovider)\n\nfunction NonceTrackerSubprovider(opts){\n  const self = this\n\n  self.nonceCache = {}\n}\n\nNonceTrackerSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n\n  switch(payload.method) {\n\n    case 'eth_getTransactionCount':\n      var blockTag = blockTagForPayload(payload)\n      var address = payload.params[0].toLowerCase()\n      var cachedResult = self.nonceCache[address]\n      // only handle requests against the 'pending' blockTag\n      if (blockTag === 'pending') {\n        // has a result\n        if (cachedResult) {\n          end(null, cachedResult)\n        // fallthrough then populate cache\n        } else {\n          next(function(err, result, cb){\n            if (err) return cb()\n            if (self.nonceCache[address] === undefined) {\n              self.nonceCache[address] = result\n            }\n            cb()\n          })\n        }\n      } else {\n        next()\n      }\n      return\n\n    case 'eth_sendRawTransaction':\n      // allow the request to continue normally\n      next(function(err, result, cb){\n        // only update local nonce if tx was submitted correctly\n        if (err) return cb()\n        // parse raw tx\n        var rawTx = payload.params[0]\n        var stripped = ethUtil.stripHexPrefix(rawTx)\n        var rawData = Buffer.from(ethUtil.stripHexPrefix(rawTx), 'hex')\n        var tx = new Transaction(Buffer.from(ethUtil.stripHexPrefix(rawTx), 'hex'))\n        // extract address\n        var address = '0x'+tx.getSenderAddress().toString('hex').toLowerCase()\n        // extract nonce and increment\n        var nonce = ethUtil.bufferToInt(tx.nonce)\n        nonce++\n        // hexify and normalize\n        var hexNonce = nonce.toString(16)\n        if (hexNonce.length%2) hexNonce = '0'+hexNonce\n        hexNonce = '0x'+hexNonce\n        // dont update our record on the nonce until the submit was successful\n        // update cache\n        self.nonceCache[address] = hexNonce\n        cb()\n      })\n      return\n\n   // Clear cache on a testrpc revert\n   case 'evm_revert':\n      self.nonceCache = {}\n      next()\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createSubscriptionManager = require('eth-json-rpc-filters/subscriptionManager')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      const { events, middleware } = createSubscriptionManager({ blockTracker, provider })\n      // forward subscription events on the engine\n      events.on('notification', (data) => engine.emit('data', null, data))\n      // return the subscription install/remove middleware\n      return middleware\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ERR_NOT_IN_IFRAME = exports.ERR_CONNECTION_TIMEOUT = exports.ERR_CONNECTION_DESTROYED = void 0;\nvar HANDSHAKE = 'handshake';\nvar HANDSHAKE_REPLY = 'handshake-reply';\nvar CALL = 'call';\nvar REPLY = 'reply';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar MESSAGE = 'message';\nvar DATA_CLONE_ERROR = 'DataCloneError';\nvar ERR_CONNECTION_DESTROYED = 'ConnectionDestroyed';\nexports.ERR_CONNECTION_DESTROYED = ERR_CONNECTION_DESTROYED;\nvar ERR_CONNECTION_TIMEOUT = 'ConnectionTimeout';\nexports.ERR_CONNECTION_TIMEOUT = ERR_CONNECTION_TIMEOUT;\nvar ERR_NOT_IN_IFRAME = 'NotInIframe';\nexports.ERR_NOT_IN_IFRAME = ERR_NOT_IN_IFRAME;\nvar DEFAULT_PORTS = {\n  'http:': '80',\n  'https:': '443'\n};\nvar URL_REGEX = /^(https?:)?\\/\\/([^/:]+)(:(\\d+))?/;\nvar Penpal = {\n  ERR_CONNECTION_DESTROYED: ERR_CONNECTION_DESTROYED,\n  ERR_CONNECTION_TIMEOUT: ERR_CONNECTION_TIMEOUT,\n  ERR_NOT_IN_IFRAME: ERR_NOT_IN_IFRAME,\n\n  /**\n   * Promise implementation.\n   * @type {Constructor}\n   */\n  Promise: function () {\n    try {\n      return window ? window.Promise : null;\n    } catch (e) {\n      return null;\n    }\n  }(),\n\n  /**\n   * Whether debug messages should be logged.\n   * @type {boolean}\n   */\n  debug: false\n};\n/**\n * @return {number} A unique ID (not universally unique)\n */\n\nvar generateId = function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n}();\n/**\n * Logs a message.\n * @param {...*} args One or more items to log\n */\n\n\nvar log = function log() {\n  if (Penpal.debug) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    (_console = console).log.apply(_console, ['[Penpal]'].concat(args)); // eslint-disable-line no-console\n\n  }\n};\n/**\n * Converts a URL into an origin.\n * @param {string} url\n * @return {string} The URL's origin\n */\n\n\nvar getOriginFromUrl = function getOriginFromUrl(url) {\n  var location = document.location;\n  var regexResult = URL_REGEX.exec(url);\n  var protocol;\n  var hostname;\n  var port;\n\n  if (regexResult) {\n    // It's an absolute URL. Use the parsed info.\n    // regexResult[1] will be undefined if the URL starts with //\n    protocol = regexResult[1] ? regexResult[1] : location.protocol;\n    hostname = regexResult[2];\n    port = regexResult[4];\n  } else {\n    // It's a relative path. Use the current location's info.\n    protocol = location.protocol;\n    hostname = location.hostname;\n    port = location.port;\n  } // If the port is the default for the protocol, we don't want to add it to the origin string\n  // or it won't match the message's event.origin.\n\n\n  var portSuffix = port && port !== DEFAULT_PORTS[protocol] ? \":\".concat(port) : '';\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(portSuffix);\n};\n/**\n * A simplified promise class only used internally for when destroy() is called. This is\n * used to destroy connections synchronously while promises typically resolve asynchronously.\n *\n * @param {Function} executor\n * @returns {Object}\n * @constructor\n */\n\n\nvar DestructionPromise = function DestructionPromise(executor) {\n  var handlers = [];\n  executor(function () {\n    handlers.forEach(function (handler) {\n      handler();\n    });\n  });\n  return {\n    then: function then(handler) {\n      handlers.push(handler);\n    }\n  };\n};\n/**\n * Converts an error object into a plain object.\n * @param {Error} Error object.\n * @returns {Object}\n */\n\n\nvar serializeError = function serializeError(_ref) {\n  var name = _ref.name,\n      message = _ref.message,\n      stack = _ref.stack;\n  return {\n    name: name,\n    message: message,\n    stack: stack\n  };\n};\n/**\n * Converts a plain object into an error object.\n * @param {Object} Object with error properties.\n * @returns {Error}\n */\n\n\nvar deserializeError = function deserializeError(obj) {\n  var deserializedError = new Error();\n  Object.keys(obj).forEach(function (key) {\n    return deserializedError[key] = obj[key];\n  });\n  return deserializedError;\n};\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodNames Names of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\n\n\nvar connectCallSender = function connectCallSender(callSender, info, methodNames, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call sender\"));\n\n  var createMethodProxy = function createMethodProxy(methodName) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      log(\"\".concat(localName, \": Sending \").concat(methodName, \"() call\"));\n\n      if (destroyed) {\n        var error = new Error(\"Unable to send \".concat(methodName, \"() call due \") + \"to destroyed connection\");\n        error.code = ERR_CONNECTION_DESTROYED;\n        throw error;\n      }\n\n      return new Penpal.Promise(function (resolve, reject) {\n        var id = generateId();\n\n        var handleMessageEvent = function handleMessageEvent(event) {\n          if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === REPLY && event.data.id === id) {\n            log(\"\".concat(localName, \": Received \").concat(methodName, \"() reply\"));\n            local.removeEventListener(MESSAGE, handleMessageEvent);\n            var returnValue = event.data.returnValue;\n\n            if (event.data.returnValueIsError) {\n              returnValue = deserializeError(returnValue);\n            }\n\n            (event.data.resolution === FULFILLED ? resolve : reject)(returnValue);\n          }\n        };\n\n        local.addEventListener(MESSAGE, handleMessageEvent);\n        remote.postMessage({\n          penpal: CALL,\n          id: id,\n          methodName: methodName,\n          args: args\n        }, remoteOrigin);\n      });\n    };\n  };\n\n  destructionPromise.then(function () {\n    destroyed = true;\n  });\n  methodNames.reduce(function (api, methodName) {\n    api[methodName] = createMethodProxy(methodName);\n    return api;\n  }, callSender);\n};\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n * @param {Object} info Information about the local and remote windows.\n * @param {Object} methods The keys are the names of the methods that can be called by the remote\n * while the values are the method functions.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Function} A function that may be called to disconnect the receiver.\n */\n\n\nvar connectCallReceiver = function connectCallReceiver(info, methods, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call receiver\"));\n\n  var handleMessageEvent = function handleMessageEvent(event) {\n    if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === CALL) {\n      var _event$data = event.data,\n          methodName = _event$data.methodName,\n          args = _event$data.args,\n          id = _event$data.id;\n      log(\"\".concat(localName, \": Received \").concat(methodName, \"() call\"));\n\n      if (methodName in methods) {\n        var createPromiseHandler = function createPromiseHandler(resolution) {\n          return function (returnValue) {\n            log(\"\".concat(localName, \": Sending \").concat(methodName, \"() reply\"));\n\n            if (destroyed) {\n              // It's possible to throw an error here, but it would need to be thrown asynchronously\n              // and would only be catchable using window.onerror. This is because the consumer\n              // is merely returning a value from their method and not calling any function\n              // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n              // the value of doing so is questionable. Instead, we'll just log a message.\n              log(\"\".concat(localName, \": Unable to send \").concat(methodName, \"() reply due to destroyed connection\"));\n              return;\n            }\n\n            var message = {\n              penpal: REPLY,\n              id: id,\n              resolution: resolution,\n              returnValue: returnValue\n            };\n\n            if (resolution === REJECTED && returnValue instanceof Error) {\n              message.returnValue = serializeError(returnValue);\n              message.returnValueIsError = true;\n            }\n\n            try {\n              remote.postMessage(message, remoteOrigin);\n            } catch (err) {\n              // If a consumer attempts to send an object that's not cloneable (e.g., window),\n              // we want to ensure the receiver's promise gets rejected.\n              if (err.name === DATA_CLONE_ERROR) {\n                remote.postMessage({\n                  penpal: REPLY,\n                  id: id,\n                  resolution: REJECTED,\n                  returnValue: serializeError(err),\n                  returnValueIsError: true\n                }, remoteOrigin);\n              }\n\n              throw err;\n            }\n          };\n        };\n\n        new Penpal.Promise(function (resolve) {\n          return resolve(methods[methodName].apply(methods, args));\n        }).then(createPromiseHandler(FULFILLED), createPromiseHandler(REJECTED));\n      }\n    }\n  };\n\n  local.addEventListener(MESSAGE, handleMessageEvent);\n  destructionPromise.then(function () {\n    destroyed = true;\n    local.removeEventListener(MESSAGE, handleMessageEvent);\n  });\n};\n/**\n * @typedef {Object} Child\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {HTMLIframeElement} iframe The created iframe element.\n * @property {Function} destroy A method that, when called, will remove the iframe element from\n * the DOM and clean up event listeners.\n */\n\n/**\n * Creates an iframe, loads a webpage into the URL, and attempts to establish communication with\n * the iframe.\n * @param {Object} options\n * @param {string} options.url The URL of the webpage that should be loaded into the created iframe.\n * @param {HTMLElement} [options.appendTo] The container to which the iframe should be appended.\n * @param {Object} [options.methods={}] Methods that may be called by the iframe.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the child to respond before rejecting the connection promise.\n * @return {Child}\n */\n\n\nPenpal.connectToChild = function (_ref2) {\n  var url = _ref2.url,\n      appendTo = _ref2.appendTo,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      timeout = _ref2.timeout;\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var parent = window;\n  var iframe = document.createElement('iframe');\n  (appendTo || document.body).appendChild(iframe);\n  connectionDestructionPromise.then(function () {\n    if (iframe.parentNode) {\n      iframe.parentNode.removeChild(iframe);\n    }\n  });\n  var child = iframe.contentWindow || iframe.contentDocument.parentWindow;\n  var childOrigin = getOriginFromUrl(url);\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to child timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    } // We resolve the promise with the call sender. If the child reconnects (for example, after\n    // refreshing or navigating to another page that uses Penpal, we'll update the call sender\n    // with methods that match the latest provided by the child.\n\n\n    var callSender = {};\n    var receiverMethodNames;\n    var destroyCallReceiver;\n\n    var handleMessage = function handleMessage(event) {\n      if (event.source === child && event.origin === childOrigin && event.data.penpal === HANDSHAKE) {\n        log('Parent: Received handshake, sending reply');\n        event.source.postMessage({\n          penpal: HANDSHAKE_REPLY,\n          methodNames: Object.keys(methods)\n        }, event.origin);\n        var info = {\n          localName: 'Parent',\n          local: parent,\n          remote: child,\n          remoteOrigin: event.origin\n        }; // If the child reconnected, we need to destroy the previous call receiver before setting\n        // up a new one.\n\n        if (destroyCallReceiver) {\n          destroyCallReceiver();\n        } // When this promise is resolved, it will destroy the call receiver (stop listening to\n        // method calls from the child) and delete its methods off the call sender.\n\n\n        var callReceiverDestructionPromise = new DestructionPromise(function (resolveCallReceiverDestructionPromise) {\n          connectionDestructionPromise.then(resolveCallReceiverDestructionPromise);\n          destroyCallReceiver = resolveCallReceiverDestructionPromise;\n        });\n        connectCallReceiver(info, methods, callReceiverDestructionPromise); // If the child reconnected, we need to remove the methods from the previous call receiver\n        // off the sender.\n\n        if (receiverMethodNames) {\n          receiverMethodNames.forEach(function (receiverMethodName) {\n            delete callSender[receiverMethodName];\n          });\n        }\n\n        receiverMethodNames = event.data.methodNames;\n        connectCallSender(callSender, info, receiverMethodNames, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    parent.addEventListener(MESSAGE, handleMessage);\n    connectionDestructionPromise.then(function () {\n      parent.removeEventListener(MESSAGE, handleMessage);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Parent: Loading iframe');\n    iframe.src = url;\n  });\n  return {\n    promise: promise,\n    iframe: iframe,\n    destroy: destroy\n  };\n};\n/**\n * @typedef {Object} Parent\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n */\n\n/**\n * Attempts to establish communication with the parent window.\n * @param {Object} options\n * @param {string} [options.parentOrigin=*] Valid parent origin used to restrict communication.\n * @param {Object} [options.methods={}] Methods that may be called by the parent window.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the parent to respond before rejecting the connection promise.\n * @return {Parent}\n */\n\n\nPenpal.connectToParent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$parentOrigin = _ref3.parentOrigin,\n      parentOrigin = _ref3$parentOrigin === void 0 ? '*' : _ref3$parentOrigin,\n      _ref3$methods = _ref3.methods,\n      methods = _ref3$methods === void 0 ? {} : _ref3$methods,\n      timeout = _ref3.timeout;\n\n  if (window === window.top) {\n    var error = new Error('connectToParent() must be called within an iframe');\n    error.code = ERR_NOT_IN_IFRAME;\n    throw error;\n  }\n\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var child = window;\n  var parent = child.parent;\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to parent timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    }\n\n    var handleMessageEvent = function handleMessageEvent(event) {\n      if ((parentOrigin === '*' || parentOrigin === event.origin) && event.source === parent && event.data.penpal === HANDSHAKE_REPLY) {\n        log('Child: Received handshake reply');\n        child.removeEventListener(MESSAGE, handleMessageEvent);\n        var info = {\n          localName: 'Child',\n          local: child,\n          remote: parent,\n          remoteOrigin: event.origin\n        };\n        var callSender = {};\n        connectCallReceiver(info, methods, connectionDestructionPromise);\n        connectCallSender(callSender, info, event.data.methodNames, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    child.addEventListener(MESSAGE, handleMessageEvent);\n    connectionDestructionPromise.then(function () {\n      child.removeEventListener(MESSAGE, handleMessageEvent);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Child: Sending handshake');\n    parent.postMessage({\n      penpal: HANDSHAKE,\n      methodNames: Object.keys(methods)\n    }, parentOrigin);\n  });\n  return {\n    promise: promise,\n    destroy: destroy\n  };\n};\n\nvar _default = Penpal;\nexports.default = _default;","export function networkAdapter(network, gasRelay) {\n    var networkObj = typeof network === 'string' ? Object.assign({}, networks[network]) : network;\n    if (typeof networkObj !== 'object') {\n        throw new Error(\"[Portis] illegal 'network' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n    }\n    if (!networkObj.nodeUrl) {\n        throw new Error(\"[Portis] 'nodeUrl' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n    }\n    if (gasRelay && !networkObj.gasRelayHubAddress) {\n        throw new Error(\"[Portis] can't find default gas relay hub for \" + network);\n    }\n    if (typeof network === 'string' && !gasRelay) {\n        delete networkObj.gasRelayHubAddress;\n    }\n    return networkObj;\n}\nvar networks = {\n    mainnet: {\n        nodeUrl: 'https://mainnet.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '1',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    ropsten: {\n        nodeUrl: 'https://ropsten.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '3',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    rinkeby: {\n        nodeUrl: 'https://rinkeby.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '4',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    goerli: {\n        nodeUrl: 'https://goerli.prylabs.net',\n        chainId: '5',\n    },\n    ubiq: {\n        nodeUrl: 'https://rpc1.ubiqscan.io',\n        chainId: '8',\n    },\n    thundercoreTestnet: {\n        nodeUrl: 'https://testnet-rpc.thundercore.com:8544',\n        chainId: '18',\n    },\n    orchid: {\n        nodeUrl: 'https://public-node.rsk.co',\n        chainId: '30',\n    },\n    orchidTestnet: {\n        nodeUrl: 'https://public-node.testnet.rsk.co',\n        chainId: '31',\n    },\n    kovan: {\n        nodeUrl: 'https://kovan.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '42',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    classic: {\n        nodeUrl: 'https://ethereumclassic.network',\n        chainId: '61',\n    },\n    sokol: {\n        nodeUrl: 'https://sokol.poa.network',\n        chainId: '77',\n    },\n    core: {\n        nodeUrl: 'https://core.poa.network',\n        chainId: '99',\n    },\n    xdai: {\n        nodeUrl: 'https://dai.poa.network',\n        chainId: '100',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    thundercore: {\n        nodeUrl: 'https://mainnet-rpc.thundercore.com',\n        chainId: '108',\n    },\n    fuse: {\n        nodeUrl: 'https://rpc.fusenet.io',\n        chainId: '122',\n    },\n    lightstreams: {\n        nodeUrl: 'https://node.mainnet.lightstreams.io',\n        chainId: '163',\n    },\n    maticAlpha: {\n        nodeUrl: 'https://alpha.ethereum.matic.network',\n        chainId: '4626',\n    },\n    maticTestnet: {\n        nodeUrl: 'https://testnet2.matic.network',\n        chainId: '8995',\n    },\n};\n//# sourceMappingURL=networks.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _a = require('ethereumjs-util'), addHexPrefix = _a.addHexPrefix, stripHexPrefix = _a.stripHexPrefix, BN = _a.BN;\nvar SIMPLE_GAS_COST = '0x5208'; // Hex for 21000, cost of a simple send.\nexport function getTxGas(query, txParams) {\n    return __awaiter(this, void 0, void 0, function () {\n        var block, _a, safeGas, simpleSend, gasLimitSpecified, gas, error_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0: return [4 /*yield*/, query.getBlockByNumber('latest', false)];\n                case 1:\n                    block = _b.sent();\n                    return [4 /*yield*/, safeTxGas(query, txParams, block.gasLimit)];\n                case 2:\n                    _a = _b.sent(), safeGas = _a.safeGas, simpleSend = _a.simpleSend, gasLimitSpecified = _a.gasLimitSpecified;\n                    if (simpleSend || gasLimitSpecified) {\n                        return [2 /*return*/, safeGas];\n                    }\n                    _b.label = 3;\n                case 3:\n                    _b.trys.push([3, 5, , 6]);\n                    return [4 /*yield*/, estimateTxGas(query, txParams, block.gasLimit, safeGas)];\n                case 4:\n                    gas = _b.sent();\n                    return [2 /*return*/, gas];\n                case 5:\n                    error_1 = _b.sent();\n                    return [2 /*return*/, safeGas];\n                case 6: return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction safeTxGas(query, txParams, blockGasLimitHex) {\n    return __awaiter(this, void 0, void 0, function () {\n        var gasLimitSpecified, recipient, hasRecipient, code, codeIsEmpty, err, blockGasLimitBN, saferGasLimitBN;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    gasLimitSpecified = Boolean(txParams.gas);\n                    // if it is, use that value\n                    if (gasLimitSpecified) {\n                        return [2 /*return*/, { safeGas: txParams.gas, simpleSend: false, gasLimitSpecified: true }];\n                    }\n                    recipient = txParams.to;\n                    hasRecipient = Boolean(recipient);\n                    if (!hasRecipient) return [3 /*break*/, 2];\n                    return [4 /*yield*/, query.getCode(recipient)];\n                case 1:\n                    code = _a.sent();\n                    codeIsEmpty = !code || code === '0x' || code === '0x0';\n                    if (codeIsEmpty) {\n                        // if there's data in the params, but there's no contract code, it's not a valid transaction\n                        if (txParams.data) {\n                            err = new Error('Trying to call a function on a non-contract address');\n                            throw err;\n                        }\n                        // This is a standard ether simple send, gas requirement is exactly 21k\n                        return [2 /*return*/, { safeGas: SIMPLE_GAS_COST, simpleSend: true, gasLimitSpecified: false }];\n                    }\n                    _a.label = 2;\n                case 2:\n                    blockGasLimitBN = hexToBn(blockGasLimitHex);\n                    saferGasLimitBN = BnMultiplyByFraction(blockGasLimitBN, 19, 20);\n                    return [2 /*return*/, { safeGas: bnToHex(saferGasLimitBN), simpleSend: false, gasLimitSpecified: false }];\n            }\n        });\n    });\n}\nfunction estimateTxGas(query, txParams, blockGasLimitHex, safeGas) {\n    return __awaiter(this, void 0, void 0, function () {\n        var estimatedGas, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    txParams.gas = safeGas;\n                    _a = addHexPrefix;\n                    return [4 /*yield*/, query.estimateGas(txParams)];\n                case 1:\n                    estimatedGas = _a.apply(void 0, [_b.sent()]);\n                    return [2 /*return*/, addGasBuffer(estimatedGas, blockGasLimitHex)];\n            }\n        });\n    });\n}\nfunction addGasBuffer(initialGasLimitHex, blockGasLimitHex) {\n    var initialGasLimitBn = hexToBn(initialGasLimitHex);\n    var blockGasLimitBn = hexToBn(blockGasLimitHex);\n    var upperGasLimitBn = blockGasLimitBn.muln(0.9);\n    var bufferedGasLimitBn = initialGasLimitBn.muln(1.5);\n    // if initialGasLimit is above blockGasLimit, dont modify it\n    if (initialGasLimitBn.gt(upperGasLimitBn))\n        return bnToHex(initialGasLimitBn);\n    // if bufferedGasLimit is below blockGasLimit, use bufferedGasLimit\n    if (bufferedGasLimitBn.lt(upperGasLimitBn))\n        return bnToHex(bufferedGasLimitBn);\n    // otherwise use blockGasLimit\n    return bnToHex(upperGasLimitBn);\n}\nfunction hexToBn(inputHex) {\n    return new BN(stripHexPrefix(inputHex), 16);\n}\nfunction bnToHex(inputBn) {\n    return addHexPrefix(inputBn.toString(16));\n}\nfunction BnMultiplyByFraction(targetBN, numerator, denominator) {\n    var numBN = new BN(numerator);\n    var denomBN = new BN(denominator);\n    return targetBN.mul(numBN).div(denomBN);\n}\n//# sourceMappingURL=getTxGas.js.map","var Query = /** @class */ (function () {\n    function Query(provider) {\n        this.provider = provider;\n    }\n    Query.prototype.getBlockByNumber = function (blockNumber, fullTransaction) {\n        return this.sendAsync('eth_getBlockByNumber', blockNumber, fullTransaction);\n    };\n    Query.prototype.getCode = function (address, blockNumber) {\n        if (blockNumber === void 0) { blockNumber = 'latest'; }\n        return this.sendAsync('eth_getCode', address, blockNumber);\n    };\n    Query.prototype.estimateGas = function (txParams) {\n        return this.sendAsync('eth_estimateGas', txParams);\n    };\n    Query.prototype.sendAsync = function (methodName) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return new Promise(function (resolve, reject) {\n            _this.provider.sendAsync({\n                id: 42,\n                jsonrpc: '2.0',\n                method: methodName,\n                params: args,\n            }, function (error, response) {\n                if (error) {\n                    reject(error);\n                }\n                else {\n                    resolve(response.result);\n                }\n            });\n        });\n    };\n    return Query;\n}());\nexport { Query };\n//# sourceMappingURL=query.js.map","var loaded = false;\nexport function onWindowLoad() {\n    return new Promise(function (resolve) {\n        if (loaded) {\n            resolve();\n        }\n        else if (['loaded', 'interactive', 'complete'].indexOf(document.readyState) > -1) {\n            loaded = true;\n            resolve();\n        }\n        else {\n            window.addEventListener('load', function () {\n                loaded = true;\n                resolve();\n            }, false);\n        }\n    });\n}\n//# sourceMappingURL=onWindowLoad.js.map","/**\n *\n *\n * @class Blockchain\n */\nclass Blockchain {\n  /**\n   * Creates an instance of Blockchain.\n   * @param {String} name - Blockchain's name.\n   * @param {String} netID - Network identifier.\n   * @memberof Blockchain\n   */\n  constructor(name, netID) {\n    this.name = name;\n    this.netID = netID;\n  }\n  /**\n   *\n   * toJSON\n   * @returns {JSON} - A JSON object.\n   * @memberof Blockchain\n   */\n  toJSON() {\n    return JSON.parse('{ \"name\":\"' + \n    this.name + '\", \"netID\":\"' + \n    this.netID + '\"}')\n  }\n}\n\nmodule.exports = {\n  Blockchain\n}","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","module.exports = require('./lib/axios');","// Url's and Paths    \nconst dispatchNodeURL = \"https://dispatch.pokt.network\";\nconst dispatchPath = \"/v1/dispatch\";\nconst reportPath = \"/v1/report\";\nconst relayPath = \"/v1/relay/\";\n\n\nmodule.exports = {\n    dispatchNodeURL,\n    dispatchPath,\n    reportPath,\n    relayPath\n}","const axios = require('axios');\nconst constants = require(\"../utils/constants.js\");\nconst httpsRequestProtocol = \"https://\";\nconst httpRequestProtocol = \"http://\";\n// Dispatch\n/**\n *\n *\n * @class Node\n */\nclass Node {\n    /**\n     * Creates an instance of Node.\n     * @param {String} network - Network name.\n     * @param {String} netID - Network Identifier.\n     * @param {String} ipPort - Ip and port string (\"10.0.0.1:80\")\n     * @memberof Node\n     */\n    constructor(network, netID, ipPort) {\n        this.network = network;\n        this.netID = netID;\n        var ipPortArr = ipPort.split(\":\");\n        this.ip = ipPortArr[0];\n        this.port = ipPortArr[1];\n        if (ipPort.includes(httpsRequestProtocol) || ipPort.includes(httpRequestProtocol)) {\n            this.ipPort = ipPort;\n        } else {\n            if (this.port === \"443\" || this.port === 443) {\n                this.ipPort = httpsRequestProtocol + ipPort;\n            } else {\n                this.ipPort = httpRequestProtocol + ipPort;\n            }\n        }\n    }\n\n    /**\n     *\n     * Verify if all properties are valid\n     * @returns {boolean} - True or false.\n     * @memberof Node\n     */\n    isValid() {\n        for (var property in this) {\n            if (!this.hasOwnProperty(property) || this[property] == \"\") {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     *\n     * Checks if params are equal to stored properties\n     * @param {String} netID - Network Identifier.\n     * @param {String} network - Network name.\n     * @returns {boolean} - True or false.\n     * @memberof Node\n     */\n    isEqual(netID, network) {\n        if (this.netID == netID.toString() && this.network == network.toString()) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     *\n     * Sends a relay to a service node\n     * @param {Relay} relay - Relay object with the information.\n     * @param {callback} callback - callback handler.\n     * @returns {Object} - Object with the response.\n     * @memberof Node\n     */\n    async sendRelay(relay, callback) {\n        try {\n            const axiosInstance = axios.create({\n                baseURL: this.ipPort,\n                timeout: relay.configuration.requestTimeOut,\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n\n            var response = await axiosInstance.post(constants.relayPath,\n                relay.toJSON()\n            );\n\n            if (response.status == 200 && response.data != null) {\n                var result = response.data;\n\n                if (callback) {\n                    callback(result, null);\n                    return;\n                } else {\n                    return result;\n                }\n            } else {\n                if (callback) {\n                    callback(null, new Error(\"Failed to send relay with error: \" + response.data));\n                    return;\n                } else {\n                    return new Error(\"Failed to send relay with error: \" + response.data);\n                }\n            }\n        } catch (error) {\n            if (callback) {\n                callback(null, new Error(\"Failed to send relay with error: \" + error));\n                return;\n            } else {\n                return new Error(\"Failed to send relay with error: \" + error);\n            }\n        }\n    }\n}\n\nmodule.exports = {\n    Node\n}","const axios = require('axios');\nconst Node = require(\"./node.js\").Node;\nconst constants = require(\"../utils/constants.js\");\n\n// Dispatch\n/**\n *\n *\n * @class Dispatch\n */\nclass Dispatch {\n  /**\n   *Creates an instance of Dispatch.\n   * @param {Configuration} configuration - Configuration object.\n   * @memberof Dispatch\n   */\n  constructor(configuration) {\n    this.configuration = configuration;\n    this.axiosInstance = axios.create({\n      baseURL: constants.dispatchNodeURL,\n      path: constants.dispatchPath,\n      timeout: this.configuration.requestTimeOut,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n  /**\n   *\n   * blockchain object to JSON\n   * @returns {JSON} - JSON Array with the blockchain list.\n   * @memberof Dispatch\n   */\n  blockchainsJSON() {\n    var blockchainArray = []\n    this.configuration.blockchains.forEach(element => {\n      blockchainArray.push(element);\n    });\n    return blockchainArray\n  }\n  /**\n   *\n   * Retrieves a list of service nodes\n   * @param {callback} callback\n   * @returns {Node} - A Node object list.\n   * @memberof Dispatch\n   */\n  async retrieveServiceNodes(callback) {\n    try {\n      var dispatch = this;\n      var response = null;\n\n      response = await this.axiosInstance.post(constants.dispatchPath, {\n        \"DevID\": dispatch.configuration.devID,\n        \"Blockchains\": dispatch.blockchainsJSON()\n      });\n\n      if (response != null && response.status == 200 && response.data != null) {\n        var nodes = this.parseDispatchResponse(response.data);\n\n        if (callback) {\n          callback(nodes, null);\n          return;\n        } else {\n          return nodes;\n        }\n      } else {\n        if (callback) {\n          callback(null, new Error(\"Failed to retrieve service nodes with error: \" + response.data));\n          return;\n        } else {\n          return new Error(\"Failed to retrieve service nodes with error: \" + response.data);\n        }\n      }\n    } catch (err) {\n      if (callback) {\n        callback(null, new Error(\"Failed to retrieve service nodes with error: \" + err));\n        return;\n      } else {\n        return new Error(\"Failed to retrieve service nodes with error: \" + err);\n      }\n    }\n  }\n\n  /**\n   *\n   * Parse the response from the dispatcher\n   * @param {Object} response\n   * @returns {Node} - A Node object list.\n   * @memberof Dispatch\n   */\n  parseDispatchResponse(response) {\n    try {\n      // Variables\n      var nodes = [];\n\n      if (Array.isArray(response)) {\n        // Iterate through the array for different networks results\n        response.forEach(element => {\n          \n          var network = element.name;\n          var netID = element.netid;\n\n          if (element.ips) {\n            // Create a Node object for each item inside the dataKey object, IP:PORT\n            element.ips.forEach(ipPort => {\n              var node = new Node(network, netID, ipPort);\n              nodes.push(node);\n            });\n          }\n        });\n      } else {\n\n        var network = response.name;\n        var netID = response.netid;\n\n        if (response.ips) {\n          // Create a Node object for each item inside the dataKey object, IP:PORT\n          response.ips.forEach(ipPort => {\n            var node = new Node(network, netID, ipPort);\n            nodes.push(node);\n          });\n        }\n\n      }\n      return nodes;\n\n    } catch (error) {\n      return new Error(\"Failed to parsed service nodes with error: \" + error);\n    }\n\n  }\n\n}\n\nmodule.exports = {\n  Dispatch\n}","// Relay\n/**\n *\n *\n * @class Relay\n */\nclass Relay {\n\t/**\n\t * Creates an instance of Relay.\n\t * @param {Blockchain} blockchain - A blockchain object.\n\t * @param {String} netID - Network identifier.\n\t * @param {String} data - Data string.\n\t * @param {Configuration} configuration - Configuration object.\n\t * @memberof Relay\n\t */\n\tconstructor(blockchain, netID, data, configuration) {\n\t\tthis.blockchain = blockchain;\n\t\tthis.netID = netID;\n\t\tthis.data = data;\n\t\tthis.configuration = configuration;\n\t}\n\n\t/**\n\t *\n\t * Parse properties to a JSON Object.\n\t * @returns {JSON} - A JSON Object.\n\t * @memberof Relay\n\t */\n\ttoJSON(){\n\t\treturn {\n\t\t\t\"Blockchain\": this.blockchain,\n\t\t\t\"NetID\": this.netID,\n\t\t\t\"Data\": this.data,\n\t\t\t\"DevID\": this.configuration.devID\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * Verifies if the Relay is valid\n\t * @returns {boolean} - True or false\n\t * @memberof Relay\n\t */\n\tisValid(){\n\t\tfor (var property in this) {\n\t\t\tif (!this.hasOwnProperty(property) || this[property] == \"\") {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n\nmodule.exports = {\n\tRelay\n}","const axios = require('axios');\nconst constants = require(\"../utils/constants.js\");\n\n// Report\n/**\n *\n *\n * @class Report\n */\nclass Report {\n\t/**\n   * Creates an instance of Report.\n   * @param {String} ip - Internet protocol address of the node.\n   * @param {String} message - Message describing the report.\n   * @param {Configuration} configuration - Configuration object.\n   * @memberof Report\n   */\n  constructor(ip, message, configuration) {\n\t\tthis.ip = ip;\n        this.message = message;\n        this.configuration = configuration;\n    }\n    /**\n     *\n\t   * Parse properties to a JSON Object.\n\t   * @returns {JSON} - A JSON Object.\n     * @memberof Report\n     */\n    toJSON(){\n      return {\n        \"IP\": this.ip,\n        \"Message\": this.message\n      }\n    }\n    /**\n     *\n\t   * Verifies if the Report is valid\n\t   * @returns {boolean} - True or false\n     * @memberof Report\n     */\n    isValid(){\n      for (var property in this) {\n        if (!this.hasOwnProperty(property) || this[property] == \"\") {\n          return false;\n        }\n      }\n      return true;\n    }\n    /**\n     *\n     * Sends a report to the dispatcher.\n     * @param {callback} callback\n     * @returns {String} - An string with the result.\n     * @memberof Report\n     */\n    async send(callback){\n        const axiosInstance = axios.create({\n            baseURL: constants.dispatchNodeURL,\n            timeout: this.configuration.requestTimeOut,\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n    \n          var response = await axiosInstance.post(constants.reportPath,\n            this.toJSON()\n          );\n    \n          if (response.status == 200 && response.data != null) {\n            if (callback) {\n              callback(null, response.data);\n              return;\n            }\n            return response.data;\n          } else {\n            if (callback) {\n              callback(new Error(\"Failed to send report with error: \" + response.data));\n              return;\n            }\n            return new Error(\"Failed to send report with error: \" + response.data);\n          }\n    }\n}\n\nmodule.exports = {\n\tReport\n}","// Wallet - Model\nclass Wallet {\n\t/**\n\t * Creates an instance of Wallet.\n\t * @param {String} address - Public Key string.\n\t * @param {String} privateKey - Private Key string.\n\t * @param {String} network - Network name.\n\t * @param {String} networkID - Network Identifier.\n\t * @param {Object} data - Optional data object.\n\t * @memberof Wallet\n\t */\n\tconstructor(address, privateKey, network, networkID, data) {\n\t\tthis.address = address;\n\t\tthis.privateKey = privateKey;\n\t\tthis.network = network;\n\t\tthis.networkID = networkID;\n\t\tthis.data = data;\n\t}\n}\n\nmodule.exports = {\n\tWallet\n}","module.exports = Object.assign(\n        module.exports, \n        require('./blockchain'), \n        require('./dispatch'), \n        require('./node'), \n        require('./relay'),\n        require('./report'),\n        require('./wallet')\n    )","const Models = require(\"./models/index\");\nconst Blockchain = Models.Blockchain;\nconst Dispatch = Models.Dispatch;\nconst Relay = Models.Relay;\nconst Report = Models.Report;\n\n/**\n *\n *\n * @class Configuration\n */\nclass Configuration {\n  /**\n   * Configuration stores settings.\n   * @constructor\n   * @param {string} devID - Unique developer ID.\n   * @param {string} blockchains - Blockchain class type list.\n   * @param {string} maxNodes - (optional) Maximun amount of nodes to store in instance, default 5.\n   * @param {string} requestTimeOut - (optional) Maximun timeout for every request in miliseconds, default 10000.\n   */\n  constructor(devID, blockchains, maxNodes, requestTimeOut) {\n    this.devID = devID;\n    this.blockchains = blockchains;\n    this.maxNodes = maxNodes || 5;\n    this.nodes = [];\n    this.requestTimeOut = requestTimeOut || 10000;\n    this.dispatch = null;\n  }\n  /**\n   * Verify if the nodes list is empty\n   *\n   * @returns {Boolean}\n   * @memberof Configuration\n   */\n  nodesIsEmpty() {\n    if (this.nodes == null || this.nodes.length == 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n/**\n *\n *\n * @class Pocket\n */\nclass Pocket {\n  /**\n   * Creates an instance of Pocket.\n   * @param {Object} opts - Options for the initializer, devID, networkName, netIDs, maxNodes, requestTimeOut.\n   * @memberof Pocket\n   */\n  constructor(opts) {\n    var blockchains = [];\n\n    if (opts.devID == null || opts.networkName == null || opts.netIDs == null) {\n      return new Error(\"Invalid number of arguments\");\n    }\n\n    if (Array.isArray(opts.netIDs)) {\n      opts.netIDs.forEach(element => {\n        var blockchain = new Blockchain(opts.networkName, element);\n        blockchains.push(blockchain.toJSON());\n      });\n    } else {\n      var blockchain = new Blockchain(opts.networkName, opts.netIDs);\n      blockchains.push(blockchain.toJSON());\n    }\n\n    this.configuration = new Configuration(opts.devID, blockchains, opts.maxNodes || 5, opts.requestTimeOut || 10000);\n\n  }\n  /**\n   *\n   * Create a Relay instance\n   * @param {Blockchain} blockchain - Blockchain object.\n   * @param {String} netID - Network Idenfifier.\n   * @param {String} data - String holding the json rpc call.\n   * @returns {Relay} - New Relay instance.\n   * @memberof Pocket\n   */\n  createRelay(blockchain, netID, data) {\n    // Check if data is a json tring\n    if (typeof data == 'string') {\n      return new Relay(blockchain, netID, data, this.configuration); \n    }\n    return new Relay(blockchain, netID, JSON.stringify(data), this.configuration);\n  }\n  /**\n   *\n   * Create a Report instance\n   * @param {String} ip - Internet protocol address.\n   * @param {String} message - Brief description for the report.\n   * @returns {Report} - New Report instance.\n   * @memberof Pocket\n   */\n  createReport(ip, message) {\n    return new Report(ip, message, this.configuration);\n  }\n  /**\n   *\n   * Get a Dispatch instance or creates one\n   * @returns {Dispatch} - New or existing Dispatch instance.\n   * @memberof Pocket\n   */\n  getDispatch() {\n    if (this.dispatch == null) {\n      this.dispatch = new Dispatch(this.configuration);\n    }\n    return this.dispatch;\n  }\n  /**\n   *\n   * Filter nodes by netID and blockchain name\n   * @param {String} netID - Network Idenfifier.\n   * @param {String} network - Network Name.\n   * @returns {Node} - New Node instance.\n   * @memberof Pocket\n   */\n  async getNode(netID, network) {\n    try {\n      var nodes = [];\n\n      if (this.configuration.nodesIsEmpty()) {\n        var response = await this.retrieveNodes();\n\n        if (response instanceof Error == true) {\n          throw response;\n        }else {\n          // Save the nodes to the configuration.\n          this.configuration.nodes = response;\n        }\n      }\n      \n      this.configuration.nodes.forEach(node => {\n        if (node.isEqual(netID, network)) {\n          nodes.push(node);\n        }\n      });\n\n      if (nodes.length <= 0) {\n        return null\n      }\n\n      return nodes[Math.floor(Math.random() * nodes.length)];\n    } catch (error) {\n      return null;\n    }\n  }\n  /**\n   *\n   * Send a report\n   * @param {Report} report - Report instance with the information.\n   * @param {callback} callback - callback handler.\n   * @returns {String} - A String with the response.\n   * @memberof Pocket\n   */\n  async sendReport(report, callback) {\n    try {\n      // Check for report\n      if (report == null) {\n        throw new Error(\"Report is null\");\n      }\n      // Verify all report properties are set\n      if (!report.isValid()) {\n        throw new Error(\"One or more Report properties are empty.\");\n      }\n      // Send Report\n      var response = await report.send();\n      // Response\n      if (response instanceof Error == false) {\n        if (callback) {\n          callback(null, response);\n          return;\n        } else {\n          return response;\n        }\n      } else {\n        if (callback) {\n          callback(response);\n          return;\n        } else {\n          return response;\n        }\n      }\n    } catch (error) {\n      if (callback) {\n        callback(error);\n        return;\n      } else {\n        return error;\n      }\n    }\n  }\n  /**\n   *\n   * Send an already created Relay\n   * @param {Relay} relay - Relay instance with the information.\n   * @param {callback} callback - callback handler.\n   * @returns {String} - A String with the response.\n   * @memberof Pocket\n   */\n  async sendRelay(relay, callback) {\n    try {\n      // Check for relay\n      if (relay == null || relay.data == null) {\n        if (callback) {\n          callback(new Error(\"Relay is null or data field is missing\"));\n          return;\n        } else {\n          return new Error(\"Relay is null or data field is missing\");\n        }\n      }\n      // Verify all relay properties are set\n      if (!relay.isValid()) {\n        if (callback) {\n          callback(new Error(\"Relay is missing a property, please verify all properties.\"));\n          return;\n        } else {\n          return new Error(\"Relay is missing a property, please verify all properties.\");\n        }\n      }\n\n      // Filter nodes for specified blockchain\n      var node = await this.getNode(relay.netID,\n        relay.blockchain);\n\n      if (node == null) {\n        if (callback) {\n          callback(new Error(\"Node is empty.\"));\n          return;\n        } else {\n          return new Error(\"Node is empty.\");\n        }\n      }\n\n      // Send relay\n      var response = await node.sendRelay(relay);\n      // Response\n      if (response instanceof Error == false) {\n        if (callback) {\n          callback(null, response);\n          return;\n        } else {\n          return response;\n        }\n      } else {\n        if (callback) {\n          callback(response);\n          return;\n        } else {\n          return response;\n        }\n      }\n\n    } catch (error) {\n      if (callback) {\n        callback(new Error(\"Failed to send relay with error: \" + error));\n        return;\n      } else {\n        return new Error(\"Failed to send relay with error: \" + error);\n      }\n    }\n\n  }\n  /**\n   *\n   * Retrieve a list of service nodes from the Node Dispatcher\n   * @param {callback} callback\n   * @returns {Node} - A list of Nodes.\n   * @memberof Pocket\n   */\n  async retrieveNodes(callback) {\n    try {\n      var dispatch = this.getDispatch();\n      var nodes = await dispatch.retrieveServiceNodes();\n      \n      if (nodes instanceof Error == false && nodes.length != 0) {\n        // Save the nodes to the configuration.\n        this.configuration.nodes = nodes;\n        // Return a list of nodes\n        if (callback) {\n          callback(null, nodes);\n          return;\n        } else {\n          return nodes;\n        }\n      } else {\n        // Returns an Error;\n        if (callback) {\n          callback(new Error(\"Failed to retrieve a list of nodes.\"), null);\n          return;\n        } else {\n          return new Error(\"Failed to retrieve a list of nodes.\");\n        }\n      }\n\n    } catch (error) {\n      if (callback) {\n        callback(new Error(\"Failed to retrieve a list of nodes with error: \"+error), null);\n        return;\n      } else {\n        return new Error(\"Failed to retrieve a list of nodes with error: \"+error);\n      }\n    }\n  }\n\n}\n\nmodule.exports = Pocket;","const Models = require(\"./models/index\");\nconst Wallet = Models.Wallet;\nconst Relay = Models.Relay;\nconst Pocket = require(\"./pocket\");\n\nmodule.exports = {\n  Pocket,\n  Wallet,\n  Relay\n}","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport ProviderEngine from '@portis/web3-provider-engine';\nimport CacheSubprovider from '@portis/web3-provider-engine/subproviders/cache.js';\nimport FixtureSubprovider from '@portis/web3-provider-engine/subproviders/fixture.js';\nimport FilterSubprovider from '@portis/web3-provider-engine/subproviders/filters.js';\nimport HookedWalletSubprovider from '@portis/web3-provider-engine/subproviders/hooked-wallet.js';\nimport NonceSubprovider from '@portis/web3-provider-engine/subproviders/nonce-tracker.js';\nimport SubscriptionsSubprovider from '@portis/web3-provider-engine/subproviders/subscriptions.js';\nimport Penpal from 'penpal';\nimport { networkAdapter } from './networks';\nimport { getTxGas } from './utils/getTxGas';\nimport { Query } from './utils/query';\nimport { onWindowLoad } from './utils/onWindowLoad';\nimport { styles } from './styles';\nimport { validateSecureOrigin } from './utils/secureOrigin';\nimport PocketJSCore from 'pocket-js-core';\nvar VERSION = '2.0.0-beta.54';\nvar WIDGET_URL = 'https://widget.portis.io';\nvar SUPPORTED_SCOPES = ['email', 'reputation'];\nvar tempCachingIFrame = document.createElement('iframe');\ntempCachingIFrame.style.width = '0';\ntempCachingIFrame.style.height = '0';\ntempCachingIFrame.style.border = 'none';\ntempCachingIFrame.style.position = 'absolute';\ntempCachingIFrame.style.top = '-999px';\ntempCachingIFrame.style.left = '-999px';\ntempCachingIFrame.src = WIDGET_URL;\nonWindowLoad().then(function () {\n    document.body.appendChild(tempCachingIFrame);\n});\nvar Portis = /** @class */ (function () {\n    function Portis(dappId, network, options) {\n        if (options === void 0) { options = {}; }\n        this._widgetUrl = WIDGET_URL;\n        validateSecureOrigin();\n        this._valiadateParams(dappId, network, options);\n        this.config = {\n            dappId: dappId,\n            network: networkAdapter(network, options.gasRelay),\n            version: VERSION,\n            scope: options.scope,\n            registerPageByDefault: options.registerPageByDefault,\n        };\n        this.widget = this._initWidget();\n        this.provider = this._initProvider(options);\n    }\n    Portis.prototype.changeNetwork = function (network, gasRelay) {\n        var newNetwork = networkAdapter(network, gasRelay);\n        this.clearSubprovider(NonceSubprovider);\n        this.clearSubprovider(CacheSubprovider);\n        this.config.network = newNetwork;\n    };\n    Portis.prototype.setDefaultEmail = function (email) {\n        this.config.defaultEmail = email;\n    };\n    Portis.prototype.showPortis = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.showPortis(this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.logout = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.logout()];\n                }\n            });\n        });\n    };\n    Portis.prototype.onLogin = function (callback) {\n        this._onLoginCallback = callback;\n    };\n    Portis.prototype.onLogout = function (callback) {\n        this._onLogoutCallback = callback;\n    };\n    Portis.prototype.onActiveWalletChanged = function (callback) {\n        this._onActiveWalletChangedCallback = callback;\n    };\n    Portis.prototype.onError = function (callback) {\n        this._onErrorCallback = callback;\n    };\n    Portis.prototype.getExtendedPublicKey = function (path, coin) {\n        if (path === void 0) { path = \"m/44'/60'/0'/0/0\"; }\n        if (coin === void 0) { coin = 'Ethereum'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.getExtendedPublicKey(path, coin, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.importWallet = function (mnemonicOrPrivateKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.importWallet(mnemonicOrPrivateKey, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.isLoggedIn = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.isLoggedIn()];\n                }\n            });\n        });\n    };\n    Portis.prototype.signBitcoinTransaction = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.signBitcoinTransaction(params, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.showBitcoinWallet = function (path) {\n        if (path === void 0) { path = \"m/49'/0'/0'/0/0\"; }\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.showBitcoinWallet(path, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype._valiadateParams = function (dappId, network, options) {\n        if (!dappId) {\n            throw new Error(\"[Portis] 'dappId' is required. Get your dappId here: https://dashboard.portis.io\");\n        }\n        if (!network) {\n            throw new Error(\"[Portis] 'network' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n        }\n        if (options.scope) {\n            if (!Array.isArray(options.scope)) {\n                throw new Error(\"[Portis] 'scope' must be an array. Read more about it here: https://docs.portis.io/#/configuration?id=scope\");\n            }\n            var unknownScope = options.scope.filter(function (item) { return SUPPORTED_SCOPES.indexOf(item) < 0; });\n            if (unknownScope.length > 0) {\n                throw new Error(\"[Portis] invalid 'scope' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=scope\");\n            }\n        }\n        if (options.registerPageByDefault !== undefined && typeof options.registerPageByDefault !== 'boolean') {\n            throw new Error(\"[Portis] invalid 'registerPageByDefault' parameter, must be a boolean. Read more about it here: https://docs.portis.io/#/configuration?id=registerPageByDefault\");\n        }\n    };\n    Portis.prototype._initWidget = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var style, container, widgetFrame, connection, communication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, onWindowLoad()];\n                    case 1:\n                        _a.sent();\n                        if (document.body.contains(tempCachingIFrame)) {\n                            document.body.removeChild(tempCachingIFrame);\n                        }\n                        style = document.createElement('style');\n                        style.innerHTML = styles;\n                        container = document.createElement('div');\n                        container.className = 'por_portis-container';\n                        widgetFrame = document.createElement('div');\n                        widgetFrame.id = \"portis-container-\" + Date.now();\n                        widgetFrame.className = 'por_portis-widget-frame';\n                        container.appendChild(widgetFrame);\n                        document.body.appendChild(container);\n                        document.head.appendChild(style);\n                        connection = Penpal.connectToChild({\n                            url: this._widgetUrl,\n                            appendTo: document.getElementById(widgetFrame.id),\n                            methods: {\n                                setHeight: this._setHeight.bind(this),\n                                getWindowSize: this._getWindowSize.bind(this),\n                                onLogin: this._onLogin.bind(this),\n                                onLogout: this._onLogout.bind(this),\n                                onActiveWalletChanged: this._onActiveWalletChanged.bind(this),\n                                onError: this._onError.bind(this),\n                            },\n                        });\n                        connection.iframe.style.position = 'absolute';\n                        connection.iframe.style.height = '100%';\n                        connection.iframe.style.width = '100%';\n                        connection.iframe.style.border = '0 transparent';\n                        return [4 /*yield*/, connection.promise];\n                    case 2:\n                        communication = _a.sent();\n                        communication.retrieveSession(this.config);\n                        return [2 /*return*/, { communication: communication, iframe: connection.iframe, widgetFrame: widgetFrame }];\n                }\n            });\n        });\n    };\n    Portis.prototype._initProvider = function (options) {\n        var _this = this;\n        var engine = new ProviderEngine();\n        var query = new Query(engine);\n        engine.send = function (payload, callback) {\n            // Web3 1.0 beta.38 (and above) calls `send` with method and parameters\n            if (typeof payload === 'string') {\n                return new Promise(function (resolve, reject) {\n                    engine.sendAsync({\n                        jsonrpc: '2.0',\n                        id: 42,\n                        method: payload,\n                        params: callback || [],\n                    }, function (error, response) {\n                        if (error) {\n                            reject(error);\n                        }\n                        else {\n                            resolve(response.result);\n                        }\n                    });\n                });\n            }\n            // Web3 1.0 beta.37 (and below) uses `send` with a callback for async queries\n            if (callback) {\n                engine.sendAsync(payload, callback);\n                return;\n            }\n            var result = null;\n            switch (payload.method) {\n                case 'eth_accounts':\n                    result = _this._selectedAddress ? [_this._selectedAddress] : [];\n                    break;\n                case 'eth_coinbase':\n                    result = _this._selectedAddress ? [_this._selectedAddress] : [];\n                    break;\n                case 'net_version':\n                    result = _this._network;\n                    break;\n                case 'eth_uninstallFilter':\n                    engine.sendAsync(payload, function (_) { return _; });\n                    result = true;\n                    break;\n                default:\n                    var message = \"The Portis Web3 object does not support synchronous methods like \" + payload.method + \" without a callback parameter.\";\n                    throw new Error(message);\n            }\n            return {\n                id: payload.id,\n                jsonrpc: payload.jsonrpc,\n                result: result,\n            };\n        };\n        engine.addProvider(new FixtureSubprovider({\n            web3_clientVersion: \"Portis/v\" + this.config.version + \"/javascript\",\n            net_listening: true,\n            eth_hashrate: '0x00',\n            eth_mining: false,\n            eth_syncing: true,\n        }));\n        engine.addProvider(new CacheSubprovider());\n        engine.addProvider(new SubscriptionsSubprovider());\n        engine.addProvider(new FilterSubprovider());\n        engine.addProvider(new NonceSubprovider());\n        engine.addProvider({\n            setEngine: function (_) { return _; },\n            handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    if (!payload.id) {\n                        payload.id = 42;\n                    }\n                    next();\n                    return [2 /*return*/];\n                });\n            }); },\n        });\n        engine.addProvider(new HookedWalletSubprovider({\n            getAccounts: function (cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            return [4 /*yield*/, widgetCommunication.getAccounts(this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            if (!error && result) {\n                                this._selectedAddress = result[0];\n                            }\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTransaction: function (txParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            return [4 /*yield*/, widgetCommunication.signTransaction(txParams, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signPersonalMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signPersonalMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTypedMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signTypedMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTypedMessageV3: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signTypedMessageV3' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            estimateGas: function (txParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var gas;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, getTxGas(query, txParams)];\n                        case 1:\n                            gas = _a.sent();\n                            cb(null, gas);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            getGasPrice: function (cb) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    cb(null, '');\n                    return [2 /*return*/];\n                });\n            }); },\n        }));\n        if (!options.pocketDevId) {\n            engine.addProvider({\n                setEngine: function (_) { return _; },\n                handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                    var widgetCommunication, _a, error, result;\n                    return __generator(this, function (_b) {\n                        switch (_b.label) {\n                            case 0: return [4 /*yield*/, this.widget];\n                            case 1:\n                                widgetCommunication = (_b.sent()).communication;\n                                return [4 /*yield*/, widgetCommunication.relay(payload, this.config)];\n                            case 2:\n                                _a = _b.sent(), error = _a.error, result = _a.result;\n                                if (payload.method === 'net_version') {\n                                    this._network = result;\n                                    engine.networkVersion = this._network;\n                                }\n                                end(error, result);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); },\n            });\n        }\n        else {\n            var pocket_1 = new PocketJSCore.Pocket({\n                devID: options.pocketDevId,\n                networkName: 'ETH',\n                netIDs: [this.config.network.chainId],\n            });\n            engine.addProvider({\n                setEngine: function (_) { return _; },\n                handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                    var response, result, error;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, pocket_1.sendRelay(new PocketJSCore.Relay('ETH', this.config.network.chainId, JSON.stringify(payload), pocket_1.configuration))];\n                            case 1:\n                                response = _a.sent();\n                                if (response instanceof Error || !response) {\n                                    error = response || new Error('Unknown error');\n                                    result = null;\n                                }\n                                else {\n                                    try {\n                                        result = JSON.parse(response).result;\n                                        error = null;\n                                    }\n                                    catch (e) {\n                                        result = null;\n                                        error = e;\n                                    }\n                                }\n                                if (payload.method === 'net_version') {\n                                    this._network = result;\n                                    engine.networkVersion = this._network;\n                                }\n                                end(error, result);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); },\n            });\n        }\n        engine.enable = function () {\n            return new Promise(function (resolve, reject) {\n                engine.sendAsync({ method: 'eth_accounts' }, function (error, response) {\n                    if (error) {\n                        reject(error);\n                    }\n                    else {\n                        resolve(response.result);\n                    }\n                });\n            });\n        };\n        engine.isConnected = function () {\n            return true;\n        };\n        engine.isPortis = true;\n        engine.on('error', function (error) {\n            if (error && error.message && error.message.includes('PollingBlockTracker')) {\n                console.warn('If you see this warning constantly, there might be an error with your RPC node.');\n            }\n            else {\n                console.error(error);\n            }\n        });\n        engine.start();\n        return engine;\n    };\n    Portis.prototype._setHeight = function (height) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetFrame;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetFrame = (_a.sent()).widgetFrame;\n                        widgetFrame.style.height = height + \"px\";\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Portis.prototype._getWindowSize = function () {\n        var body = document.getElementsByTagName('body')[0];\n        var width = window.innerWidth || document.documentElement.clientWidth || body.clientWidth;\n        var height = window.innerHeight || document.documentElement.clientHeight || body.clientHeight;\n        return { width: width, height: height };\n    };\n    Portis.prototype._onLogin = function (walletAddress, email, reputation) {\n        if (this._onLoginCallback) {\n            this._onLoginCallback(walletAddress, email, reputation);\n        }\n    };\n    Portis.prototype._onLogout = function () {\n        this._selectedAddress = '';\n        if (this._onLogoutCallback) {\n            this._onLogoutCallback();\n        }\n    };\n    Portis.prototype._onActiveWalletChanged = function (walletAddress) {\n        if (this._onActiveWalletChangedCallback) {\n            this._onActiveWalletChangedCallback(walletAddress);\n        }\n    };\n    Portis.prototype._onError = function (error) {\n        if (this._onErrorCallback) {\n            this._onErrorCallback(error);\n        }\n    };\n    Portis.prototype.clearSubprovider = function (subproviderType) {\n        var subprovider = this.provider._providers.find(function (subprovider) { return subprovider instanceof subproviderType; });\n        this.provider.removeProvider(subprovider);\n        this.provider.addProvider(new subproviderType());\n    };\n    return Portis;\n}());\nexport default Portis;\n//# sourceMappingURL=index.js.map","export function validateSecureOrigin() {\n    var isLocalhost = location.hostname === 'localhost' || location.hostname === '127.0.0.1';\n    var isSecureOrigin = location.protocol === 'https:';\n    var isSecure = isLocalhost || isSecureOrigin;\n    if (!isSecure) {\n        throw \"[Portis] Access to the WebCrypto API is restricted to secure origins.\\nIf this is a development environment please use http://localhost:\" + location.port + \" instead.\\nOtherwise, please use an SSL certificate.\";\n    }\n}\n//# sourceMappingURL=secureOrigin.js.map","export var styles = \"\\n.por_portis-container {\\n  position: fixed;\\n  width: 0px;\\n  height: 0px;\\n  top: 0px;\\n  right: 0px;\\n  z-index: 2147483647;\\n}\\n\\n@media (max-width: 576px) {\\n  .por_portis-container {\\n    bottom: 0;\\n    top: auto;\\n  }\\n}\\n\\n.por_portis-widget-frame {\\n  position: fixed;\\n  width: 375px;\\n  height: 0;\\n  top: 20px;\\n  right: 20px;\\n  box-shadow: 0 5px 40px rgba(0,0,0,.16);\\n  border-radius: 8px;\\n  overflow: hidden;\\n  z-index: 2147483000;\\n}\\n\\n@media (max-width: 576px) {\\n  .por_portis-widget-frame {\\n    bottom: 0;\\n    top: auto;\\n    width: 100%;\\n    right: 0;\\n    left: 0;\\n    border-bottom-left-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n}\\n\";\n//# sourceMappingURL=styles.js.map"]},"metadata":{},"sourceType":"module"}