{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/mark.wagner/Dropbox/projects/quic.finance/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"/Users/mark.wagner/Dropbox/projects/quic.finance/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mark.wagner/Dropbox/projects/quic.finance/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mark.wagner/Dropbox/projects/quic.finance/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useEffect,useState,Fragment}from'react';import{Switch,useRouteMatch}from'react-router-dom';import{useWallet}from'use-wallet';import WalletProviderModal from'../../components/WalletProviderModal';import styled from'styled-components';import useModal from'../../hooks/useModal';import Card from'../../components/Card';import CardContent from'../../components/CardContent';import Label from'../../components/Label';import Spacer from'../../components/Spacer';import QuicIcon from'../../components/QuicIcon';import Value from'../../components/Value';import Button from'../../components/Button';import Page from'../../components/Page';import{getBalanceNumber}from'../../utils/formatBalance';import{getQuicSupply,getMasterChefContract,getCap}from'../../quic/utils';import useQuic from'../../hooks/useQuic';import useRunSetup from'../../hooks/useRunSetup';import useMint from'../../hooks/useMint';import useCapUpdate from'../../hooks/useCapUpdate';import useAddPair from'../../hooks/useAddPair';import useAddAuthorized from'../../hooks/useAddAuthorized';import useTransferOwnership from'../../hooks/useTransferOwnership';import MintModal from'./components/MintModal';import CapUpdateModal from'./components/CapUpdateModal';import AddPairModal from'./components/AddPairModal';import AddAuthorizedModal from'./components/AddAuthorizedModal';import TransferOwnershipModal from'./components/TransferOwnershipModal';var Admin=function Admin(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),supplyCap=_useState2[0],setSupplyCap=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),totalSupply=_useState4[0],setTotalSupply=_useState4[1];var _useRouteMatch=useRouteMatch(),path=_useRouteMatch.path;var _useWallet=useWallet(),account=_useWallet.account;var _useModal=useModal(/*#__PURE__*/React.createElement(WalletProviderModal,null)),_useModal2=_slicedToArray(_useModal,1),onPresentWalletProviderModal=_useModal2[0];var quic=useQuic();var chef=getMasterChefContract(quic);var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),pendingTx=_useState6[0],setPendingTx=_useState6[1];var _useRunSetup=useRunSetup(),onRunSetup=_useRunSetup.onRunSetup;var _useMint=useMint(),onMint=_useMint.onMint;var _useCapUpdate=useCapUpdate(),onCapUpdate=_useCapUpdate.onCapUpdate;var _useAddPair=useAddPair(),onAddPair=_useAddPair.onAddPair;var _useAddAuthorized=useAddAuthorized(),onAddAuthorized=_useAddAuthorized.onAddAuthorized;var _useTransferOwnership=useTransferOwnership(),onTransferOwnership=_useTransferOwnership.onTransferOwnership;var _useModal3=useModal(/*#__PURE__*/React.createElement(MintModal,{onConfirm:onMint})),_useModal4=_slicedToArray(_useModal3,1),onPresentMint=_useModal4[0];var _useModal5=useModal(/*#__PURE__*/React.createElement(CapUpdateModal,{onConfirm:onCapUpdate})),_useModal6=_slicedToArray(_useModal5,1),onPresentCapUpdate=_useModal6[0];var _useModal7=useModal(/*#__PURE__*/React.createElement(AddPairModal,{onConfirm:onAddPair})),_useModal8=_slicedToArray(_useModal7,1),onPresentAddPair=_useModal8[0];var _useModal9=useModal(/*#__PURE__*/React.createElement(AddAuthorizedModal,{onConfirm:onAddAuthorized})),_useModal10=_slicedToArray(_useModal9,1),onPresentAddAuthorized=_useModal10[0];var _useModal11=useModal(/*#__PURE__*/React.createElement(TransferOwnershipModal,{onConfirm:onTransferOwnership})),_useModal12=_slicedToArray(_useModal11,1),onPresentTransferOwnership=_useModal12[0];useEffect(function(){function fetchSupplyCap(){return _fetchSupplyCap.apply(this,arguments);}function _fetchSupplyCap(){_fetchSupplyCap=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var supply;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getCap(quic);case 2:supply=_context.sent;setSupplyCap(supply);case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchSupplyCap.apply(this,arguments);}if(quic){fetchSupplyCap();}},[quic,setSupplyCap]);useEffect(function(){function fetchTotalSupply(){return _fetchTotalSupply.apply(this,arguments);}function _fetchTotalSupply(){_fetchTotalSupply=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var supply;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getQuicSupply(quic);case 2:supply=_context2.sent;setTotalSupply(supply);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchTotalSupply.apply(this,arguments);}if(quic){fetchTotalSupply();}},[quic,setTotalSupply]);return/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Page,null,account&&account==='0xf49eA18Ca30372d8A21D9Ee9e33B1fa7efb7AaE5'?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(StyledWrapper,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(StyledBalances,null,/*#__PURE__*/React.createElement(StyledBalance,null,/*#__PURE__*/React.createElement(QuicIcon,null),/*#__PURE__*/React.createElement(Spacer,null),/*#__PURE__*/React.createElement(\"div\",{style:{flex:1}},/*#__PURE__*/React.createElement(Label,{text:\"Quic Supply Cap\"}),/*#__PURE__*/React.createElement(Value,{value:supplyCap?supplyCap.toNumber():'Locked'})))))),/*#__PURE__*/React.createElement(Spacer,null),/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Label,{text:\"Total QUIC Supply\"}),/*#__PURE__*/React.createElement(Value,{value:totalSupply?getBalanceNumber(totalSupply):'Locked'})),/*#__PURE__*/React.createElement(Footnote,null,\"New rewards per block\",/*#__PURE__*/React.createElement(FootnoteValue,null,\"1000 QUIC\"))))),\"Hello Admin\",/*#__PURE__*/React.createElement(\"div\",{style:{alignItems:'center',display:'flex',flex:1,justifyContent:'center'}},/*#__PURE__*/React.createElement(Button,{text:pendingTx?'Setting up ......':'Run Setup',onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setPendingTx(true);_context3.next=3;return onRunSetup();case 3:setPendingTx(false);case 4:case\"end\":return _context3.stop();}}},_callee3);}))}),/*#__PURE__*/React.createElement(StyledActionSpacer,null),/*#__PURE__*/React.createElement(Button,{text:\"Mint\",onClick:onPresentMint}),/*#__PURE__*/React.createElement(StyledActionSpacer,null),/*#__PURE__*/React.createElement(Button,{text:\"Update Cap\",onClick:onPresentCapUpdate}),/*#__PURE__*/React.createElement(Button,{text:\"Add Pair\",onClick:onPresentAddPair}),/*#__PURE__*/React.createElement(Button,{text:\"Add Authorized\",onClick:onPresentAddAuthorized}),/*#__PURE__*/React.createElement(Button,{text:\"Transfer Ownership of Quic Token\",onClick:onPresentTransferOwnership}))):/*#__PURE__*/React.createElement(\"div\",{style:{alignItems:'center',display:'flex',flex:1,justifyContent:'center'}},/*#__PURE__*/React.createElement(Button,{onClick:onPresentWalletProviderModal,text:\"\\uD83D\\uDD13 Unlock Wallet\"}))));};var Footnote=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\tfont-size: 14px;\\n\\tpadding: 8px 20px;\\n\\tcolor: \",\";\\n\\tborder-top: solid 1px \",\";\\n\"])),function(props){return props.theme.color.grey[400];},function(props){return props.theme.color.grey[300];});var FootnoteValue=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n\\tfont-family: 'Roboto Mono', monospace;\\n\\tfloat: right;\\n\"])));var StyledWrapper=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n\\talign-items: center;\\n\\tdisplay: flex;\\n\\t@media (max-width: 768px) {\\n\\t\\twidth: 100%;\\n\\t\\tflex-flow: column nowrap;\\n\\t\\talign-items: stretch;\\n\\t}\\n\"])));var StyledBalances=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\"])));var StyledBalance=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n\\talign-items: center;\\n\\tdisplay: flex;\\n\\tflex: 1;\\n\"])));var StyledActionSpacer=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n\\theight: \",\"px;\\n\\twidth: \",\"px;\\n\"])),function(props){return props.theme.spacing[4];},function(props){return props.theme.spacing[4];});export default Admin;","map":null,"metadata":{},"sourceType":"module"}