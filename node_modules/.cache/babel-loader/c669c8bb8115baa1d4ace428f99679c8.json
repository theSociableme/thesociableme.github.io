{"ast":null,"code":"import { useCallback, useEffect, useState } from 'react';\nimport { BigNumber } from 'bignumber.js';\nimport { useWallet } from 'use-wallet';\nimport { getWethPrice, getQuicPrice } from '../quic/utils';\nimport useLockedEarnings from './useLockedEarnings';\nimport useQuic from './useQuic';\nimport { Console } from 'node:console';\n\nconst useValues = () => {\n  const {\n    account\n  } = useWallet();\n  const quic = useQuic();\n  const locks = useLockedEarnings(); //const wethPriceContract = getWethPriceContract(quic)\n  //const quicPriceContract = getQuicPriceContract(quic)\n\n  const [usrText, setUsrText] = useState(new String());\n  const [quicPrices, setQuicPrices] = useState(new BigNumber(0));\n  const [wethPrices, setWethPrices] = useState(new BigNumber(0));\n  const getInfo = useCallback(async () => {\n    Console.log();\n\n    if (quic) {\n      const wethPriceFun = getWethPrice(quic).then(response => {\n        setWethPrices(response);\n        const quicPriceFun = getQuicPrice(quic).then(response => {\n          setQuicPrices(response);\n          console.log('quicvalues');\n          console.log(response);\n          const currentRate = wethPrices.dividedBy(100000000).dividedBy(quicPrices);\n          const userValue = currentRate.multipliedBy(locks.dividedBy(1000000000000000000));\n          const dailyPrice = userValue.dividedBy(1095).toFormat(2);\n          console.log(dailyPrice + ' dailyPrice');\n          console.log(wethPrices + ' wethprice');\n          console.log(quicPrices + ' quicPrice');\n          const annualPrice = userValue.dividedBy(3).toFormat(2);\n          console.log(annualPrice + ' annual');\n          const wethText = userValue.toFormat(2);\n          const usrText1 = 'Your Locked QUIC is worth approximately $' + wethText + '';\n          setUsrText(usrText1);\n          console.log(usrText);\n        });\n      });\n    }\n  }, [locks, usrText]);\n  useEffect(() => {\n    if (account && quic) {\n      getInfo();\n    }\n  }, [account, quic, locks, usrText]);\n  return usrText.toString();\n};\n\nexport default useValues;","map":{"version":3,"sources":["/Users/mark.wagner/Dropbox/projects/quic.finance/client/src/hooks/useValues.ts"],"names":["useCallback","useEffect","useState","BigNumber","useWallet","getWethPrice","getQuicPrice","useLockedEarnings","useQuic","Console","useValues","account","quic","locks","usrText","setUsrText","String","quicPrices","setQuicPrices","wethPrices","setWethPrices","getInfo","log","wethPriceFun","then","response","quicPriceFun","console","currentRate","dividedBy","userValue","multipliedBy","dailyPrice","toFormat","annualPrice","wethText","usrText1","toString"],"mappings":"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","sourcesContent":["import { useCallback, useEffect, useState } from 'react'\nimport { provider } from 'web3-core'\n\nimport { BigNumber } from 'bignumber.js'\nimport { useWallet } from 'use-wallet'\n\nimport {\n  getWethPrice,\n  getQuicPrice,\n  getWethPriceContract,\n  getQuicPriceContract,\n} from '../quic/utils'\nimport useLockedEarnings from './useLockedEarnings'\nimport useQuic from './useQuic'\nimport useBlock from './useBlock'\nimport { Console } from 'node:console'\n\nconst useValues = () => {\n  const { account }: { account: string } = useWallet()\n  const quic = useQuic()\n  const locks = useLockedEarnings()\n  //const wethPriceContract = getWethPriceContract(quic)\n  //const quicPriceContract = getQuicPriceContract(quic)\n  const [usrText, setUsrText] = useState(new String())\n  const [quicPrices, setQuicPrices] = useState(new BigNumber(0))\n  const [wethPrices, setWethPrices] = useState(new BigNumber(0))\n\n  const getInfo = useCallback(async () => {\n    Console.log()\n    if (quic) {\n      const wethPriceFun = getWethPrice(quic).then((response) => {\n        setWethPrices(response)\n\n        const quicPriceFun = getQuicPrice(quic).then((response) => {\n          setQuicPrices(response)\n          console.log('quicvalues')\n          console.log(response)\n          const currentRate = wethPrices\n            .dividedBy(100000000)\n            .dividedBy(quicPrices)\n          const userValue = currentRate.multipliedBy(\n            locks.dividedBy(1000000000000000000),\n          )\n          const dailyPrice = userValue.dividedBy(1095).toFormat(2)\n          console.log(dailyPrice + ' dailyPrice')\n          console.log(wethPrices + ' wethprice')\n          console.log(quicPrices + ' quicPrice')\n          const annualPrice = userValue.dividedBy(3).toFormat(2)\n          console.log(annualPrice + ' annual')\n          const wethText = userValue.toFormat(2)\n          const usrText1 = 'Your Locked QUIC is worth approximately $' + wethText + ''\n          setUsrText(usrText1)\n          console.log(usrText)\n        })\n      })\n    }\n  }, [locks, usrText])\n\n  useEffect(() => {\n    if (account && quic) {\n      getInfo()\n    }\n  }, [account, quic, locks, usrText])\n\n  return usrText.toString()\n}\n\nexport default useValues\n"]},"metadata":{},"sourceType":"module"}