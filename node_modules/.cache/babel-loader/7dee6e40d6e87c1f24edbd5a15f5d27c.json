{"ast":null,"code":"var _jsxFileName = \"/Users/mark.wagner/Dropbox/projects/quic.finance/client/src/contexts/Modals/Modals.tsx\";\nimport React, { createContext, useCallback, useState } from 'react';\nimport styled from 'styled-components';\nexport const Context = createContext({\n  onPresent: () => {},\n  onDismiss: () => {}\n});\n\nconst Modals = ({\n  children\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [content, setContent] = useState();\n  const [modalKey, setModalKey] = useState();\n  const handlePresent = useCallback((modalContent, key) => {\n    setModalKey(key);\n    setContent(modalContent);\n    setIsOpen(true);\n  }, [setContent, setIsOpen, setModalKey]);\n  const handleDismiss = useCallback(() => {\n    setContent(undefined);\n    setIsOpen(false);\n  }, [setContent, setIsOpen, modalKey]);\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: {\n      content,\n      isOpen,\n      onPresent: handlePresent,\n      onDismiss: handleDismiss\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 3\n    }\n  }, children, isOpen && /*#__PURE__*/React.createElement(StyledModalWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(StyledModalBackdrop, {\n    onClick: handleDismiss,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 6\n    }\n  }), React.isValidElement(content) && React.cloneElement(content, {\n    onDismiss: handleDismiss\n  })));\n};\n\nconst StyledModalWrapper = styled.div`\n\talign-items: center;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\tposition: fixed;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n`;\nconst StyledModalBackdrop = styled.div`\n\tbackground-color: ${props => props.theme.color.grey[600]}aa;\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n`;\nexport default Modals;","map":{"version":3,"sources":["/Users/mark.wagner/Dropbox/projects/quic.finance/client/src/contexts/Modals/Modals.tsx"],"names":["React","createContext","useCallback","useState","styled","Context","onPresent","onDismiss","Modals","children","isOpen","setIsOpen","content","setContent","modalKey","setModalKey","handlePresent","modalContent","key","handleDismiss","undefined","isValidElement","cloneElement","StyledModalWrapper","div","StyledModalBackdrop","props","theme","color","grey"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,WAA/B,EAA4CC,QAA5C,QAA4D,OAA5D;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AASA,OAAO,MAAMC,OAAO,GAAGJ,aAAa,CAAgB;AACnDK,EAAAA,SAAS,EAAE,MAAM,CAAE,CADgC;AAEnDC,EAAAA,SAAS,EAAE,MAAM,CAAE;AAFgC,CAAhB,CAA7B;;AAKP,MAAMC,MAAgB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAC1C,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,EAAtC;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,EAAxC;AAEA,QAAMa,aAAa,GAAGd,WAAW,CAChC,CAACe,YAAD,EAAgCC,GAAhC,KAAiD;AAChDH,IAAAA,WAAW,CAACG,GAAD,CAAX;AACAL,IAAAA,UAAU,CAACI,YAAD,CAAV;AACAN,IAAAA,SAAS,CAAC,IAAD,CAAT;AACA,GAL+B,EAMhC,CAACE,UAAD,EAAaF,SAAb,EAAwBI,WAAxB,CANgC,CAAjC;AASA,QAAMI,aAAa,GAAGjB,WAAW,CAAC,MAAM;AACvCW,IAAAA,UAAU,CAACO,SAAD,CAAV;AACAT,IAAAA,SAAS,CAAC,KAAD,CAAT;AACA,GAHgC,EAG9B,CAACE,UAAD,EAAaF,SAAb,EAAwBG,QAAxB,CAH8B,CAAjC;AAKA,sBACC,oBAAC,OAAD,CAAS,QAAT;AACC,IAAA,KAAK,EAAE;AACNF,MAAAA,OADM;AAENF,MAAAA,MAFM;AAGNJ,MAAAA,SAAS,EAAEU,aAHL;AAINT,MAAAA,SAAS,EAAEY;AAJL,KADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQEV,QARF,EASEC,MAAM,iBACN,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,mBAAD;AAAqB,IAAA,OAAO,EAAES,aAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAEEnB,KAAK,CAACqB,cAAN,CAAqBT,OAArB,KACAZ,KAAK,CAACsB,YAAN,CAAmBV,OAAnB,EAA4B;AAC3BL,IAAAA,SAAS,EAAEY;AADgB,GAA5B,CAHF,CAVF,CADD;AAqBA,CAxCD;;AA0CA,MAAMI,kBAAkB,GAAGnB,MAAM,CAACoB,GAAI;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAVA;AAYA,MAAMC,mBAAmB,GAAGrB,MAAM,CAACoB,GAAI;AACvC,qBAAsBE,KAAD,IAAWA,KAAK,CAACC,KAAN,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuB,GAAvB,CAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA,CAPA;AASA,eAAerB,MAAf","sourcesContent":["import React, { createContext, useCallback, useState } from 'react'\nimport styled from 'styled-components'\n\ninterface ModalsContext {\n\tcontent?: React.ReactNode\n\tisOpen?: boolean\n\tonPresent: (content: React.ReactNode, key?: string) => void\n\tonDismiss: () => void\n}\n\nexport const Context = createContext<ModalsContext>({\n\tonPresent: () => {},\n\tonDismiss: () => {},\n})\n\nconst Modals: React.FC = ({ children }) => {\n\tconst [isOpen, setIsOpen] = useState(false)\n\tconst [content, setContent] = useState<React.ReactNode>()\n\tconst [modalKey, setModalKey] = useState<string>()\n\n\tconst handlePresent = useCallback(\n\t\t(modalContent: React.ReactNode, key?: string) => {\n\t\t\tsetModalKey(key)\n\t\t\tsetContent(modalContent)\n\t\t\tsetIsOpen(true)\n\t\t},\n\t\t[setContent, setIsOpen, setModalKey],\n\t)\n\n\tconst handleDismiss = useCallback(() => {\n\t\tsetContent(undefined)\n\t\tsetIsOpen(false)\n\t}, [setContent, setIsOpen, modalKey])\n\n\treturn (\n\t\t<Context.Provider\n\t\t\tvalue={{\n\t\t\t\tcontent,\n\t\t\t\tisOpen,\n\t\t\t\tonPresent: handlePresent,\n\t\t\t\tonDismiss: handleDismiss,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t\t{isOpen && (\n\t\t\t\t<StyledModalWrapper>\n\t\t\t\t\t<StyledModalBackdrop onClick={handleDismiss} />\n\t\t\t\t\t{React.isValidElement(content) &&\n\t\t\t\t\t\tReact.cloneElement(content, {\n\t\t\t\t\t\t\tonDismiss: handleDismiss,\n\t\t\t\t\t\t})}\n\t\t\t\t</StyledModalWrapper>\n\t\t\t)}\n\t\t</Context.Provider>\n\t)\n}\n\nconst StyledModalWrapper = styled.div`\n\talign-items: center;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\tposition: fixed;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n`\n\nconst StyledModalBackdrop = styled.div`\n\tbackground-color: ${(props) => props.theme.color.grey[600]}aa;\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n`\n\nexport default Modals\n"]},"metadata":{},"sourceType":"module"}